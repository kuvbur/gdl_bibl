dim reinforce_class[8]success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_class", reinforce_class)values "arm_class_pod_1" reinforce_classdim diam_temp_1[]call "Список_диаметров" PARAMETERS ALL class=arm_class_pod_1, RETURNED_PARAMETERS diam_temp_1values "arm_diam_pod_1" diam_temp_1if n_used_diam>1 then 	values "arm_class_pod_2" reinforce_class	dim diam_temp_2[]	call "Список_диаметров" PARAMETERS ALL class=arm_class_pod_2, RETURNED_PARAMETERS diam_temp_2	values "arm_diam_pod_2" diam_temp_2else	LOCK "arm_class_pod_2", "arm_diam_pod_2"	hideparameter "arm_class_pod_2", "arm_diam_pod_2"endifif n_used_diam>2 then 	values "arm_class_pod_3" reinforce_class	dim diam_temp_3[]	call "Список_диаметров" PARAMETERS ALL class=arm_class_pod_3, RETURNED_PARAMETERS diam_temp_3	values "arm_diam_pod_3" diam_temp_3else	LOCK "arm_class_pod_3", "arm_diam_pod_3"	hideparameter "arm_class_pod_3", "arm_diam_pod_3"endifif n_used_diam>3 then 	values "arm_class_pod_4" reinforce_class	dim diam_temp_4[]	call "Список_диаметров" PARAMETERS ALL class=arm_class_pod_4, RETURNED_PARAMETERS diam_temp_4	values "arm_diam_pod_4" diam_temp_4else	LOCK "arm_class_pod_4", "arm_diam_pod_4"	hideparameter "arm_class_pod_4", "arm_diam_pod_4"endifdim tarm_type_pod[]dim iarm_type_pod[] : i=0i=i+1 : iarm_type_pod[i]=ARM_KZ : tarm_type_pod[i] = "Каркас змейкой"i=i+1 : iarm_type_pod[i]=ARM_KP3 : tarm_type_pod[i] = "Каркас пространственный с 3 стержнями"i=i+1 : iarm_type_pod[i]=ARM_FROG : tarm_type_pod[i] = "Лягушка"i=i+1 : iarm_type_pod[i]=ARM_KP4 : tarm_type_pod[i] = "Каркас пространственный с 4 стержнями"if arm_constr<>TYPE_SLAB then	i=i+1 : iarm_type_pod[i]=ARM_KSHP : tarm_type_pod[i] = "Шпилька"	i=i+1 : iarm_type_pod[i]=ARM_KPR : tarm_type_pod[i] = "П-шка"endifvalues{2} "arm_type_pod" iarm_type_pod, tarm_type_podif not(is_call) then	dim tarm_constr[]	dim iarm_constr[] : i=0	i=i+1 : iarm_constr[i]=TYPE_SLAB : tarm_constr[i] = "Плита"	i=i+1 : iarm_constr[i]=TYPE_WALL : tarm_constr[i] = "Стена"	i=i+1 : iarm_constr[i]=TYPE_BEAM : tarm_constr[i] = "Балка"	i=i+1 : iarm_constr[i]=TYPE_COLUMN : tarm_constr[i] = "Колонна"	values{2} "arm_constr" iarm_constr, tarm_constr	dim tarm_direction[]	dim iarm_direction[] : i=0	i=i+1 : iarm_direction[i]=1 : tarm_direction[i] = "X"	i=i+1 : iarm_direction[i]=2 : tarm_direction[i] = "Y"	i=i+1 : iarm_direction[i]=3 : tarm_direction[i] = "Z"	values{2} "arm_direction" iarm_direction, tarm_direction	dim tarm_direction_1[]	dim iarm_direction_1[] : i=0	i=i+1 : iarm_direction_1[i]=0 : tarm_direction_1[i] = "Нет"	if arm_direction<>DIR_X then		i=i+1 : iarm_direction_1[i]=DIR_X : tarm_direction_1[i] = "X"	endif	if arm_direction<>DIR_Y then		i=i+1 : iarm_direction_1[i]=DIR_Y : tarm_direction_1[i] = "Y"	endif	if arm_direction<>DIR_Z then		i=i+1 : iarm_direction_1[i]=DIR_Z : tarm_direction_1[i] = "Z"	endif	values{2} "arm_array_1_dir" iarm_direction_1, tarm_direction_1	dim tarm_direction_2[]	dim iarm_direction_2[] : i=0	i=i+1 : iarm_direction_2[i]=0 : tarm_direction_2[i] = "Нет"	if arm_array_1_dir<>DIR_X then		i=i+1 : iarm_direction_2[i]=DIR_X : tarm_direction_2[i] = "X"	endif	if arm_array_1_dir<>DIR_Y then		i=i+1 : iarm_direction_2[i]=DIR_Y : tarm_direction_2[i] = "Y"	endif	if arm_array_1_dir<>DIR_Z then		i=i+1 : iarm_direction_2[i]=DIR_Z : tarm_direction_2[i] = "Z"	endif	values{2} "arm_array_2_dir" iarm_direction_2, tarm_direction_2!	if arm_array_1_dir=0 then LOCK "arm_array_1_step", "arm_array_1_length"!	if arm_array_2_dir=0 then LOCK "arm_array_2_step", "arm_array_2_length"	PARAMETERS arm_length = arm_length : LOCK "arm_length"	PARAMETERS arm_array_1_length = arm_array_1_length : LOCK "arm_array_1_length"	PARAMETERS arm_array_2_length = arm_array_2_length : LOCK "arm_array_2_length"!	LOCK "arm_pod_x", "arm_pod_y", "arm_pod_z"!	hideparameter "arm_pod_x", "arm_pod_y", "arm_pod_z"endifflag = 0if abs(coord_vin[arm_inx][1])<EPS then 	coord_vin[arm_inx][1] = 0.1	flag = 1endifif abs(coord_vin[arm_inx][2])<EPS then	coord_vin[arm_inx][2] = 0.1	flag = 1endifif abs(coord_vin[arm_inx][3])<EPS then 	coord_vin[arm_inx][3] = 0.1	flag = 1endifif abs(coord_vin[arm_inx][4])<EPS then	coord_vin[arm_inx][4] = 0.1	flag = 1endifif coord_vin[arm_inx][1]>(ex+ex_1+ex_2) then	coord_vin[arm_inx][1] = (ex+ex_1+ex_2) * 0.9	flag = 1endifif coord_vin[arm_inx][2]>(ey+ey_1+ey_2) then	coord_vin[arm_inx][2] = (ey+ey_1+ey_2) * 0.9	flag = 1endifif flag then PARAMETERS coord_vin = coord_vin