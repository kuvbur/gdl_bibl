EPS=0.0001SHOW_GOST = 1SHOW_LINE = 2SHOW_SOLID = 3TYPE_SLAB = 1TYPE_WALL = 2TYPE_BEAM = 3TYPE_COLUMN = 4DIR_X = 1DIR_Y = 2DIR_Z = 3if inx_vin<EPS then inx_vin = 1dim arm_name_arr[]nd1 = request("Assoclp_parvalue", "arm_name_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_name_arr)dim tarm_vin_inx[]dim iarm_vin_inx[] : i=0for i=1 to vardim1(arm_name_arr)	iarm_vin_inx[i]=i : tarm_vin_inx[i] = arm_name_arr[i]next ifstr_vin = ""sstr_vin = ""dim arm_layer_arr[] : arm_layer_arr[1] = 0dim arm_plit_arr[] : arm_plit_arr[1] = 0dim arm_fon_arr[] : arm_fon_arr[1] = 0dim arm_direction_arr[] : arm_direction_arr[1] = 0dim arm_constr_arr[] : arm_constr_arr[1] = 0dim subpos_arr[] : subpos_arr[1] = ""dim arm_pos_arr[] : arm_pos_arr[1] = ""dim arm_gnut_arr[] : arm_gnut_arr[1] = 0dim arm_array_2_step_arr[][2] : arm_array_2_step_arr[1][1] = 0dim arm_array_1_step_arr[][2] : arm_array_1_step_arr[1][1] = 0dim arm_array_2_step_arr_t[] : arm_array_2_step_arr_t[1] = 0dim arm_array_1_step_arr_t[] : arm_array_1_step_arr_t[1] = 0dim arm_array_2_dir_arr[] : arm_array_2_dir_arr[1] = 0dim arm_array_1_dir_arr[] : arm_array_1_dir_arr[1] = 0dim arm_class_arr[] : arm_class_arr[1] = ""dim arm_diam_arr[] : arm_diam_arr[1] = 0dim arm_gost_arr[] : arm_gost_arr[1] = ""dim arm_dlin_st_arr[] : arm_dlin_st_arr[1] = 0dim arm_gost_arr[] : arm_gost_arr[1] = ""dim arm_dlin_st_arr[] : arm_dlin_st_arr[1] = 0nd1 = request("Assoclp_parvalue", "arm_pos_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_pos_arr)nd1 = request("Assoclp_parvalue", "subpos_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, subpos_arr)nd1 = request("Assoclp_parvalue", "arm_constr_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_constr_arr)nd1 = request("Assoclp_parvalue", "arm_direction_arrr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_direction_arr)nd1 = request("Assoclp_parvalue", "arm_fon_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_fon_arr)nd1 = request("Assoclp_parvalue", "arm_plit_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_plit_arr)nd1 = request("Assoclp_parvalue", "arm_layer_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_layer_arr)if arm_vin_inx<EPS then arm_vin_inx=1arm_fon = arm_fon_arr[arm_vin_inx]arm_plit = arm_plit_arr[arm_vin_inx]arm_direction = arm_direction_arr[arm_vin_inx]arm_constr = arm_constr_arr[arm_vin_inx]arm_layer = arm_layer_arr[arm_vin_inx]pos = arm_pos_arr[arm_vin_inx]subpos = subpos_arr[arm_vin_inx]show_all_fon = 1success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_all_fon", show_all_fon)if not(show_all_fon) and arm_fon then goto "m_end"show_all_plit = 1success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_all_plit", show_all_plit)if not(show_all_plit) and arm_plit then goto "m_end"show_direction = 0success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_direction", show_direction)if show_direction<>arm_direction and show_direction then goto "m_end"show_constr = 0success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_constr", show_constr)if show_constr<>arm_constr and show_constr then goto "m_end"show_constr = 0success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_constr", show_constr)if show_constr<>arm_constr and show_constr then goto "m_end"show_layer = 0success = LIBRARYGLOBAL ("Libraryflobals-kzh", "show_layer", show_layer)if show_layer<>arm_layer and show_layer then goto "m_end"call "Показ_по_сборкам" PARAMETERS ALL subpos=subpos, pos=pos RETURNED_PARAMETERS show_subpos, show_markerif not(show_subpos*show_marker) then goto "m_end"nd1 = request("Assoclp_parvalue", "arm_diam_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_diam_arr)nd1 = request("Assoclp_parvalue", "arm_class_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_class_arr)nd1 = request("Assoclp_parvalue", "arm_array_1_dir_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_array_1_dir_arr)nd1 = request("Assoclp_parvalue", "arm_array_2_dir_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_array_2_dir_arr)nd1 = request("Assoclp_parvalue", "arm_gnut_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_gnut_arr)nd1 = request("Assoclp_parvalue", "arm_gost_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_gost_arr)nd1 = request("Assoclp_parvalue", "arm_dlin_st_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_dlin_st_arr)nd1 = request("Assoclp_parvalue", "arm_array_1_step_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_array_1_step_arr_t)nd1 = request("Assoclp_parvalue", "arm_array_2_step_arr", namindd1, typed1, flagd1, dim1d1, dim2d1, arm_array_2_step_arr_t)j = 0for i=1 to vardim1(arm_array_1_step_arr_t) step 2	j = j + 1	arm_array_1_step_arr[j][1] = arm_array_1_step_arr_t[i]	arm_array_1_step_arr[j][2] = arm_array_1_step_arr_t[i+1]next ij = 0for i=1 to vardim1(arm_array_2_step_arr_t) step 2	j = j + 1	arm_array_2_step_arr[j][1] = arm_array_2_step_arr_t[i]	arm_array_2_step_arr[j][2] = arm_array_2_step_arr_t[i+1]next iarm_diam = arm_diam_arr[arm_vin_inx]arm_class = arm_class_arr[arm_vin_inx]arm_gnut = arm_gnut_arr[arm_vin_inx]arm_gost = arm_gost_arr[arm_vin_inx]arm_dlin_st = arm_dlin_st_arr[arm_vin_inx]arm_step = max(arm_array_2_step_arr[arm_vin_inx][1], arm_array_1_step_arr[arm_vin_inx][1])if arm_array_1_dir_arr[arm_vin_inx]>EPS and arm_array_2_dir_arr[arm_vin_inx]<EPS then arm_step = arm_array_1_step_arr[arm_vin_inx][1]if arm_array_1_dir_arr[arm_vin_inx]<EPS and arm_array_2_dir_arr[arm_vin_inx]>EPS then arm_step = arm_array_2_step_arr[arm_vin_inx][1]fstr_vin = pos + " " + str("%.0mm", arm_dlin_st)sstr_vin = "d" + str("%.0mm", arm_diam) + arm_class + " шаг " + str("%.0mm", arm_step)call "macro_vin" parameters all, fstr_vin = fstr_vin, sstr_vin = sstr_vin, use_hotspot = 1"m_end":