gosub "set_3d"show_3d_hotspot_t = 1if GLOB_PREVIEW_MODE<>0 or GLOB_FEEDBACK_MODE=1 then show_3d_hotspot_t = 0group "body"	addz det_r_z	if det_mirr then rotz 180	roty det_ang 	hotspot 0,0,0, unID : unID = unID + 1	hotspot 0,-bb/2,0, unID : unID = unID + 1	hotspot 0,bb/2,0, unID : unID = unID + 1	rotx 90	addz -bb/2	for inx=1 to vardim1(tmp_coord)!		if show_3d_hotspot_t then !			hotspot tmp_coord[inx][1],tmp_coord[inx][2],0, unID : unID = unID + 1!			hotspot tmp_coord[inx][1],tmp_coord[inx][2],bb, unID : unID = unID + 1!		endif		PUT tmp_coord[inx][1],tmp_coord[inx][2],15	next inx	PRISM_ NSP/3, bb, GET(NSP)	del topendgroupif det_r_qty=1 then 	placegroup "body"else	dphi = 360/det_r_qty	phi = det_add_angle	for i=1 to det_r_qty		add det_r_c * cos(phi), det_r_c * sin(phi), 0		rotz phi		placegroup "body"		del 2		phi = phi + dphi	next iendifif NSP>0 then tt = max(get(NSP))end"set_3d":	show_subpos=1 : show_marker=1	call "Показ_по_сборкам" PARAMETERS ALL subpos=subpos, pos=pos RETURNED_PARAMETERS show_subpos, show_marker	if not(show_subpos) then end	building_material det_mat	pen gs_cont_pen	sect_attrs{2} gs_cont_penreturn