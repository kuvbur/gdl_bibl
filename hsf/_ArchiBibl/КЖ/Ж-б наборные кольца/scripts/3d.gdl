hotspot 0, 0, 0, unID : unID=unID+1hotspot A/2, 0, 0, unID : unID=unID+1hotspot -A/2, 0, 0, unID : unID=unID+1hotspot A/2, B/2, 0, unID : unID=unID+1hotspot -A/2, -B/2, 0, unID : unID=unID+1hotspot A/2, -B/2, 0, unID : unID=unID+1hotspot -A/2, B/2, 0, unID : unID=unID+1hotspot 0, B/2, 0, unID : unID=unID+1hotspot 0, -B/2, 0, unID : unID=unID+1hotspot A/2, 0, ZZYZX, unID : unID=unID+1hotspot -A/2, 0, ZZYZX, unID : unID=unID+1hotspot A/2, B/2, ZZYZX, unID : unID=unID+1hotspot -A/2, -B/2, ZZYZX, unID : unID=unID+1hotspot A/2, -B/2, ZZYZX, unID : unID=unID+1hotspot -A/2, B/2, ZZYZX, unID : unID=unID+1hotspot 0, B/2, ZZYZX, unID : unID=unID+1hotspot 0, -B/2, ZZYZX, unID : unID=unID+1TOLER 1/1000group "body"	ds = radius_1	ws = tube_thk	ws2 = tube_thk	ds2 = radius_2	gosub "set_form"	building_material mat	pmat = 0 : tmat = 0	bSucceed = request{2} ("Building_Material_info", mat, "gs_bmat_surface", pmat)	tmat = pmat	if n_mat_top>0 then bSucceed = request{2} ("Building_Material_info", mat_top_1, "gs_bmat_surface", tmat)	if NSP>0 then CPRISM_ tmat, tmat, pmat, nsp/3, tube_length, get(NSP)	if STRSTR(naen, "Дорожная плита")>0 then		ds = radius_1		ws = radius_1-radius_2		gosub "put_tube"		if NSP>0 then CPRISM_ tmat, tmat, pmat, nsp/3, tube_length/2, get(NSP)	endif	!=================================== Гидроизоляция =====================================	sect_attrs{2} 1, 1	n_add = 0	tot_th_in = 0 : tot_th_out = 0	!--- Снаружи ---	if n_mat_out>0 then		tot_th = th_out_1*(mat_out_1>0)+th_out_2*(mat_out_2>0)+th_out_3*(mat_out_3>0)+th_out_4*(mat_out_4>0)		tot_th_in = tot_th		if type_elem = WALL or type_elem = WALL_HOLE then			addz -th_layer_down : n_add = n_add + 1			ds = radius_1+tot_th			ws = max(1/1000, tot_th)			h_gidro = tube_length+th_layer_up+th_layer_down		endif		if type_elem = SLABDOWN then			addz -tot_th : n_add = n_add + 1			ds = radius_1			ws = 0			h_gidro = tot_th		endif		if type_elem = SLABUP then			addz tube_length+th_layer_up+th_layer_down : n_add = n_add + 1			ds = radius_1			ws = tube_thk			ws2 = tube_thk			ds2 = radius_2			h_gidro = tot_th		endif		if type_elem = SLABROAD then			addz -tot_th : n_add = n_add + 1			ds = radius_2			h_gidro = tot_th		endif		gosub "set_form"		building_material mat_out_1		bSucceed = request{2} ("Building_Material_info", mat_out_1, "gs_bmat_surface", pmat)		if NSP>0 then CPRISM_ pmat, pmat, pmat, nsp/3, h_gidro, get(NSP)		if n_add>0 then del n_add		n_add = 0	endif	!--- Внутри ---	if n_mat_in>0 then		tot_th = th_in_1*(mat_in_1>0)+th_in_2*(mat_in_2>0)+th_in_3*(mat_in_3>0)+th_in_4*(mat_in_4>0)		tot_th_out = tot_th		if type_elem=WALL or type_elem=WALL_HOLE or type_elem=WALL_HOLE then			addz -th_layer_down : n_add = n_add + 1			ds = radius_1-tube_thk			ws = max(1/1000, tot_th)			h_gidro = tube_length+th_layer_up+th_layer_down		endif		if type_elem = SLABDOWN then			addz tube_length+th_layer_up : n_add = n_add + 1			ds = radius_1			ws = 0			h_gidro = tot_th		endif		if type_elem = SLABUP then			addz -tot_th : n_add = n_add + 1			ds = radius_1			ws = tube_thk			ws2 = tube_thk			ds2 = radius_2			h_gidro = tot_th		endif		if type_elem = SLABROAD then			addz tube_length+th_layer_up : n_add = n_add + 1			ds = radius_1			h_gidro = tot_th		endif		gosub "set_form"		building_material mat_in_1		bSucceed = request{2} ("Building_Material_info", mat_in_1, "gs_bmat_surface", pmat)		if NSP>0 then CPRISM_ pmat, pmat, pmat, nsp/3, h_gidro, get(NSP)		if n_add>0 then del n_add		n_add = 0	endif	!--- Торец ---	if n_mat_top>0 then		tot_th = th_top_1*(mat_top_1>0)+th_top_2*(mat_top_2>0)+th_top_3*(mat_top_3>0)+th_top_4*(mat_top_4>0)		h_gidro = tube_length+th_layer_up+th_layer_down+tot_th_out+tot_th_in		addz -th_layer_down		if type_elem = SLABDOWN or type_elem = SLABUP then			addz -tot_th_in*(type_elem = SLABDOWN)-tot_th_out*(type_elem = SLABUP)			put 0,0,900+jt			put radius_1+tot_th,360,4000+jt			put radius_1,360,4000+jt		endif		if type_elem = SLABROAD then			addz -tot_th_in			put -sh/2-tot_th,-dl/2-tot_th,15			put -sh/2-tot_th,dl/2+tot_th,15			put sh/2+tot_th,dl/2+tot_th,15			put sh/2+tot_th,-dl/2-tot_th,15			put -sh/2-tot_th,-dl/2-tot_th,-1			put -sh/2,-dl/2,jt			put -sh/2,dl/2,jt			put sh/2,dl/2,jt			put sh/2,-dl/2,jt			put -sh/2,-dl/2,-1		endif		building_material mat_top_1		bSucceed = request{2} ("Building_Material_info", mat_top_1, "gs_bmat_surface", pmat)		if NSP>0 then CPRISM_ pmat, pmat, pmat, nsp/3, h_gidro, get(NSP)	endif	del 1	!=========================================================================================		!====================== Цементно-песчаная прослойка ====================================	building_material layer_mat	bSucceed = request{2} ("Building_Material_info", layer_mat, "gs_bmat_surface", pmat)	if type_elem=WALL or type_elem=WALL_HOLE or type_elem=WALL_HOLE then		ds = radius_1		ws = tube_thk	endif	if type_elem=SLABUP then		ds = radius_1		ws = tube_thk		ws2 = tube_thk		ds2 = radius_2	endif	if type_elem=SLABROAD then		ds = radius_1	endif	!--- Сверху ---	if th_layer_up>EPS then		addz tube_length		gosub "set_form"		if NSP>0 then CPRISM_ pmat, pmat, pmat, nsp/3, th_layer_up, get(NSP)		del 1	endif	!--- Снизу ---	if th_layer_down>EPS then		addz -th_layer_down		gosub "set_form"		if NSP>0 then CPRISM_ pmat, pmat, pmat, nsp/3, th_layer_down, get(NSP)		del 1	endif	!=========================================================================================endgroupif type_elem = WALL_HOLE then	group "hole"		roty -90		addz -radius_1-0.3		put -th_layer_down, sh/2,15		put dl+th_layer_down, sh/2,15		put dl+th_layer_down, -sh/2,15		put -th_layer_down, -sh/2,15		if NSP>0 then PRISM_ nsp/3, radius_1*2+0.6, get(NSP)		if STRSTR(naen, "Стеновое кольцо")>0 and STRSTR(naen, "б")>0 then			del 1			rotx 90			addz -radius_1-0.3			put -th_layer_down, radius_2/2,15			put dl+th_layer_down, radius_2/2,15			put dl+th_layer_down, -radius_2/2,15			put -th_layer_down, -radius_2/2,15			if NSP>0 then PRISM_ nsp/3, radius_1*2+0.6, get(NSP)		endif	endgroup	del top	rezult = SUBGROUP("body", "hole") else	rezult = "body"endifplacegroup rezultend"set_form":	jt=1+4+8+2+64	if type_elem=WALL or type_elem=WALL_HOLE or type_elem = SLABDOWN then		gosub "put_tube"	endif	if type_elem=SLABUP then		gosub "put_slabhole"	endif	if type_elem=SLABROAD then		gosub "put_slabroad"	endifreturn"put_tube":	put 0,0,900+jt	put ds,360,4000+jt	if abs(ws)>EPS then put ds-ws,360,4000+jtreturn"put_slabhole":	put 0,0,900+jt	put ds,360,4000+jt	put 0,ws2,900+jt	put ds2,360,4000+jtreturn"put_slabroad":	put -sh/2,-dl/2,15	put -sh/2,dl/2,15	put sh/2,dl/2,15	put sh/2,-dl/2,15	put -sh/2,-dl/2,-1	put 0,0,900+jt	put ds,360,4000+jtreturn