!mep_get_dn_material_in = "ст. 3"!mep_get_dn_dn = 108/1000!call "mep_get_dn" parameters all mep_get_dn_dn=mep_get_dn_dn, mep_get_dn_material_in=mep_get_dn_material_in returned_parameters mep_get_dn_dy, mep_get_dn_ves, mep_get_dn_th, mep_get_dn_material_outMEP_UNKNOW = 0MEP_ST3 = 1MEP_AISI = 2MEP_09G2S = 3MEP_PVC = 4MEP_GSH = 5EPS_DIAM = 0.002flag_find = 0dim tDY[] : tDY[1] = 0dim emp1[] : emp1[1] = 0dim tDN[] : tDN[1] = 0dim tTH[] : tTH[1] = 0dim tves[] : tves[1] = 0tmep_get_dn_dn = 0dim fname_group[] : fname_group[1] = ""fname_group[MEP_ST3] = "ду_ЭСБШ.txt"fname_group[MEP_AISI] = "ду_din.txt"fname_group[MEP_09G2S] = "ду_09Г2С.txt"fname_group[MEP_PVC] = "ду_PVC-U.txt"if strlen(mep_get_dn_material_in)<1 then	call "mep_get_material" parameters all, ConID=ConID returned_parameters mep_get_ma_name, mep_get_ma_ro, mep_get_ma_group	if STRLEN(mep_get_ma_name)>0 then 		mep_get_dn_material_in = mep_get_ma_name		mep_get_dn_material_out = mep_get_ma_name	endifelse	call "mep_get_material" parameters all mep_get_ma_name_in=mep_get_dn_material_in, ConID=ConID returned_parameters mep_get_ma_name, mep_get_ma_ro, mep_get_ma_groupendifif mep_get_ma_group<>MEP_UNKNOW and mep_get_ma_group<=vardim1(fname_group) then	fname = fname_group[mep_get_ma_group]	gosub "read_sort"endifif flag_find = 0 then	mep_get_dn_dy = mep_get_dn_dn	mep_get_dn_th = 0.003	mep_get_dn_ves = 3.1415*(mep_get_dn_dn/2)*(mep_get_dn_dn/2)-3.1415*((mep_get_dn_dn-mep_get_dn_th*2)/2)*(mep_get_dn_dn-mep_get_dn_th*2/2)	mep_get_dn_material_out = "!!!"endifgoto "m_end""read_sort":	!!---------- Чтение файла --------------------	tDY = emp1 : tDN = emp1 : tTH = emp1 : tves = emp1	ch3=OPEN("TEXT", fname,"SEPARATOR=';',MODE=RO,LIBRARY")	i = 2 : in = 1 : n = 1 : j = 1 : v1="": v2="": v3="": v4=""	"nxt":	if n <> -1 then		n=INPUT(ch3,i,1,v1,v2,v3,v4)		if vartype(v2)=1 then			if abs(mep_get_dn_dn-v2/1000)<EPS_DIAM then				n = -1				tmep_get_dn_dn = v2/1000				if vartype(v1) = 1 then 					mep_get_dn_dy = v1/1000					if vartype(v3) = 1 then 						mep_get_dn_th = v3/1000						if vartype(v4) = 1 then							mep_get_dn_ves = v4							flag_find = 1						endif					endif				endif			endif		endif		i = i + 1		goto "nxt"	else		close (ch3)	endifreturn"m_end":end mep_get_dn_dy, mep_get_dn_ves, mep_get_dn_th, mep_get_dn_material_out