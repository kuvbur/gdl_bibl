!-----------Основной---------------------success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis", show_axis)success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis_and", show_axis_and)success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_isol", show_isol)success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_op", show_op)success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_conventions", show_conventions)success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_size", show_size)success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_2D_m",gs_detlevel_2D_m)success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_3D_m", gs_detlevel_3D_m)file_name = "Опора_КП.txt"EPS = 0.00001if op_DN<EPS then op_DN = 108/1000n = REQUEST ("Name_of_main", "", name)is_call = 0 : if name<>"" then is_call = 1dim tDN[]dim tDN_type[]ch1 = open("text", file_name, "separator='\t', mode=ro, LIBRARY")i = 2 : j = 1 : DN = 0 : DN1 = 0n = 1while n <> -1 and i<1000 do	n = input (ch1, i, 1, DN, op_type_)	if vartype(DN)=1 and abs(DN1-DN)>EPS then		DN1 = DN		tDN[j] = DN/1000		if vartype(op_type_)=1 then op_type_ = str("%.0", op_type_)		tDN_type[j] = str("%.0", DN/1000) + op_type_		j = j + 1	endif	i = i + 1endwhileclose ch1inx = 0DN_type = str("%.0", op_DN) + op_typefor i=1 to vardim1(tDN)	if DN_type = tDN_type[i] then		inx = i+1		i = vardim1(tDN_type)	endifnext iif inx > EPS then flag_custom_dn = 0if GLOB_MODPAR_NAME="op_type" or GLOB_MODPAR_NAME="op_DN" or op_ves<EPS or is_call = 1 then	if inx > EPS then		ch1 = open("text", file_name, "separator='\t', mode=ro, LIBRARY")		n = input (ch1, inx, 1,op_DN_, op_type_, op_l_, op_B_, op_h_, op_S_, op_B1_, op_F_, op_mass_, op_P_)		if vartype(op_l_)=1 then op_L = op_l_/1000		if vartype(op_B_)=1 then op_B = op_B_/1000		if vartype(op_h_)=1 then op_h = op_h_/1000		if vartype(op_S_)=1 then op_S = op_S_/1000		if vartype(op_B1_)=1 then op_B1 = op_B1_/1000		if vartype(op_F_)=1 then op_lp = op_F_/1000		if vartype(op_mass_)=1 then op_ves = op_mass_		if vartype(op_P_)=1 then op_Pz = op_P_		close ch1	endifendif!op_DN = 108/1000!!op_type = "А22"!op_h = 150/1000!op_h1 = 165/1000!op_L = 340/1000!op_B = 80/1000!op_S = 3/1000		op_rs = 0.004		op_lp = 60/1000		op_B1 = 220/1000op_type_num = STRSUB(op_type, STRLEN(op_type)-1, 3)op_type_txt = STRSUB(op_type, 1, 1)dz = 0 : if op_type_txt = "Б" then dz = op_rsop_r = op_DN / 2