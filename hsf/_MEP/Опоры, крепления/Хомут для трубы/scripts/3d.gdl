!-----------3d---------------------if show_el < EPS then endif show_op<EPS then endif GLOB_VIEW_TYPE=2 then gs_detlevel_3D_m = gs_detlevel_2D_mif (GLOB_PREVIEW_MODE or GLOB_FEEDBACK_MODE or GLOB_SEO_TOOL_MODE) then gs_detlevel_3D_m = 1IF gs_detlevel_3D_m < EPS THEN ENDCALL "MEP_m_RequestSystemGlobals" PARAMETERS ALL one_ConID=0 returned_parameters gs_cont_pen, sMat, gs_InsMat, MEP_cline_penm2 = "!Краска-15"if show_axis then	pen MEP_cline_penelse	pen gs_cont_penendifresol resshadow offif not(mun_dn) then material sMathotspot 0,0,0hotspot -homut_r,0,0hotspot 0,0,-homut_rhotspot homut_r,0,0hotspot 0,0,homut_rdirAngOnXYPlane = 0if SetProgram then	dZx = -MEP_Position[3][2]*MEP_Position[2][3]+MEP_Position[3][3]*MEP_Position[2][2]	dZy = -MEP_Position[3][3]*MEP_Position[2][1]+MEP_Position[3][1]*MEP_Position[2][3]	dZz = -MEP_Position[3][1]*MEP_Position[2][2]+MEP_Position[3][2]*MEP_Position[2][1]		XFORM   MEP_Position[2][1], MEP_Position[3][1], dZx, MEP_Position[1][1],			MEP_Position[2][2], MEP_Position[3][2], dZy, MEP_Position[1][2],			MEP_Position[2][3], MEP_Position[3][3], dZz, MEP_Position[1][3]	rotx 90	rotz 90	IF ABS(dZz-1) < EPS THEN		 arCosVal = MEP_Position[3][1]/1		IF ABS(arCosVal) > 1 AND SGN(arCosVal) = -1 THEN arCosVal = -1		IF ABS(arCosVal) > 1 AND SGN(arCosVal) = 1 THEN arCosVal = 1		dirAngOnXYPlane = ACS(arCosVal)-90		IF SGN(MEP_Position[3][2]) = -1 THEN dirAngOnXYPlane = 180-dirAngOnXYPlane	ENDIFendifcall "2dmacro" parameters all, type_symb = type_symb, dirAngOnXYPlane = dirAngOnXYPlaneif show_axis then 	hotspot 0,0,0	endendifadd - homut_r - homut_rhom, 0, 0ELBOW homut_r + homut_rhom, 180, homut_rhomdel 1add - homut_r - homut_rhom,0,-homut_l+homut_l1CYLIND homut_l-homut_l1, homut_rhomhotspot 0,0,0addz -homut_l1material m2CYLIND homut_l1, homut_rhomhotspot 0,0,0del 2rotz 180if not(mun_dn) then material sMatif homut_type = "A" or homut_type = "Б" then	add - homut_r - homut_rhom,0,-homut_l+homut_l1	CYLIND homut_l-homut_l1, homut_rhom	hotspot 0,0,0	addz -homut_l1	material m2	CYLIND homut_l1, homut_rhom	hotspot 0,0,0else	homut_l1 = 5/1000	add - homut_r - homut_rhom,0,-homut_l1	CYLIND homut_l1, homut_rhom	hotspot 0,0,0endifdel 1