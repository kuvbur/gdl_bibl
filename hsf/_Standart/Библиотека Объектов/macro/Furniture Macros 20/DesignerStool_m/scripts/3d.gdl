
if gs_detlevel_3D_m = 0 then end
if not (gs_shadow) then shadow off


if gs_detlevel_3D_m = 1 then resol 16

pen gs_cont_pen

unID=1

hotspot a/2,0, 0, unID: unID=unID+1
hotspot a/2,b/2, 0, unID: unID=unID+1

hotspot a/2,0, ZZYZX, unID: unID=unID+1
hotspot a/2,b/2, ZZYZX, unID: unID=unID+1


call "Resize_A_B_ZZYZX" parameters all



mulz zzyzx/0.41
addz 0.312
call "fa_barcelonaCushion" parameters 	A 					= A,
							B 					= B,
							zzyzx 				= 0.098,
							waveZ				= 0.03,
							cushAng 			= 0,
							cutAngle			= 0,
							sectX 				= 4,
							sectY 				= 4,
							mat 				= gs_seat_mat,
							gs_detlevel_3D_m 	= gs_detlevel_3D_m

del 2

mul A/0.64, B/0.60, zzyzx/0.41

aa = 0.64
bb = 0.60
dist = 0.48

add aa/2, bb/2, 0
rotx 90

material gs_frame_mat
addz dist/2		!!! ***** STRUCTURE
gosub 10
del 1

addz -dist/2
mulz -1
gosub 10
del 2

addz -dist/2
for i = -1 to 1 step 2
	mulx i
	put 0.265, 0.298, 10
	if gs_detlevel_3D_m = 2 then
		put 0.289, 0.298, 74
		put 0.29, 0.299, 74
		put 0.29, 0.309, 74
		put 0.289, 0.31, 74
	else
		put 0.29, 0.298, 10
		put 0.29, 0.31, 10
	endif
	put 0.265, 0.31, 15

	prism_ NSP/3, dist,
		get(NSP)

	del 1
next i

if gs_detlevel_3D_m = 2 then		!!! ***** BANDS
	num = 7
	ww = dist/11.5
	wd = (dist-ww*num)/(num-1)
	material gs_seat_mat

	for i = -1 to 1 step 2
		zz = 0
		mulx i
		for j = 1 to num
			addz zz
			put 0.264, 0.297, 1
			if gs_detlevel_3D_m = 2 then
				put 0.29, 0.297, 1
				put 0.291, 0.298, 1
				put 0.291, 0.31, 1
				put 0.29, 0.311, 1
			else
				put 0.291, 0.297, 1
				put 0.291, 0.311, 1
			endif
			put 0.264, 0.311, 1
			put 0.264, 0.297, -1

			extrude NSP/3, 0, 0, ww, 16+32,
				get(NSP)
			del 1
			zz = zz+ww+wd
		next j
		del 1
	next i

	add -0.264, 0.311, 0
	rotx 90
	zz = 0
	for j = 1 to num
		addy zz
		rect 0.528, ww
		del 1
		zz = zz+ww+wd
	next j
	del 2
endif
del 1

del 3

end

10:
	for i = -1 to 1 step 2
		mulx i
			put 0, 0.154605317971, 13
			put 0.005, 0.1527854667997, 79
			put 0.09286972611351, 0.07905401202621, 79
			put 0.3100688390728, 0.3379018352037, 900
			put 0, 40, 4079
			put 0.3100688390728, 0, 79
			if gs_detlevel_3D_m = 2 then
				put 0.319, 0, 79
				put 0.32, 0.001, 79
				put 0.32, 0.011, 79
				put 0.319, 0.012, 79
			else
				put 0.32, 0, 15
				put 0.32, 0.012, 15
			endif
			put 0.3100688390728, 0.012, 79
			put 0.3100688390728, 0.3379018352037, 900
			put 0, -40, 4079
			put 0.1005831774297, 0.08824654534364, 79
			put 0.01529311092413, 0.1598134086916, 79
			put 0.01296157263336, 0.1648134086916, 79
			put 0.01529311092413, 0.1698134086916, 79
			put 0.09757703704115, 0.2388578207482, 79
			put 0.2600688390728, 0.04520763190983, 900
			put 0, -40, 4079
			put 0.2600688390728, 0.298, 79
			put 0.265, 0.298, 76
			if gs_detlevel_3D_m = 2 then
				put 0.289, 0.298, 78
				put 0.29, 0.299, 78
				put 0.29, 0.309, 78
				put 0.289, 0.31, 78
			else
				put 0.29, 0.298, 14
				put 0.29, 0.31, 14
			endif
			put 0.265, 0.31, 79
			put 0.2600688390728, 0.31, 79
			put 0.2600688390728, 0.04520763190983, 900
			put 0, 40, 4079
			put 0.08986358572491, 0.2480503540656, 79
			put 0.004999999999999, 0.1768413505835, 79
			put 0, 0.1750214994121, 8
			put 0, 0.154605317971, -1

		prism_ NSP/3, 0.04,
			get(NSP)

		del 1
	next i
return
