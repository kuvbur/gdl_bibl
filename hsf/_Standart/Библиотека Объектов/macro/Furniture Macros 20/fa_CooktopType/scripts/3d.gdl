

if gs_detlevel_3D_m=0 then END
if gs_detlevel_3D_m=1 then
!	if CooktopType_m=2 OR CooktopType_m=3 THEN CooktopType_m=1
!	if CooktopType_m=5 OR CooktopType_m=6 OR CooktopType_m=7 THEN CooktopType_m=4
!	if CooktopType_m=9 OR CooktopType_m=10 OR CooktopType_m=11 THEN CooktopType_m=8
endif

PEN gs_cont_pen



! ==============================================================================
! ================================= COOKTOPS ===================================
! ==============================================================================

resol gs_resol


c = 0.5
addy -(b-bb)/2
gosub "platte"

if CooktopType_m=2 then gosub 2				! --- 2 - Electric
if CooktopType_m=3 then gosub 3				! --- 2 - Gas
if CooktopType_m=4 then gosub 4				! --- 2 - Gas
if CooktopType_m=6 then gosub 6				! --- 4 - Electric
if CooktopType_m=7 then gosub 7				! --- 4 - Electric
if CooktopType_m=8 then gosub 8				! --- 4 - Gas
if CooktopType_m=9 then gosub 9				! --- 4 - Gas
if CooktopType_m=11 then gosub 11			! --- 5 - Electric
if CooktopType_m=12 then gosub 12			! --- 4 - Electric
if CooktopType_m=13 then gosub 13			! --- 5 - Gas

end nPlates

2:
	rek=0
	narc= 2
	xPlatePos[1]=0		: yPlatePos[1]=-0.277*bb
	xPlatePos[2]=0		: yPlatePos[2]=-0.703*bb
	plateSize[1]=0.42*c	: plateSize[2]=0.29*c

	gosub "circle"
	return

3:
	rek=0
	narc= 2
	xPlatePos[1]=0	: yPlatePos[1]=-bb/4
	xPlatePos[2]=0	: yPlatePos[2]=-bb/4*3+y/10*2
	plateSize[1]=0.36*c	: plateSize[2]=0.29*c
	gosub "rose"
	if bSwitch then
		addy -(b-bb)/2
		add	y/10*2, -bb+y/10*2, thi
		for i = 1 to 2
			gosub "switch"
			addx	-y/10*4
		next i
		del i+1
	endif
	return

4:
	rek=0
	narc= 2
	xPlatePos[1] = -aa/4	        : yPlatePos[1] = -bb/2
	xPlatePos[2] =  aa/4	        : yPlatePos[2] = -bb/2
	plateSize[1] = 0.4*c	        : plateSize[2] = 0.4*c
	gosub "rose"
	return

6:
	rek=0
	narc= 4
	xPlatePos[1]=-0.275*aa	: yPlatePos[1]=-0.225*bb
	xPlatePos[2]=-0.218*aa	: yPlatePos[2]=-0.7*bb
	xPlatePos[3]=0.25*aa	: yPlatePos[3]=-0.264*bb
	xPlatePos[4]=0.285*aa	: yPlatePos[4]=-0.73*bb
	plateSize[1]=0.29*c	: plateSize[2]=0.42*c
	plateSize[3]=0.36*c	: plateSize[4]=0.29*c
	gosub "circle"
	return

7:
	rek=1
	narc= 5
	xPlatePos[1]=-0.285*aa	: yPlatePos[1]=-0.236*bb
	xPlatePos[2]=-0.227*aa	: yPlatePos[2]=-0.681*bb
	xPlatePos[3]=-0.227*aa	: yPlatePos[3]=-0.681*bb
	xPlatePos[4]=0.202*aa	: yPlatePos[4]=-0.246*bb
	xPlatePos[5]=0.253*aa	: yPlatePos[5]=-0.71*bb
	plateSize[1]=0.29*c	: plateSize[2]=0.42*c
	plateSize[3]=0.24*c	: plateSize[4]=0.28*c	: plateSize[5]=0.36*c
	rekx[1]=0.202*aa	: reky[1]=-0.246*bb
	gosub "circle"
	return

8:
	rek=0
	narc= 4
	xPlatePos[1]=-aa/4	: yPlatePos[1]=-0.225*bb
	xPlatePos[2]=-aa/4	: yPlatePos[2]=-0.7*bb
	xPlatePos[3]=aa/4	: yPlatePos[3]=-0.225*bb
	xPlatePos[4]=aa/4	: yPlatePos[4]=-0.65*bb
	plateSize[1]=0.36*c	: plateSize[2]= 0.42*c
	plateSize[3]=0.32*c	: plateSize[4]=0.32*c
	gosub "rose"
	if bSwitch then
		addy -(b-bb)/2
		add	y/10*2, -bb+y/10*2, thi
		for i= 1 to 4
			gosub "switch"
			addx	y/10*3
		next i
		del i+1
	endif
	return

9:
	rek=0
	narc= 4
	xPlatePos[1]=-aa/4	: yPlatePos[1]=-0.25*bb
	xPlatePos[2]=-aa/4	: yPlatePos[2]=-0.75*bb
	xPlatePos[3]=aa/4	: yPlatePos[3]=-0.25*bb
	xPlatePos[4]=aa/4	: yPlatePos[4]=-0.75*bb
	plateSize[1]=0.36*c	: plateSize[2]=0.36*c
	plateSize[3]=0.36*c	: plateSize[4]=0.36*c
	gosub "rose"
	return

11:
	rek=2
	narc= 5
	xPlatePos[1]=-0.331*aa	: yPlatePos[1]=-0.241*bb
	xPlatePos[2]=-0.292*aa	: yPlatePos[2]=-0.682*bb
	xPlatePos[3]=-0.292*aa	: yPlatePos[3]=-0.682*bb
	xPlatePos[4]=0.031*aa	: yPlatePos[4]=-0.236*bb
	xPlatePos[5]=0.0625*aa	: yPlatePos[5]=-0.705*bb
	plateSize[1]=0.29*c	: plateSize[2]=0.24*c
	plateSize[3]=0.42*c	: plateSize[4]=0.28*c	: plateSize[5]=0.36*c
	rekx[1]=0.031*aa	: reky[1]=-0.236*bb
	rekx[2]=0.34*aa	: reky[2]=-0.418*bb
	gosub "circle"
	return

12:
	rek=1
	narc= 5
	xPlatePos[1]=-aa/4.8	    : yPlatePos[1]=-bb/4
	xPlatePos[2]=-aa/3.5		: yPlatePos[2]=-bb/4*2.6
	xPlatePos[3]=-aa/3.5		: yPlatePos[3]=-bb/4*2.6
	xPlatePos[4]= aa/5.5	    : yPlatePos[4]=-bb/4
	xPlatePos[5]= aa/3.5		: yPlatePos[5]=-bb/4*3
	plateSize[1]= 0.29*c	    : plateSize[2]=0.22*c
	plateSize[3]= 0.40*c	    : plateSize[4]=0.28*c       : plateSize[5]=0.36*c
	rekx[1]     = aa/5.5	    : reky[1]     =-bb/4
	gosub "circle"
	return

13:
	rek=0
	narc= 5
	xPlatePos[1]=-0.18*c*2-(aa-(6*0.18*c))/4	: yPlatePos[1]=-bb/4
	xPlatePos[2]=-0.18*c*2-(aa-(6*0.18*c))/4	: yPlatePos[2]=-bb/4*3
	xPlatePos[3]=0.18*c*2+(aa-(6*0.18*c))/4	: yPlatePos[3]=-bb/4
	xPlatePos[4]=0.18*c*2+(aa-(6*0.18*c))/4	: yPlatePos[4]=-bb/4*3
	xPlatePos[5]=0	: yPlatePos[5]=-bb/4
	plateSize[1]=0.42*c	: plateSize[2]=0.36*c
	plateSize[3]=0.42*c	: plateSize[4]=0.36*c
	plateSize[5]=0.36*c
	gosub "rose"

	if bSwitch then
		add	0, -bb+y/10*5, thi
		gosub "switch"
		addx	y/10*3
		gosub "switch"
		addx	-y/10*6
		gosub "switch"
		addy	-y/10*3
		gosub "switch"
		addx	y/10*6
		gosub "switch"
		del 5
	endif
	return


! ==============================================================================
! ============================= Elements and Burners ===========================
! ==============================================================================

"rose":
	for i=1 to narc
		add xPlatePos[i], yPlatePos[i], thi
		r=plateSize[i]/2

		mul (2*r)/0.2, (2*r)/0.2, 1
		MATERIAL gbmat
		ADDz 0.02
		mm=79
		rrr=0.03
		For alf = 0 to 270 step 90
			rotz alf
			PRISM_    13,     .01, 						!!! Burner
				   -0.01455,    -0.040887,     mm,
				   -0,    -0.047547,    900+mm,
					0.0,    -130.8003,   4000+mm,
					0.014546,    -0.040886,     mm,
					0.041612,    -0.1,      mm,
					0.046158,    -0.097919,     mm,
					0.018185,    -0.036816,     mm,
					0.0,    -0.045142,    900+mm,
					0.0,     130.8027,   4000+mm,
				   -0.018184,    -0.036816,      mm,
				   -0.046158,    -0.097919,      mm,
				   -0.041612,    -0.1,      mm,
				   -0.01455,    -0.040887,     -1
			DEL 1
		NEXT alf
		DEL 1
		addz 0.008
		CYLIND .006 ,  rrr
		addz -.008
		Material ghmat
		CONE  0.008,rrr+0.006,rrr, 90,90
		DEL 3

		MATERIAL gbmat
		PRISM_ 22, 0.015,
			-r, -r, 15,
			r, -r, 15,
			r, r, 15,
			-r, r, 15,
			-r, -r, -1,

			-r+0.03, -r+0.005, 13,
			r-0.03, -r+0.005, 13,
			r-0.03, -r+0.03, 900,
			0.025, 90, 4000,
			r-0.005, -r+0.03, 13,
			r-0.005, r-0.03, 13,
			r-0.03, r-0.03, 900,
			0.025, 90, 4000,
			r-0.03, r-0.005, 13,
			-r+0.03, r-0.005, 13,
			-r+0.03, r-0.03, 900,
			0.025, 90, 4000,
			-r+0.005, r-0.03, 13,
			-r+0.005, -r+0.03, 13,
			-r+0.03, -r+0.03, 900,
			0.025, 90, 4000,
			-r+0.03, -r+0.005, -1

		del 1
	next i
	del 1
	return

"circle":
	MATERIAL matarc

	for i=1 to narc					!!! Cook Element
		add xPlatePos[i], yPlatePos[i], thi
		r=plateSize[i]/2
		PRISM_ 14, 0.001,
				-r,			0,      15,
				 0,			0,    900,
				 0,			180,   4001,
				 r,			0,      15,
				 0,			0,    900,
				 0,			180,   4001,
				-r,			0,     -1,
				-(r-0.005),	0,      15,
				 0,			0,    900,
				 0,			180,   4001,
				 r-0.005,	0,      15,
				 0,			0,    900,
				 0,			180,   4001,
				-(r-0.005),	0,     -1
		del 1
	next i
	if rek=1 then
		add rekx[1], reky[1], thi
		PRISM_ 9, 0.001,
				-0.12, -0.06985762592122,      15,
				-0.09433801496772, -0.06985762592122,      15,
				-0.09433801496772, -0.06485762592122,      15,
				-0.115, -0.06485762592122,      15,
				-0.115, 0.06485762592122,      15,
				-0.09433801496772, 0.06485762592122,      15,
				-0.09433801496772, 0.06985762592122,      15,
				-0.12, 0.06985762592122,      15,
				-0.12, -0.06985762592122,      15
		PRISM_ 9, 0.001,
				0.12, -0.06985762592122,      15,
				0.09433801496772, -0.06985762592122,      15,
				0.09433801496772, -0.06485762592122,      15,
				0.115, -0.06485762592122,      15,
				0.115, 0.06485762592122,      15,
				0.09433801496772, 0.06485762592122,      15,
				0.09433801496772, 0.06985762592122,      15,
				0.12, 0.06985762592122,      15,
				0.12, -0.06985762592122,      15
		del 1
	endif
	if rek=2 then
		add rekx[1], reky[1], thi
		PRISM_      34,   0.001,
				-0.1189237746048, -0.08772363479417,      15,
				0.1189237746048, -0.08772363479417,      15,
				0.1189237746048, -0.06572363479417,    900,
						   0,           90,   4001,
				0.1409237746048, -0.06572363479417,      15,
				0.1409237746048, 0.06572363479417,      15,
				0.1189237746048, 0.06572363479417,    900,
						   0,           90,   4001,
				0.1189237746048, 0.08772363479417,      15,
				-0.1189237746048, 0.08772363479417,      15,
				-0.1189237746048, 0.06572363479417,    900,
						   0,           90,   4001,
				-0.1409237746048, 0.06572363479417,      15,
				-0.1409237746048, -0.06572363479417,      15,
				-0.1189237746048, -0.06572363479417,    900,
						   0,           90,   4001,
				-0.1189237746048, -0.08772363479417,     -1,
				-0.1159237746048, 0.08272363479417,      15,
				0.1159237746048, 0.08272363479417,      15,
				0.1159237746048, 0.06272363479417,    900,
						   0,          -90,   4001,
				0.1359237746048, 0.06272363479417,      15,
				0.1359237746048, -0.06272363479417,      15,
				0.1159237746048, -0.06272363479417,    900,
						   0,          -90,   4001,
				0.1159237746048, -0.08272363479417,      15,
				-0.1159237746048, -0.08272363479417,      15,
				-0.1159237746048, -0.06272363479417,    900,
						   0,          -90,   4001,
				-0.1359237746048, -0.06272363479417,      15,
				-0.1359237746048, 0.06272363479417,      15,
				-0.1159237746048, 0.06272363479417,    900,
						   0,          -90,   4001,
				-0.1159237746048, 0.08272363479417,     -1
		del 1
		add rekx[2], reky[2], thi
		PRISM_      34,    0.001,
				-0.08,        0.144,      15,
				-0.08,       -0.144,      15,
				-0.054,       -0.144,    900,
				0,           90,   4001,
				-0.054,        -0.17,      15,
				0.054,        -0.17,      15,
				0.054,       -0.144,    900,
				0,           90,   4001,
				0.08,       -0.144,      15,
				0.08,        0.144,      15,
				0.054,        0.144,    900,
				0,           90,   4001,
				0.054,         0.17,      15,
				-0.054,         0.17,      15,
				-0.054,        0.144,    900,
				0,           90,   4001,
				-0.08,        0.144,     -1,
				-0.049,        0.165,      15,
				0.049,        0.165,      15,
				0.049,        0.139,    900,
				0,          -90,   4001,
				0.075,        0.139,      15,
				0.075,       -0.139,      15,
				0.049,       -0.139,    900,
				0,          -90,   4001,
				0.049,       -0.165,      15,
				-0.049,       -0.165,      15,
				-0.049,       -0.139,    900,
				0,          -90,   4001,
				-0.075,       -0.139,      15,
				-0.075,        0.139,      15,
				-0.049,        0.139,    900,
				0,          -90,   4001,
				-0.049,        0.165,     -1
		del 1
	endif
	return

"platte":

	! ==========================================================================
	! TRAY Plate
	! ==========================================================================

	if bShowHotspots then
		hotspot aa/2, 0, 0
		hotspot aa/2, -bb, 0
		hotspot -aa/2, 0, 0
		hotspot -aa/2, -bb, 0
	endif

	FPRISM_  bmat, bmat, bmat, bmat,
			 5, thi, 10, thi*0.6,
			-aa/2,   0,		15,
			-aa/2, 	-bb,	15,
			 aa/2,	-bb,	15,
			 aa/2,	 0,		15,
			-aa/2,	 0,		15
	return


"switch":
	! ==========================================================================
	! Switches for gas cooktop
	! ==========================================================================

	fprism_ SwitchMat, SwitchMat, SwitchMat, SwitchMat,
			2, th/2/2, 45, th/2/2/2,
			0, 0, 979,
			y/10, 360, 4079
	addz th/2/2
	fprism_ SwitchMat, SwitchMat, SwitchMat, SwitchMat,
			3, th/2, 60, th/3,
			y/30, -y/15, 15,
			0, y/15, 15,
			-y/30, -y/15, 15
	del 1

	return
