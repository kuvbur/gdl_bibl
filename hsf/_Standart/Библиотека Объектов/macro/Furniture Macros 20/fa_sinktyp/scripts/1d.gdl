
EPS = 0.0001

if A < 0.2+EPS then
	A = 0.2
endif

if B < 0.15+EPS then
	B = 0.15
endif

! Sink Taps
if gs_tap_type_m = 1 then tempTapType = 7
if gs_tap_type_m = 2 then tempTapType = 2
if gs_tap_type_m = 3 then tempTapType = 3
if gs_tap_type_m = 4 then tempTapType = 4
if gs_tap_type_m = 5 then tempTapType = 5
if gs_tap_type_m = 6 then tempTapType = 9
if gs_tap_type_m = 7 then tempTapType = 12
if gs_tap_type_m = -1 then tempTapType = -1
if gs_tap_type_m = 0 then tempTapType = 0


! Variables
topThk	= 0.005		! Top plate thickness
thk		= 0.005		! Sink wall thickness
sTop	= 0.1		! Sink Top space
sBot	= 0.05		! Sink Bottom space
sSide	= 0.05		! Sink Side space
sRad	= 0.02		! Sink Radius
sMid	= 0.015		! Sink Middle space
sRed	= 0.05		! Sink Top Reduced+ space

sRate	= 0.62
sRate1	= 0.6
sRate2	= 1-sRate1
sRate3	= 0.75
sRate4	= 1-sRate3
sRate5	= 0.3875
sRate6	= 1-sRate5
sRate7	= (0.575-sMid) / 1.5
sRate8	= (0.925+sMid) / 1.5
sRate9	= (0.4125 - sMid) / 1.5
sRate10	= (0.7625 + sMid) / 1.5
sRate11	= (0.8375 - sMid) / 1.5
sRate12	= (1.0875 + sMid) / 1.5
sRate13	= (0.4 + sMid) / 1.5
sRate14	= (0.475 - sMid) / 1.5
sRate15	= (0.725 + sMid) / 1.5


! Reduced variables
depthScale	 = 1
minSinkWidth = 0.05
if B < 0.3 then
	depthScale = b/0.5
	sTop	= depthScale * sTop
	sBot	= depthScale * sBot
	sRed	= depthScale * sRed
	sSide	= depthScale * sSide
endif

sRad = min(sRad, max(0.01, b-sTop-sBot-sRed-2*EPS))

if gs_sink_type_m=2 then
	sSide= min(sSide, max(0.01, (a-minSinkWidth)/2))
	sRad = min(sRad, max(0.01, (a-2*sSide)/2-EPS))
endif
if gs_sink_type_m=3 then
	sSide= min(sSide, max(0.01, (a-2*minSinkWidth)/2))
	sRad = min(sRad, max(0.01, (a-2*sSide-2*sMid)/4-EPS))
endif
if gs_sink_type_m=4 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a-2*minSinkWidth)/2))
	sRad = min(sRad, max(0.01, (a-2*sSide-2*sMid)/4-EPS))
	sTray = min(sTray, max(0.01, (a*sRate4-0.04)/2))
endif
if gs_sink_type_m=5 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a-2*minSinkWidth)/2))
	sRad = min(sRad, max(0.01, (a-2*sSide-2*sMid)/4-EPS))
	sTray = min(sTray, max(0.01, (a*sRate4-0.04)/2))
endif
if gs_sink_type_m=6 then
	sSide= min(sSide, max(0.01, (a*sRate-minSinkWidth-sMid)/2))
	sRad = min(sRad, max(0.01, (a*(1-sRate)-sSide-sMid)/2-EPS))
endif
if gs_sink_type_m=7 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a*sRate-minSinkWidth-sMid)/2))
	sRad = min(sRad, max(0.01, (a*(1-sRate)-sSide-sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a*(1-sRate)-2*sSide-0.02)/2))
endif
if gs_sink_type_m=8 then
	sSide= min(sSide, max(0.01, (a*(sRate1-sRate2)-minSinkWidth-sMid)/2))
	sMid = sMid * (sSide / 0.05)
	sRad = min(sRad, max(0.01, (a*(sRate1-sRate2)-2*sMid)/2-EPS))
endif
if gs_sink_type_m=9 then
	sTray = 0.035
	sSide= min(sSide, max(0.01, (a*(sRate1-sRate2)-minSinkWidth-sMid)/2))
	sMid = sMid * (sSide / 0.05)
	sRad = min(sRad, max(0.01, (a*(sRate1-sRate2)-2*sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a*sRate2-sSide-sMid)/4))
endif
if gs_sink_type_m=10 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a*sRate5-minSinkWidth-sMid)/2))
	sRad = min(sRad, max(0.01, (a*sRate5-sMid-sSide)/2-EPS))
	sTray = min(sTray, max(0.01, (a*sRate5-sMid-sSide)/4))
endif
if gs_sink_type_m=11 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a*(sRate8-sRate7)-minSinkWidth-2*sMid)/2))
	sRad = min(sRad, max(0.01, (a*(sRate8-sRate7)-2*sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a*sRate7-sSide-sMid)/4))
endif
if gs_sink_type_m=12 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a*(sRate12-sRate11)-minSinkWidth-2*sMid)/2))
	sMid = sMid * (sSide / 0.05)
	sRad = min(sRad, max(0.01, (a*(sRate12-sRate11)-2*sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a*(1-sRate12)-sSide-sMid)/4))
endif
if gs_sink_type_m=13 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a/4-minSinkWidth-2*sMid)/2))
	sMid = sMid * (sSide / 0.05)
	sRad = min(sRad, max(0.01, (a/4-2*sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a/4-sSide-sMid)/4))
endif
if gs_sink_type_m=14 then
	sTray = 0.04
	sSide= min(sSide, max(0.01, (a*(sRate15-sRate14)-minSinkWidth-2*sMid)/2))
	sMid = sMid * (sSide / 0.05)
	sRad = min(sRad, max(0.01, (a*(sRate15-sRate14)-2*sMid)/2-EPS))
	sTray = min(sTray, max(0.01, (a*(1-sRate15)-sSide-sMid)/4))
endif


