
EPS = 0.0001

DET3D_DETAILED				= 2
DET3D_SIMPLE				= 1
DET3D_NONE					= 0

dim stTestTubeRack[4]
	stTestTubeRack[1] = `Нет`
	stTestTubeRack[2] = `Cо Стороны 1`
	stTestTubeRack[3] = `Cо Стороны 2`
	stTestTubeRack[4] = `Обе Стороны`

DRYINGRACK_NONE				= 0
DRYINGRACK_LEFT				= 1
DRYINGRACK_RIGHT			= 2
DRYINGRACK_BOTH				= 3

ARRANGE_MIRR				= 1
ARRANGE_ROT					= 2

REINFORCE_NONE				= 0
REINFORCE_ON				= 1
REINFORCE_CONN_ELEM			= 2

SIDEVIS_NONE				= 0
SIDEVIS_LEFT				= 1
SIDEVIS_RIGHT				= 2
SIDEVIS_BOTH				= 3

shelfWidth 					= tableLength

shelfReinfThk				= 0.012

powerOutletSize				= 0.08
powerOutletThk				= 0.01

powerOutletBackHeight		= 0.12
powerOutletBackThk			= 0.02
powerOutletBackFrontOffset	= 0.03

maxReinforceDist			= 2
iNumReinforce				= INT(tableLength / maxReinforceDist)

bReinforceLeft				= (iReinforceLeft <> REINFORCE_NONE)
bReinforceRight				= (iReinforceRight <> REINFORCE_NONE)

shelfDistVer				= (shelfHeight - shelfFrameThk - iNumShelf * shelfThk - powerOutletBackHeight * bPowerOutletShelf) / (iNumShelf + 1)

reinforceDistHor			= (shelfWidth - shelfFrameThk * NOT(bConnectionLeft) - shelfFrameThk * NOT(bConnectionRight) \
							- shelfReinfThk / 2 * (bConnectionLeft and bReinforceLeft) - shelfReinfThk / 2 * (bConnectionRight and bReinforceRight) - iNumReinforce * shelfReinfThk) / (iNumReinforce + 1)

maxPowerOutletDist			= 0.6
iPowerOutletNum				= MAX(1, INT(reinforceDistHor / maxPowerOutletDist))
powerOutletDist				= reinforceDistHor / iPowerOutletNum

shelfStartPosX				= shelfFrameThk * NOT(bConnectionLeft) + shelfReinfThk / 2 * (bConnectionLeft and bReinforceLeft)

powerOutletStartPosX		= 0.02

bEnableDryingRackLeft		= (iTestTubeRack = DRYINGRACK_LEFT | iTestTubeRack = DRYINGRACK_BOTH) and NOT(bConnectionLeft)
bEnableDryingRackRight		= (iTestTubeRack = DRYINGRACK_RIGHT | iTestTubeRack = DRYINGRACK_BOTH) and NOT(bConnectionRight)

bShow2DLeftEdge				= (side_vis2D_m = SIDEVIS_LEFT | side_vis2D_m = SIDEVIS_BOTH)
bShow2DRightEdge			= (side_vis2D_m = SIDEVIS_RIGHT | side_vis2D_m = SIDEVIS_BOTH)

! ======================================================================
! Backsplash
! ======================================================================

bsplashThkUpper				= 0.015
shelfReinfThk				= 0.012

powerOutletSize				= 0.08
powerOutletThk				= 0.01

bsplashAngle				= ATN(bsplashHeight / (bsplashThk - bsplashThkUpper / 2))

counterRad					= MIN(topThk * 4 / 5, 0.02)

bsplashOv					= counterRad * (iCounterType = 2)

if bDoubleRow then
	bsplashLengthSide		= tableDepth - counterRad * (iCounterType = 2) - shelfDepth / 2 * bShelves
else
	bsplashLengthSide		= tableDepth - counterRad * (iCounterType = 2) - shelfDepth * bShelves
endif

bEnableBsplashLeft			= bsplashLeft and NOT(bConnectionLeft)
bEnableBsplashRight			= bsplashRight and NOT(bConnectionRight)



