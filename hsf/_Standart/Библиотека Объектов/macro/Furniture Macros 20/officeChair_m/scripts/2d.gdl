
if ABS(officeChair_unID - 1) < EPS then
	unID = 1000
else
	unID = officeChair_unID
endif

pen gs_cont_pen
line_type 1
fill gs_fill_type

! ======================================================================
! SCALE
! ======================================================================

call "2dDetailLevel" parameters gs_detlevel_2D_m = gs_detlevel_2D_m,
				returned_parameters det2D

! ======================================================================
! 2D SYMBOL
! ======================================================================

drawindex 20

! ======================================================================
! 1/200, 1/100, Symbolic
! ======================================================================

if det2D = 1 then gs_SymbolType_m = 3	! 1/200
if det2D = 2 then gs_SymbolType_m = 9	! 1/100
if det2D = 1 | det2D = 2 | det2D = 4 then 			! 1/200, 1/100, Symbolic
	call "fa_ChairSymbol" parameters all	calledAsMacro		= bPartOfLayout,
											EditHotspots		= NOT(bPartOfLayout),
											bHideSingleHotspot	= 1,
											gs_hotspotUnIdBegin	= unID,
											returned_parameters officeChair_unID
	unID = officeChair_unID
endif

IF (gs_SymbolType_m = 1 OR gs_SymbolType_m = 2) and NOT(bPartOfLayout) THEN
	IF ABS(A - B) > EPS THEN
		unID = 1
		HOTSPOT2 0, 0, unID : unID = unID + 1
		HOTSPOT2 A, 0, unID : unID = unID + 1
		HOTSPOT2 A, B, unID : unID = unID + 1
		HOTSPOT2 0, B, unID : unID = unID + 1
	ENDIF
ENDIF

! ======================================================================
! 1/50
! ======================================================================

if det2D = 3 then

	! ======================================================================
	! Minimal Space and Hotspots
	! ======================================================================

	if NOT(bPartOfLayout) then
		call "fa_ChairSymbol" parameters all	gs_SymbolType_m		= 0,
												calledAsMacro		= bPartOfLayout,
												EditHotspots		= NOT(bPartOfLayout)
	endif

	! ======================================================================
	! Symbol
	! ======================================================================

	pen gs_cont_pen

	mul2 a/0.6160925782939,b/0.5916612803969
	add2 0.3080462891469, 0.3616612803969

	fill gs_fill_type

	drawindex 20
	for i = -1 to 1 step 2
		mul2 i, 1
		line2 0.2278267555556, 0.0008885411860457, 0.227706522502, 0.00108355531235
		line2 0.2278267555556, 0.0008885411860457, 0.2278267555556, -0.03346847823877
		line2 0.2709310794783, -0.01774108931944, 0.2760375452876, -0.01488133105902
		line2 0.2760375452876, -0.01488133105902, 0.2796609224255, -0.01028509907111
		line2 0.2796609224255, -0.01028509907111, 0.2812495845686, -0.004652128010932
		line2 0.2812495845686, -0.004652128010932, 0.2805616723071, 0.001160013340609
		line2 0.2805616723071, 0.001160013340609, 0.2777019140466, 0.006266479149938
		line2 0.2777019140466, 0.006266479149938, 0.2731056820587, 0.009889856287811
		line2 0.2731056820587, 0.009889856287811, 0.2674727109986, 0.01147851843098
		line2 0.2674727109986, 0.01147851843098, 0.261660569647, 0.01079060616941
		line2 0.05, 0.07118340829014, 0, 0.07439215747579
		line2 0.01678571428571, 0.14, 0, 0.14
		line2 0.015, 0.19, 0.01385819298767, 0.1957402514855
		line2 0.01385819298767, 0.1957402514855, 0.0106066017178, 0.2006066017178
		line2 0.0106066017178, 0.2006066017178, 0.005740251485476, 0.2038581929877
		line2 0.005740251485476, 0.2038581929877, 0, 0.205

		poly2_b 30, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0.2278267555556, -0.243162698772, 1,
			0.2278267555556, -0.03346847823877, 1,
			0.2709310794783, -0.01774108931944, 1,
			0.3061201705812, -0.006307460527569, 1,
			0.3080462891469, -0.002527239995559, 1,
			0.3006298812819, 0.02029811639552, 1,
			0.2968496607499, 0.02222423496129, 1,
			0.261660569647, 0.01079060616941, 1,
			0.227706522502, 0.00108355531235, 1,
			0.2104844764162, 0.02901715735905, 1,
			0.1610978437891, 0.05286344670626, 1,
			0.0871855248006, 0.06879702784171, 1,
			0.05, 0.07118340829014, 1,
			0.05, 0.11, 1,
			0.05, 0.14, 1,
			0.01678571428571, 0.14, 1,
			0.015, 0.19, 1,
			0.015, 0.227, 1,
			0.012, 0.23, 1,
			0, 0.23, 0,
			0, -0.3616612803969, 1,
			0.07952959406901, -0.3591789411445, 1,
			0.08058736509237, -0.3590768774348, 1,
			0.1489060343757, -0.3519137518044, 1,
			0.1945551097619, -0.3411933767072, 1,
			0.1966753106358, -0.3403135795244, 1,
			0.2233116, -0.3190928422424, 1,
			0.2278267555556, -0.3104680429707, 1,
			0.2278267555556, -0.2793423529286, 1,
			0.2278267555556, -0.243162698772, -1
		del 1
	next i

	drawindex 30
	if gs_armrest then
		for i = -1 to 1 step 2
			mul2 i, 1
			poly2_b 17, 1+2+4+64, gs_fill_pen, gs_back_pen,
				0.2775, -0.105, 1,
				0.2744551813005, -0.04781591904455, 1,
				0.2657842712475, 0.0006624039604135, 1,
				0.2528073372946, 0.03305458379448, 1,
				0.2375, 0.04442920471376, 1,
				0.2221926627054, 0.03305458379448, 1,
				0.2092157287525, 0.0006624039604139, 1,
				0.2005448186995, -0.04781591904455, 1,
				0.1975, -0.105, 1,
				0.2005448186995, -0.1621840809554, 1,
				0.2092157287525, -0.2106624039604, 1,
				0.2221926627054, -0.2430545837945, 1,
				0.2375, -0.2544292047138, 1,
				0.2528073372946, -0.2430545837945, 1,
				0.2657842712475, -0.2106624039604, 1,
				0.2744551813005, -0.1621840809554, 1,
				0.2775, -0.105, -1
			del 1
		next i
	endif

	if gs_back_type_m = 1 then
		add2 0, 0.105
		CALL "fa_officechair_back_02" PARAMETERS 	A = 0.44,
												B = 0.09,
												zzyzx = 0.475,
												back_mat = gs_back_mat2,
												front_mat = gs_back_mat,
												gs_detlevel_3D_m = gs_detlevel_3D_m,
												gs_cont_pen = gs_cont_pen,
												gs_fill_type = gs_fill_type,
												gs_fill_pen = gs_fill_pen,
												gs_back_pen = gs_back_pen
		del 1
	endif

	if gs_back_type_m = 2 then
		add2 0, 0.165
		CALL "fa_officechair_back_03" PARAMETERS 	A = 0.45,
												B = 0.14,
												zzyzx = 0.595,
												back_mat = gs_back_mat2,
												front_mat = gs_back_mat,
												gs_detlevel_3D_m = gs_detlevel_3D_m,
												gs_cont_pen = gs_cont_pen,
												gs_fill_type = gs_fill_type,
												gs_fill_pen = gs_fill_pen,
												gs_back_pen = gs_back_pen
		del 1
	endif

	if gs_back_type_m = 3 then
		backwidth = 0.42
		backdepth = 0.11
		add2 0, 0.07
		mul2 backwidth/0.40, backdepth /0.1102012964569
		for i = -1 to 1 step 2
			mul2 i, 1
			line2 0.18, 0.1010878728456, 0.1876536686473, 0.09956660842001
			line2 0.1876536686473, 0.09956660842001, 0.1941421356237, 0.09523441386161
			line2 0.1941421356237, 0.09523441386161, 0.1984775906502, 0.08875082652053
			line2 0.1984775906502, 0.08875082652053, 0.2, 0.08110291379556
			line2 0, 0.1010878728456, 0.18, 0.1010878728456

			poly2_b 16, 1+2+4+64, gs_fill_pen, gs_back_pen,
				0.18, -0.004560305032575, 1,
				0.1876536686473, -0.003033277756149, 1,
				0.1941421356237, 0.001315328012829, 1,
				0.1984775906502, 0.007823476466241, 1,
				0.2, 0.01550036099857, 1,
				0.2, 0.02001970526283, 1,
				0.2, 0.03080687909741, 1,
				0.2, 0.06318536653728, 1,
				0.2, 0.07645843121145, 1,
				0.2, 0.08106641770821, 1,
				0.2, 0.09132698053126, 1,
				0.2, 0.09581116193788, 1,
				0.2, 0.1056409914243, 1,
				0, 0.1056409914243,      0,
				0, -0.004560305032575, 1,
				0.18, -0.004560305032575, -1
			del 1
		next i
		del 2
	endif

	if gs_headrest then
		drawindex 40
		if gs_back_type_m = 1 then add2 0, 0.165
		if gs_back_type_m = 2 then add2 0, 0.165
		if gs_back_type_m = 3 then add2 0, 0.18
		poly2_b 35, 1+2+4+64, gs_fill_pen, gs_back_pen,
			-0.06036720694409, -0.004333173581448, 1,
			-0.08027518497391, -0.007693166562725, 1,
			-0.1, -0.012, 1,
			-0.1291482649842, -0.01909779179811, 1,
			-0.1318902582013, -0.02278086296258, 1,
			-0.1316397034704, -0.02999961774841, 1,
			-0.1269064921145, -0.04943733904965, 1,
			-0.1207138298834, -0.06248891856383, 1,
			-0.1124571924306, -0.06650912975151, 1,
			-0.08816697161045, -0.06059430325309, 1,
			-0.07077619954618, -0.05679709863914, 1,
			-0.05322393820841, -0.05383469458122, 1,
			-0.03555023639816, -0.05171385036399, 1,
			-0.01779542000581, -0.05043940509429, 1,
			0, -0.05001426665984, 1,
			0.01779542000581, -0.05043940509429, 1,
			0.03555023639816, -0.05171385036399, 1,
			0.05322393820841, -0.05383469458122, 1,
			0.07077619954618, -0.05679709863914, 1,
			0.08816697161045, -0.06059430325309, 1,
			0.1124571924306, -0.06650912975151, 1,
			0.1207138298834, -0.06248891856383, 1,
			0.1269064921145, -0.04943733904965, 1,
			0.1316397034704, -0.02999961774841, 1,
			0.1318902582013, -0.02278086296258, 1,
			0.1291482649842, -0.01909779179811, 1,
			 0.1, -0.012, 1,
			0.08027518497391, -0.007693166562725, 1,
			0.06036720694409, -0.004333173581448, 1,
			0.04032148972433, -0.001927687515077, 1,
			0.02018377140641, -0.0004821969346254, 1,
			0, 0, 1,
			-0.02018377140641, -0.0004821969346254, 1,
			-0.04032148972433, -0.001927687515077, 1,
			-0.06036720694409, -0.004333173581448, -1
		del 1
	endif
	del 2
endif

! ======================================================================
officeChair_unID = unID
end officeChair_unID
! ======================================================================

