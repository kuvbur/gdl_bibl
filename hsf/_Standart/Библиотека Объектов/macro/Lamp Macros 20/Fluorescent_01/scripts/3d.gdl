
material combi_mat

if combi_type=0 then
	addz -0.02
	for i=1 to lamp_combi_n-1
		addx a/lamp_combi_n
		plane 4,
			0,0,0,
			0,b,0,
			0,b,0.02,
			0,0,0.02
	next i
	del lamp_combi_n-1

	del 1
endif

if combi_type=1 then

	addy 0.001
	for i=1 to lamp_combi_n-1
		addx a/lamp_combi_n
		plane 4,
			0,0,0,
			0,b-0.002,0,
			0,b-0.002,lamp_combi_h,
			0,0,lamp_combi_h

	next i
	del lamp_combi_n

	PRISM_ 10, lamp_combi_h,
		0, 0, 15,
		0, b, 15,
		a, b, 15,
		a, 0, 15,
		0, 0, -1,
		0.001, 0.001, 15,
		0.001, b-0.001, 15,
		a-0.001, b-0.001, 15,
		a-0.001, 0.001, 15,
		0.001, 0.001, -1

endif

if combi_type=2 then

	addy 0.001
	for i=1 to lamp_combi_n-1
		addx a/lamp_combi_n
		plane 4,
			0,0,0,
			0,b-0.002,0,
			0,b-0.002,lamp_combi_h,
			0,0,lamp_combi_h
	next i
	del lamp_combi_n


	addX 0.001
	for j=1 to lamp_combi_m
		addY (b-0.002)/lamp_combi_m+0.0005
		plane 4,
			0,0,0,
			a-0.002,0,0,
			a-0.002,0,lamp_combi_h,
			0,0,lamp_combi_h


	next j
	del lamp_combi_m
	del 1

	PRISM_ 10, lamp_combi_h,
		0, 0, 15,
		0, b, 15,
		a, b, 15,
		a, 0, 15,
		0, 0, -1,
		0.001, 0.001, 15,
		0.001, b-0.001, 15,
		a-0.001, b-0.001, 15,
		a-0.001, 0.001, 15,
		0.001, 0.001, -1

endif


if combi_type=3 then
	material glass_mat
	addy 0.001
	plane 4,
		0,0,0,
		0,b-0.002,0,
		a-0.001,b-0.002,0,
		a-0.001,0,0
	del 1

	material combi_mat
	PRISM_ 10, lamp_combi_h,
		0, 0, 15,
		0, b, 15,
		a, b, 15,
		a, 0, 15,
		0, 0, -1,
		0.001, 0.001, 15,
		0.001, b-0.001, 15,
		a-0.001, b-0.001, 15,
		a-0.001, 0.001, 15,
		0.001, 0.001, -1
endif
