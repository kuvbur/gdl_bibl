
ui_dialog `Параметры Освещения`
ui_current_page gs_ui_current_page


TABID_ROOT				= -1
TABID_BASIC_PARAMS		= 100
	TABID_CUSTOM		= 110
	TABID_FLOORPLAN		= 120
	TABID_MODEL			= 130
	TABID_FPLAN_MODEL	= 140
TABID_EFFECTS			= 300
	TABID_VIS_LIGHT		= 310
	TABID_NOISE			= 320
	TABID_CAUSTICS		= 330
	TABID_LENS_FLARE	= 340
	TABID_CLIPPING		= 350
	TABID_ILLUM_FX		= 360
	TABID_SURFACE_FX	= 370
TABID_LISTPARAMS		= 400


for i = 1 to vardim1(uiUsedPageIDs)
	if uiUsedPageIDs[i][1] = TABID_BASIC_PARAMS then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_BASIC_PARAMS then
			gosub "basicLightSettingsPage"
		endif
   endif

	if uiUsedPageIDs[i][1] = TABID_CUSTOM then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_CUSTOM then
			gosub "customSettingsPage"
		endif
   endif

	if uiUsedPageIDs[i][1] = TABID_FLOORPLAN then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_FLOORPLAN then
			gosub "floorPlanSettingsPage"
		endif
   endif

	if uiUsedPageIDs[i][1] = TABID_MODEL then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_MODEL then
			gosub "modelSettingsPage"
		endif
   endif

	if uiUsedPageIDs[i][1] = TABID_FPLAN_MODEL then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_FPLAN_MODEL then
			gosub "displaySettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_EFFECTS then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_EFFECTS then
			gosub "effectSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_VIS_LIGHT then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_VIS_LIGHT then
			gosub "visibleLgtSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_NOISE then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_NOISE then
			gosub "noiseSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_CAUSTICS then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_CAUSTICS then
			gosub "causticsSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_LENS_FLARE then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_LENS_FLARE then
			gosub "lensFlareSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_CLIPPING then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_CLIPPING then
			gosub "clippingSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_ILLUM_FX then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_ILLUM_FX then
			gosub "illuminationSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_SURFACE_FX then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_SURFACE_FX then
			gosub "surfaceSettingsPage"
		endif
	endif

	if uiUsedPageIDs[i][1] = TABID_LISTPARAMS then
		ui_page uiUsedPageIDs[i][1], uiUsedPageIDs[i][2], uiUsedPageNames[i][1], uiUsedPageNames[i][2]
		if gs_ui_current_page = TABID_LISTPARAMS then

			listFieldID	= TABID_LISTPARAMS
			listItemID	= 1
			gosub "listParametersPage"
		endif
	endif
next i


file_dependence "ui_link_parameters_flat(1)"
file_dependence "ui_link_parameters_2_flat(1)"


! ==============================================================================
end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! en
! ==============================================================================


"basicLightSettingsPage":

	dim	stBasicSetsUI[10]
		stBasicSetsUI[1]	= `Основная Яркость`
		stBasicSetsUI[2]	= `Цвет`
		stBasicSetsUI[3]	= `Ослабление - Зависимость Яркости Света от Дистанции`
		stBasicSetsUI[4]	= `Абсолютная Яркость Света`
		stBasicSetsUI[5]	= `Изм.:`
		stBasicSetsUI[6]	= `Дистанция Света`
		stBasicSetsUI[7]	= `Видимый Свет`
		stBasicSetsUI[8]	= `Отбрасывание Теней`
		stBasicSetsUI[9]	= `Качество Света`
		stBasicSetsUI[10]	= `Зернистое Освещение (Медленнее, но устраняет Артефакты)`

	dim	stNonLocUI[3]
		stNonLocUI[1] = "%"
		stNonLocUI[2] = "lm"
		stNonLocUI[3] = "cd"

	x1	= 2
	x2	= 61
	x3	= 257
	x4	= 326
	x5	= 372
	x6	= 182
	x7	= 323 - 2 * bIsLamp
	x8	= 375

	y1	= 0
	y2	= 13
	y3	= 18
	y4	= 55

	cx1	= 120
	cx2	= 53
	cx3	= 105

	boolWidth	= 175

	outFldHgt	= 15
	numInfHgt	= 19
	strInfHgt	= 19

	colPicWdt	= 38
	colPicHgt	= 23

	lightButtonHgt	= 27
	lightButtonWdt	= 2 * lightButtonHgt
	sliderWidth		= 190
	sliderHeight	= 19
	nSegments		= 10
	sliderInfWidth	= 40

	ui_infield{3} "tempIntC",			x1,				y2,		lightButtonWdt,	lightButtonHgt,
		4, 44,	2, 1,
		25,	25,	18, 22,
		1, "", 1,
		2, "", 0

	ui_outfield		stBasicSetsUI[1],		x2,				y1,		cx1,			outFldHgt

	ui_style 2, 0
	ui_slider		"gs_light_intensity",	x2,				y3,		sliderWidth,	sliderHeight, nSegments, 1
	ui_infield		"gs_light_intensity",	x3,				y3-3,	cx2,			numInfHgt	ui_tooltip `Яркость Света`
	ui_outfield		stNonLocUI[1],			x3+cx2+2,		y3-1,	13,				outFldHgt

	ui_outfield		stBasicSetsUI[2],		x4+5,			y3-1,	40,				outFldHgt
	ui_style 0, 0
	ui_colorpicker	"gs_color_red", "gs_color_green", "gs_color_blue",		x5,				y2,		colPicWdt,		colPicHgt
	ui_infield{3}	"iColorPreset",			x5+colPicWdt+3,	y2+4,		15,		15,
		2, "", 16, 4,
		110, 25, 45, 23,
		1,	stColorPreset[1],	1,
		2,	stColorPreset[2],	2,
		3,	stColorPreset[3],	3,
		4,	stColorPreset[4],	4,
		5,	stColorPreset[5],	5,
		6,	stColorPreset[6],	6,
		7,	stColorPreset[7],	7,
		8,	stColorPreset[8],	8,
		9,	stColorPreset[9],	9,
		10,	stColorPreset[10],	10,
		11,	stColorPreset[11],	11,
		12,	stColorPreset[12],	12,
		13,	stColorPreset[13],	13,
		14,	stColorPreset[14],	14,
		15,	stColorPreset[15],	15,
		16,	stColorPreset[16],	16	ui_tooltip `Преднастройки Цвета`

	ui_separator 0, y4, 444, y4

	y4 = y4 + 8

	if bIsLamp then
		gosub "lightIntensityLine"	: y4 = y4 + 24
		gosub "lightDistanceLine"	: y4 = y4 + 24

		ui_separator 0, y4, 444, y4

		y4 = y4 + 3

		if bSpot then
			gosub "visibleLightLine"	: y4 = y4 + 37

			ui_separator 0, y4, 444, y4

			y4 = y4 + 3
		endif

		gosub "shadowBlock"

	else
		if (iC4dGenType = GENTYPE_INFINITE & bSunObject) then
			gosub "sunSettingsBlock"	: y4 = y4 + 22
		else
			if iC4dGenType = GENTYPE_IES then
				gosub "IESParameterBlock"	: y4 = y4 + 31
				gosub "lightFalloffLine"	: y4 = y4 + 24
				gosub "lightDistanceLine"	: y4 = y4 + 24
				gosub "IESIntensityLine"	: y4 = y4 + 24
			else
				if iC4dGenType = GENTYPE_AREA then
					if bWindowLight then
						gosub "sunSettingsBlock"	: y4 = y4 + 24

						ui_separator 0, y4,		444, y4

						y4 = y4 + 9

						gosub "lightDistanceLine"	: y4 = y4 + 20

						ui_separator 0, y4,		444, y4

						y4 = y4 + 3

						gosub "lightQualityLine"	: y4 = y4 + 38
					else
						gosub "lightFalloffLine"	: y4 = y4 + 24
						gosub "lightDistanceLine"	: y4 = y4 + 24
						gosub "lightIntensityLine"	: y4 = y4 + 20

						ui_separator 0, y4,		444, y4

						y4 = y4 + 3

						gosub "lightQualityLine"	: y4 = y4 + 57
					endif
				else
					if not(iC4dGenType = GENTYPE_INFINITE & bSunObject) then
						gosub "lightFalloffLine"	: y4 = y4 + 24
						gosub "lightDistanceLine"	: y4 = y4 + 24
						gosub "lightIntensityLine"	: y4 = y4 + 22
					endif
				endif
			endif
		endif

		ui_separator 0, y4,		444, y4

		y4 = y4 + 3

		gosub "shadowBlock"

	endif

return


"lightFalloffLine":

	ui_infield{3} "bDetShowFalloff",	x1,					y4-3,	440,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stBasicSetsUI[3], 0,
		1, stBasicSetsUI[3], 1

return


"sunSettingsBlock":

	if iC4dGenType = GENTYPE_AREA then
		stSunPositionBoolean = `Настройка Солнца Вручную`
		setSunBoolWdt = x3 - x1 - 2
	else
		stSunPositionBoolean = `Задать Расположение Солнца Вручную в 2D/3D-окне`
		setSunBoolWdt = 444 - x1 - 2
	endif

	ui_infield{3} "bSetSunManually",	x1,		y4-3,	setSunBoolWdt,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stSunPositionBoolean, 0,
		1, stSunPositionBoolean, 1

	y4 = y4 + 24 * not(iC4dGenType = GENTYPE_AREA)

	ui_outfield		`Азимут Солнца`,		x3,			y4,		cx3,		outFldHgt, 4 * not(bSetSunManually)

	_stSunAzimut = str(GLOB_SUN_AZIMUTH, 5, 2) + "°"
	if bSetSunManually then
		ui_infield		"angleSunAzimuth",	x5,			y4-3,	70,			numInfHgt		ui_tooltip `Азимут Солнца`
	else
		ui_outfield		_stSunAzimut,		x5,			y4,		70,			outFldHgt, 4 * not(bSetSunManually)
	endif

	y4 = y4 + 24

	ui_outfield		`Высота Солнца`,		x3,			y4,		cx3,		outFldHgt, 4 * not(bSetSunManually)

	_stSunAltitude = str(GLOB_SUN_ALTITUDE, 5, 2) + "°"
	if bSetSunManually then
		ui_infield		"angleSunAltitude",	x5,			y4-3,	70,			numInfHgt		ui_tooltip `Высота Солнца`
	else
		ui_outfield		_stSunAltitude,		x5,			y4,		70,			outFldHgt, 4 * not(bSetSunManually)
	endif

return


"IESParameterBlock":

	ui_style 0, 1
	ui_outfield	`Имя Файла Фотометрии(.ies)`,	x1,		y4,		175,		outFldHgt

	ui_style 0, 0
	ui_infield	"c4dPhoIESFile",				x6,		y4-3,	238,		strInfHgt		ui_tooltip `Имя Файла IES`

	y4 = y4 + 22

	ui_button	UI_FUNCTION,	`Детали и Помощь...`,	x6,		y4-3,	238,	21,	-TABID_CUSTOM

	ui_separator	0, y4+24,	444,	y4+24

return


"IESIntensityLine":

	ui_infield{3} "c4dPhoPhotometric",	x1,		y4-3,	444-x1-1,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, `Использовать Яркость Файла Фотометрии`, 0,
		1, `Использовать Яркость Файла Фотометрии`, 1

return


"lightIntensityLine":

	ui_infield{3} "c4dPhoPhotometric",	x1,					y4-3,	boolWidth,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stBasicSetsUI[4], 0,
		1, stBasicSetsUI[4], 1

	strUnitWdt	= 46
	intensInfW	= 105

	ui_outfield stBasicSetsUI[5],		x6,					y4,		strUnitWdt,	outFldHgt, 4 * not(c4dPhoPhotometric)
	ui_infield{3} "iC4dPhoUnit",		x6+strUnitWdt+2,	y4-3,	80,			strInfHgt,
		8, "", 1, 1,
		0, 0, 0, 0,
		1, stPhoUnit[1], 1,
		1, stPhoUnit[2], 2

	if iC4dPhoUnit = 1 then
		ui_infield "photoIntensityLumen",	x7,	y4-3,	intensInfW,	numInfHgt		ui_tooltip `Фото Яркость (люмен)`
	else
		ui_infield "photoIntensityCandela",	x7,	y4-3,	intensInfW,	numInfHgt		ui_tooltip `Фото Яркость (кандела)`
	endif

	ui_outfield stNonLocUI[iC4dPhoUnit+1],	x7+intensInfW+2,	y4,	13, outFldHgt, 4 * not(c4dPhoPhotometric)

return


"lightDistanceLine":

	intensInfW	= 105

	ui_outfield	stBasicSetsUI[6],		x6,		y4,		cx1,		outFldHgt, 4 * (c4dPhoPhotometric | not(bDetShowFalloff) & not(bIsLamp))
	ui_infield	"c4dDetRadius",			x7,		y4-3,	intensInfW,	numInfHgt		ui_tooltip `Дистанция Света`

return


"lightQualityLine":

	ui_style 0, 1
	ui_outfield stBasicSetsUI[9],	x1,					y4+11,	boolWidth,			outFldHgt

	ui_style 0, 0
	ui_outfield	`Скорость`,			x6,					y4,		sliderWidth/2-1,	outFldHgt-2
	ui_outfield	`Качество`,		x6+sliderWidth/2+1,	y4,		sliderWidth/2-1,	outFldHgt-2, 1

	ui_slider	"iLightQuality",	x6,					y4+15,	sliderWidth,		sliderHeight, nSegments-1, 1
	ui_infield	"iLightQuality",	x8,					y4+12,	cx2,				numInfHgt		ui_tooltip `Качество Света`

	if not(bWindowLight) then
		ui_infield{3} "c4dDetAddGrain",	x1,					y4+35,	400,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stBasicSetsUI[10], 0,
			1, stBasicSetsUI[10], 1
	endif

return


"visibleLightLine":

	ui_style 0, 1
	ui_outfield stBasicSetsUI[7],	x1,					y4+8,	boolWidth,			outFldHgt

	ui_style 0, 0
	ui_outfield	`Прозрачность`,		x6,					y4,		sliderWidth/2-1,	outFldHgt-2
	ui_outfield	`Плотность`,			x6+sliderWidth/2+1,	y4,		sliderWidth/2-1,	outFldHgt-2, 1

	ui_slider	"c4dVisBrightness",	x6,					y4+15,	sliderWidth,		sliderHeight, nSegments, 1
	ui_infield	"c4dVisBrightness",	x8,					y4+12,	cx2,				numInfHgt		ui_tooltip `Плотность Видимого Света`
	ui_outfield	stNonLocUI[1],		x8+cx2+2,			y4+15,	13,					outFldHgt

return

"shadowBlock":

	ui_style 0, 1

	_diffY4 = 8 - 7 * (iC4dGenType = GENTYPE_INFINITE)

	ui_infield{3}	"bGenShadow",		x1,				y4+_diffY4,	boolWidth,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stBasicSetsUI[8], 0,
		1, stBasicSetsUI[8], 1

	if iC4dGenType = GENTYPE_INFINITE & not(bIsLamp) then
		ui_style 0, 1
		ui_outfield		`Бесконечный Угол`,		x3+5,			y4+4,	cx3,		outFldHgt, 4 * not(bGenShadow)

		ui_style 0, 0
		ui_infield		"c4dDetInfinitAngle",	x5,			y4+1,		70,			numInfHgt		ui_tooltip `Бесконечный Угол`

		y4 = y4 + 23

		ui_pict			43,						x3+5,			y4,		180,		103

		x6 = 2
		x8 = 193
	else
		x6 = x6
		x8 = x8
	endif

	if not(bIsLamp) then
		ui_style 0, 0
		ui_outfield `Прозрачность`,		x6,					y4,		sliderWidth/2-1,	outFldHgt-2, 4 * not(bGenShadow)
		ui_outfield `Плотность`,			x6+sliderWidth/2+1,	y4,		sliderWidth/2-1,	outFldHgt-2, 1 + 4 * not(bGenShadow)

		ui_slider	"c4dShaDensity",	x6,					y4+15,	sliderWidth,		sliderHeight, nSegments, 1
		ui_infield	"c4dShaDensity",	x8,					y4+12,	cx2,				numInfHgt		ui_tooltip `Плотность Тени`
		ui_outfield	stNonLocUI[1],		x8+cx2+2,			y4+15,	13,					outFldHgt, 4 * not(bGenShadow)

		y4 = y4 + 46 - 10 * (iC4dGenType = GENTYPE_IES | iC4dGenType = GENTYPE_AREA)
	endif

	ui_style 0, 0
	ui_outfield		`Скорость`,			x6,					y4,		sliderWidth/2-1,	outFldHgt-2, 4 * not(bGenShadow)
	ui_outfield		`Качество`,		x6+sliderWidth/2+1,	y4,		sliderWidth/2-1,	outFldHgt-2, 1 + 4 * not(bGenShadow)

	ui_slider		"iShadowQuality",	x6,					y4+15,	sliderWidth,		sliderHeight, nSegments-1, 1
	ui_infield		"iShadowQuality",	x8,					y4+12,	cx2+16*bIsLamp,		numInfHgt		ui_tooltip `Качество Тени`

return


"floorPlanSettingsPage":

	x1	= 2
	x2	= 130
	x3	= 296
	x4	= 336
	cx1	= 120
	cx2	= 150
	cx3	= 33
	cx4	= 108
	y1	= 6
	y2	= 35
	dy	= 26

	outFldHgt	= 15
	numInfHgt	= 19
	strInfHgt	= 19
	penInfHgt	= 19
	filInfHgt	= 23

	bLockSymbol = (iEnableLampSymbolTypes < 1 | gs_symbtype_2D_m = SYMBOL_REALISTIC)


	dim	stFloorPlanUI[13]
		stFloorPlanUI[1]	= `Показ Освещения в 2D`
		stFloorPlanUI[2]	= `Тип Символа`
		stFloorPlanUI[3]	= `Размер Символа`
		stFloorPlanUI[4]	= `Тип Штриховки`
		stFloorPlanUI[5]	= `Перо Штриховки`
		stFloorPlanUI[6]	= `Перо Фона`
		stFloorPlanUI[7]	= `Текст в 2D`
		stFloorPlanUI[8]	= `Тип Шрифта`
		stFloorPlanUI[9]	= `Размер`
		stFloorPlanUI[10]	= `Направление`
		stFloorPlanUI[11]	= `Перо Контура`
		stFloorPlanUI[12]	= `Символ`
		stFloorPlanUI[13]	= `Независимое Вращение`

	dim	st2Dsymbol[4]
		st2Dsymbol[1] = `Реалистичный`
		st2Dsymbol[2] = `Электрические Данные`
		st2Dsymbol[3] = `План Отраженного Потолка`
		st2Dsymbol[4] = `по ПМВ`

	dim	textOrientation[3]
		textOrientation[1] = `Читаемый`
		textOrientation[2] = `Всегда Горизонтально`
		textOrientation[3] = `Выровнять по Символу`

	ui_style 0, 1

	if bIsLamp then
		ui_outfield		stFloorPlanUI[11],		x1,			y1,		cx1,	outFldHgt
		ui_infield		"gs_cont_pen",			x2+cx2-cx3,	y1-3,	cx3,	penInfHgt	ui_tooltip `Перо Контура в 2D и в 3D`
	else
		ui_infield{3}	"bShowIllumination2D",	x1,			y1-3,	x2 + cx2 - cx3 - x1 - 3,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stFloorPlanUI[1], 0,
			1, stFloorPlanUI[1], 1

		ui_infield		"penIllumination",	x2+cx2-cx3,	y1-3,	cx3,	penInfHgt	ui_tooltip `Перо Конуса Света в 2D и 3D`

		ui_outfield		stFloorPlanUI[11],	x3,			y1,		cx4,	outFldHgt
		ui_infield		"gs_cont_pen",		444-cx3,	y1-3,	cx3,	penInfHgt	ui_tooltip `Перо Контура в 2D и в 3D`
	endif

	ui_separator 0, 28, 444, 28

	y1 = y1 + dy + 2

	ui_outfield		stFloorPlanUI[2],			x1,			y1,		cx1,	outFldHgt
	ui_infield{3}	"gs_symbtype_2D_m",			x2,			y1-3,	cx2,	strInfHgt,
		8, "", 1, 1,
		0, 0, 0, 0,
		1, st2Dsymbol[1],	1,
		1, st2Dsymbol[2],	2,
		1, st2Dsymbol[3],	3,
		1, st2Dsymbol[4],	4

	_bRectSymbol = 0
	if gs_symbtype_2D_m = 2 then _bRectSymbol = (iSymbolType = 3)
	if gs_symbtype_2D_m = 3 then _bRectSymbol = (iSymbolType > 6)

	y1 = y1 + dy

	ui_style 0, 0
	ui_outfield		stFloorPlanUI[3],			x1,			y1,		cx1,	outFldHgt, 4 * bLockSymbol

	if _bRectSymbol then
		if not(bIsLamp) then
			ui_outfield		"A:",					x2,			y1,		13,		numInfHgt
			ui_infield		"symbolSizeA",			x2+15,		y1-3,	60,		numInfHgt
			ui_outfield		"B:",					x2+76,		y1,		13,		numInfHgt
			ui_infield		"symbolSizeB",			x2+90,		y1-3,	60,		numInfHgt
		else
			ui_outfield		"A:",					x2,			y1,		13,		numInfHgt
			ui_infield		"A",					x2+15,		y1-3,	60,		numInfHgt
			ui_outfield		"B:",					x2+76,		y1,		13,		numInfHgt
			ui_infield		"B",					x2+90,		y1-3,	60,		numInfHgt
		endif
	else
		ui_infield		"ss",						x2,			y1-3,	cx2,	numInfHgt
	endif

	y1 = y1 + dy

	ui_outfield		stFloorPlanUI[4],			x1,			y1,		cx1,	outFldHgt, 4 * bLockSymbol * not(bIsLamp)
	ui_infield		"gs_fill_type",				x2,			y1-5,	cx2,	filInfHgt

	y1 = y1 + dy

	ui_outfield		stFloorPlanUI[5],			x1,			y1,		cx1,	outFldHgt, 4 * bLockSymbol * not(bIsLamp)
	ui_infield		"gs_fill_pen",				x2+cx2-cx3,	y1-3,	cx3,	penInfHgt

	y1 = y1 + dy

	ui_outfield		stFloorPlanUI[6],			x1,			y1,		cx1,	outFldHgt, 4 * bLockSymbol * not(bIsLamp)
	ui_infield		"gs_back_pen",				x2+cx2-cx3,	y1-3,	cx3,	penInfHgt

	ui_separator 0, 158, 444, 158

	y1 = y1 + dy + 2

	ui_style 0, 1
	ui_infield{3}	"show_txt",					x1,			y1-4,		cx1,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stFloorPlanUI[7], 0,
		1, stFloorPlanUI[7], 1

	ui_style 0, 0
	ui_infield		"txt",						x2,			y1-3,	cx2,	strInfHgt

	y1 = y1 + dy

	_textFlag = 4 * (not(show_txt) | (bIsLamp & gs_symbtype_2D_m = 1))

	ui_outfield		stFloorPlanUI[8],			x1,			y1,		cx1,	outFldHgt, _textFlag
	ui_infield		"fontType",						x2,			y1-3,	cx2,	strInfHgt

	ui_infield{3}	"gs_text_style_bold",		x3,			y1-5,	24,	24,
		6, "ui_bold_flat(1)", 1, 1,
		20, 20, 16, 16,
		1, "", 0,
		1, "", 1

	ui_infield{3}	"gs_text_style_italic",		x3+25,		y1-5,	24,	24,
		6, "ui_italic_flat(1)", 1, 1,
		20, 20, 16, 16,
		1, "", 0,
		1, "", 1

	ui_infield{3}	"gs_text_style_underline",	x3+50,		y1-5,	24,	24,
		6, "ui_underline_flat(1)", 1, 1,
		20, 20, 16, 16,
		1, "", 0,
		1, "", 1

	ui_infield{3}	"gs_text_style_strike",		x3+75,		y1-5,	24,	24,
		6, "ui_text_strikethrough_flat(1)", 1, 1,
		20, 20, 16, 16,
		1, "", 0,
		1, "", 1

	y1 = y1 + dy

	ui_outfield		stFloorPlanUI[9],			x1,			y1,		cx1,	outFldHgt, _textFlag
	ui_infield		"fsz",						x2,			y1-3,	cx2,	strInfHgt

	y1 = y1 + dy

	ui_outfield		stFloorPlanUI[10],			x1,			y1,		cx1,	outFldHgt, _textFlag
	ui_infield{3}	"typeTextRotation_m",		x2,			y1-3,	cx2,	strInfHgt,
		8, "", 1, 1,
		0, 0, 0, 0,
		1, textOrientation[1],	2,
		1, textOrientation[2],	1,
		1, textOrientation[3],	0

	if LibraryLangCode <> "JPN" then
		if not(bIsLamp) then
			ui_style 0, 1

			ui_outfield		stFloorPlanUI[12],		x3,	y2,		cx1,	outFldHgt, 4 * (bLockSymbol)

			y2 = y2 + dy

			ui_style 0, 0

			if gs_symbtype_2D_m = 2 then
				ui_infield{3}	"iSymbolType",			x4,	y2-3,	cx4,	70,
					2, 46, 3, 1,
					200, 65, 93, 60,
					1, `Тип 1`,	1,
					2, `Тип 2`,	2,
					3, `Тип 3`,	3
			else
				ui_infield{3}	"iSymbolType",			x4,	y2-3,	cx4,	70,
					2, 45, 8, 2,
					200, 65, 93, 60,
					1, `Тип 1`,	1,
					2, `Тип 2`,	2,
					3, `Тип 3`,	3,
					4, `Тип 4`,	4,
					5, `Тип 5`,	5,
					6, `Тип 6`,	6,
					7, `Тип 7`,	7,
					8, `Тип 8`,	8
			endif

			y2 = y2 + 3 * dy

			ui_infield{3}	"bRotateIndependently",	x3,	y2-8,		444-x3-1,	strInfHgt + 7,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stFloorPlanUI[13], 0,
				1, stFloorPlanUI[13], 1
		endif
	else
		x1_Spec			= x2 + cx2 + 10
		y1_Spec			= 8 + dy
		widthDescSpec	= 57
		widthBoxSpec	= 442 - x1_Spec - widthDescSpec

		bTextGreyed = 0
		if gs_symbtype_2D_m = 1 then bTextGreyed = 1

		ui_outfield `Тип Светильника`,	x1_Spec,	y1_Spec,	widthDescSpec, outFldHgt, 4*bTextGreyed
		ui_infield{3} "iSpecSymbolType",	x1_Spec + widthDescSpec + 1,	y1_Spec-3, widthBoxSpec, strInfHgt,
				8, "", 0, 0,
				0, 0, 0, 0,
				"",	stSpecLampTypes[1],		SPEC_INCADESCENT,
				"",	stSpecLampTypes[2],		SPEC_DOWNLIGHT,
				"",	stSpecLampTypes[3],		SPEC_CEILING,
				"",	stSpecLampTypes[4],		SPEC_CHANDELIER,
				"",	stSpecLampTypes[5],		SPEC_PENDANT_CHAIN,
				"",	stSpecLampTypes[6],		SPEC_PENDANT_PIPE,
				"",	stSpecLampTypes[7],		SPEC_PENDANT_CORD,
				"",	stSpecLampTypes[8],		SPEC_INCADESCENT_WALL,
				"",	stSpecLampTypes[9],		SPEC_INCADESCENT_LONGLAST,
				"",	stSpecLampTypes[10],	SPEC_INCADESCENT_EMERGENCY,
				"",	stSpecLampTypes[11],	SPEC_FLUORESCENT_1_CEILING,
				"",	stSpecLampTypes[12],	SPEC_FLUORESCENT_2_CEILING,
				"",	stSpecLampTypes[13],	SPEC_FLUORESCENT_3_CEILING,
				"",	stSpecLampTypes[14],	SPEC_FLUORESCENT_4_CEILING,
				"",	stSpecLampTypes[15],	SPEC_FLUORESCENT_1_WALL,
				"",	stSpecLampTypes[16],	SPEC_FLUORESCENT_2_WALL,
				"",	stSpecLampTypes[17],	SPEC_FLUORESCENT_VERT_WALL,
				"",	stSpecLampTypes[18],	SPEC_FLUORESCENT_EMERGENCY_CEIL,
				"",	stSpecLampTypes[19],	SPEC_FLUORESCENT_LONGLAST_1_CEIL,
				"",	stSpecLampTypes[20],	SPEC_FLUORESCENT_LONGLAST_2_CEIL,
				"",	stSpecLampTypes[21],	SPEC_WALL_WASHER,
				"",	stSpecLampTypes[22],	SPEC_SPOT,
				"",	stSpecLampTypes[23],	SPEC_OUTDOOR_HID,
				"",	stSpecLampTypes[24],	SPEC_EMERGENCY_FLOURESCENT_WALL,
				"",	stSpecLampTypes[25],	SPEC_EMERGENCY_FLOURESCENT_CEIL,
				"",	stSpecLampTypes[26],	SPEC_EMERGENCY_VERT_WALL,
				"",	stSpecLampTypes[27],	SPEC_EMERGENCY_VERT_WALL_CIRC	ui_tooltip `Тип Лампы`

		y1_Spec = y1_Spec + dy

		if	_specialSymbolType = SPEC_FLUORESCENT_1_CEILING | \
			_specialSymbolType = SPEC_FLUORESCENT_2_CEILING | \
			_specialSymbolType = SPEC_FLUORESCENT_3_CEILING | \
			_specialSymbolType = SPEC_FLUORESCENT_4_CEILING | \
			_specialSymbolType = SPEC_FLUORESCENT_1_WALL | \
			_specialSymbolType = SPEC_FLUORESCENT_2_WALL | \
			_specialSymbolType = SPEC_FLUORESCENT_EMERGENCY_CEIL | \
			_specialSymbolType = SPEC_FLUORESCENT_LONGLAST_1_CEIL | \
			_specialSymbolType = SPEC_FLUORESCENT_LONGLAST_2_CEIL | \
			_specialSymbolType = SPEC_EMERGENCY_FLOURESCENT_WALL | \
			_specialSymbolType = SPEC_EMERGENCY_FLOURESCENT_CEIL then

				ui_outfield `Размер 2`,			x1_Spec,						y1_Spec,	widthDescSpec, outFldHgt, 4*bTextGreyed
				ui_infield "specSymbolWidth",	x1_Spec + widthDescSpec + 1, y1_Spec-3,widthBoxSpec, strInfHgt ui_tooltip `Размер Символа 2`
		endif

		if	_specialSymbolType = SPEC_FLUORESCENT_VERT_WALL | \
			_specialSymbolType = SPEC_SPOT | \
			_specialSymbolType = SPEC_EMERGENCY_VERT_WALL | \
			_specialSymbolType = SPEC_EMERGENCY_VERT_WALL_CIRC then

				ui_outfield `Размер 2`,			x1_Spec,						y1_Spec,	widthDescSpec, outFldHgt, 4*bTextGreyed
				ui_infield "specSymbolDepth",	x1_Spec + widthDescSpec + 1, y1_Spec-3,widthBoxSpec, strInfHgt ui_tooltip `Размер Символа 2`
		endif
	endif

return


"modelSettingsPage":
	if not(bIsLamp) then

		x1	= 2
		x2	= 19
		x3	= 245
		y1	= 5
		dy	= 26

		outFldWdt	= 223
		strInfWdt	= 240
		penInfWdt	= 33
		outFldHgt	= 15
		strInfHgt	= 19
		penInfHgt	= 19

		dim	stModelRepUI[6]
			stModelRepUI[1] = `3D-отображение`
			stModelRepUI[2] = `Показ Освещения`
			stModelRepUI[3] = `Показ Отсечения`
			stModelRepUI[4] = `Перо Ближнего Отсечения`
			stModelRepUI[5] = `Перо Дальнего Отсечения`
			stModelRepUI[6] = `Дополнительные Точки Редактирования`

		ui_style 0, 1
		ui_infield{3}	"bShow3D",				x1,		y1,		strInfWdt,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stModelRepUI[1], 0,
			1, stModelRepUI[1], 1

		ui_style 0, 0
		ui_infield		"gs_cont_pen",			x3,		y1,		penInfWdt,	penInfHgt		ui_tooltip `Перо Контура в 2D и в 3D`

		y1 = y1 + dy * (1 + (iC4dGenType = GENTYPE_AREA))

		ui_infield{3}	"bShowIllumination3D",	x1,		y1,		strInfWdt,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stModelRepUI[2], 0,
			1, stModelRepUI[2], 1

		ui_infield		"penIllumination",		x3,		y1,		penInfWdt,	penInfHgt		ui_tooltip `Перо Конуса Света в 2D и 3D`

		y1 = y1 + dy * (1 - 2 * (iC4dGenType = GENTYPE_AREA))

		if iC4dGenType = GENTYPE_SPOT | iC4dGenType = GENTYPE_AREA then
			ui_infield{3}	"iModelType",		83,		y1,		195,	strInfHgt,
				8, "", 1, 1,
				0, 0, 0, 0,
				1, stModelType[1], 1,
				1, stModelType[2], 2

			y1 = y1 + dy * (1 + (iC4dGenType = GENTYPE_AREA))
		endif

		if not(iC4dGenType = GENTYPE_AREA | iC4dGenType = GENTYPE_IES) then
			ui_infield{3}	"bShowClipping",		x1,		y1,		strInfWdt,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stModelRepUI[3], 0,
				1, stModelRepUI[3], 1

			y1 = y1 + dy

			ui_outfield		stModelRepUI[4],		x2,		y1+3,	outFldWdt,	outFldHgt, 4 * not(bShowClipping & c4dDetNearClip)
			ui_infield		"penNearClip",			x3,		y1,		penInfWdt,	penInfHgt		ui_tooltip `Перо Ближнего Отсечения`

			y1 = y1 + dy

			ui_outfield		stModelRepUI[5],		x2,		y1+3,	outFldWdt,	outFldHgt, 4 * not(bShowClipping & c4dDetFarClip)
			ui_infield		"penFarClip",			x3,		y1,		penInfWdt,	penInfHgt		ui_tooltip `Перо Дальнего Отсечения`

			y1 = y1 + dy
		endif

		ui_separator	0,	y1,		444,	y1

		y1 = y1 + 6

		ui_infield{3}	"bFullEditing",			x1,		y1,		443-x1,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stModelRepUI[6], 0,
			1, stModelRepUI[6], 1
	endif

return


"displaySettingsPage":
	if not(bIsLamp) then
		x1	= 2
		x2	= 129
		x3	= 180
		x4	= 246
		y1	= 6
		dy	= 26

		outFldWdt	= 125
		outFldHgt	= 15
		numInfWdt	= 150
		numInfHgt	= 19
		strInfWdt	= 200
		strInfHgt	= 19
		penInfWdt	= 33
		penInfHgt	= 19

		dim	stDispSettsUI[9]
			stDispSettsUI[1] = `Перо Контура`
			stDispSettsUI[2] = `Текст в 2D`
			stDispSettsUI[3] = `Шрифт`
			stDispSettsUI[4] = `Стиль`
			stDispSettsUI[5] = `Размер`
			stDispSettsUI[6] = `Направление`
			stDispSettsUI[7] = `3D-отображение`
			stDispSettsUI[8] = `Показ Освещения в 2D`
			stDispSettsUI[9] = `Показ Освещения в 3D`

		dim	textOrientation[3]
			textOrientation[1] = `Читаемый`
			textOrientation[2] = `Всегда Горизонтально`
			textOrientation[3] = `Выровнять по Символу`

		ui_style 0, 1
		ui_outfield		stDispSettsUI[1],			x1,		y1,		outFldWdt,	outFldHgt
		ui_infield		"gs_cont_pen",				x4,		y1-3,	penInfWdt,	penInfHgt	ui_tooltip `Перо Контура в 2D и в 3D`

		y1 = y1 + 22

		if bWindowLight then
			ui_style 0, 0
			ui_infield{3}	"bShowIllumination2D",		x1,		y1-3,	strInfWdt,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stDispSettsUI[8], 0,
				1, stDispSettsUI[8], 1

			ui_infield		"penIllumination",			x4,		y1-3,	penInfWdt,	penInfHgt	ui_tooltip `Перо Конуса Света в 2D и 3D`

			y1 = y1 + 22
		endif

		ui_separator	0,	y1,		444,	y1

		y1 = y1 + 8

		ui_style 0, 1
		ui_infield{3}	"show_txt",					x1,		y1-3,	outFldWdt,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stDispSettsUI[2], 0,
			1, stDispSettsUI[2], 1

		ui_style 0, 0
		ui_infield		"txt",						x2,		y1-3,	strInfWdt,	strInfHgt

		y1 = y1 + dy

		ui_outfield		stDispSettsUI[3],			x1,		y1,		outFldWdt,	outFldHgt, 4 * not(show_txt)
		ui_infield		"fontType",						x2,		y1-3,	strInfWdt,	strInfHgt

		y1 = y1 + dy

		ui_outfield		stDispSettsUI[4],			x1,		y1,		outFldWdt,	outFldHgt, 4 * not(show_txt)
		ui_infield{3}	"gs_text_style_bold",		x3,		y1-5,	24,			24,
			6, "ui_bold_flat(1)", 1, 1,
			20, 20, 16, 16,
			1, "", 0,
			1, "", 1

		ui_infield{3}	"gs_text_style_italic",		x3+25,	y1-5,	24,			24,
			6, "ui_italic_flat(1)", 1, 1,
			20, 20, 16, 16,
			1, "", 0,
			1, "", 1

		ui_infield{3}	"gs_text_style_underline",	x3+50,	y1-5,	24,			24,
			6, "ui_underline_flat(1)", 1, 1,
			20, 20, 16, 16,
			1, "", 0,
			1, "", 1

		ui_infield{3}	"gs_text_style_strike",		x3+75,	y1-5,	24,			24,
			6, "ui_text_strikethrough_flat(1)", 1, 1,
			20, 20, 16, 16,
			1, "", 0,
			1, "", 1

		y1 = y1 + dy

		ui_outfield		stDispSettsUI[5],			x1,		y1,		outFldWdt,	outFldHgt, 4 * not(show_txt)
		ui_infield		"fsz",						x2,		y1-3,	strInfWdt,	strInfHgt

		y1 = y1 + dy

		ui_outfield		stDispSettsUI[6],			x1,		y1,		outFldWdt,	outFldHgt, 4 * not(show_txt)
		ui_infield{3}	"typeTextRotation_m",		x2, 	y1-3,	strInfWdt,	strInfHgt,
			8, "", 1, 1,
			0, 0, 0, 0,
			1, textOrientation[1],	2,
			1, textOrientation[2],	1,
			1, textOrientation[3],	0

		y1 = y1 + 22

		ui_separator	0,	y1,		444,	y1

		y1 = y1 + 6

		ui_style 0, 1
		ui_infield{3}	"bShow3D",					x1,		y1,		277,		strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stDispSettsUI[7], 0,
			1, stDispSettsUI[7], 1

		ui_style 0, 0
		if bWindowLight then
			y1 = y1 + dy

			ui_infield{3}	"bShowIllumination3D",		x1,		y1-3,	strInfWdt,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stDispSettsUI[9], 0,
				1, stDispSettsUI[9], 1
		endif
	endif

return


"customSettingsPage":

	if not(bIsLamp) then
		if iC4dGenType = GENTYPE_AREA then
			x1	= 2
			x2	= 18
			x3	= 108
			x4	= 211
			x5	= 237
			x6	= 242
			x7	= 327
			y1	= 5
			dy	= 23

			xPic		= x6
			yPic		= 47
			picWdt		= 200
			picHgt		= 186

			buttonWdt	= 124
			buttonHgt	= 85
			outFldWdt	= 85
			outFldHgt	= 15
			numInfWdt	= 100
			numInfHgt	= 19
			boolWidth	= x3 + buttonWdt - x1
			strInfHgt	= 19

			dim	stAreaShapeUI[9]
				stAreaShapeUI[1] = `Форма`
				stAreaShapeUI[2] = `Размер`

			if bWindowLight then
				stAreaShapeUI[3] = `Ширина`
				stAreaShapeUI[4] = `Высота`
				stAreaShapeUI[5] = `Поворот вокруг X`
			else
				if iC4dDetAreaShape = AREASHAPE_LINE then
					stAreaShapeUI[3] = `Длина`
					stAreaShapeUI[4] = ""
					stAreaShapeUI[5] = ""
				else
					if iC4dDetAreaShape = AREASHAPE_DISC | iC4dDetAreaShape = AREASHAPE_RECT then
						stAreaShapeUI[3] = `Длина`
						stAreaShapeUI[4] = `Ширина`
						stAreaShapeUI[5] = ""
					else
						if iC4dDetAreaShape = AREASHAPE_SPHERE then
							stAreaShapeUI[3] = `Диаметр X`
							stAreaShapeUI[4] = `Диаметр Y`
							stAreaShapeUI[5] = `Диаметр Z`
						else
							if iC4dDetAreaShape = AREASHAPE_HEMISPHERE then
								stAreaShapeUI[3] = `Диаметр X`
								stAreaShapeUI[4] = `Радиус Y`
								stAreaShapeUI[5] = `Диаметр Z`
							else
								if iC4dDetAreaShape = AREASHAPE_CUBE then
									stAreaShapeUI[3] = `Длина`
									stAreaShapeUI[4] = `Ширина`
									stAreaShapeUI[5] = `Высота`
								else
									if iC4dDetAreaShape = AREASHAPE_CYLIND then
										stAreaShapeUI[3] = `Диаметр X`
										stAreaShapeUI[4] = `Диаметр Y`
										stAreaShapeUI[5] = `Высота`
									else
										stAreaShapeUI[3] = `Длина`
										stAreaShapeUI[4] = `Диаметр Y`
										stAreaShapeUI[5] = `Диаметр Z`
									endif
								endif
							endif
						endif
					endif
				endif
			endif

				stAreaShapeUI[6] = `Форма Видна при Визуализации`
				stAreaShapeUI[7] = `Форма Видна в Отражениях`
				stAreaShapeUI[8] = `Растянуть Форму и Освещение по оси Y`

			if bWindowLight then
				stAreaShapeUI[9] = `Угол Ослабления`
			else
				stAreaShapeUI[9] = `Угол Освещения`
			endif

			if not(bWindowLight) then
				ui_style 0, 1
				ui_outfield		stAreaShapeUI[1],	x1,	y1,		outFldWdt,	outFldHgt
				ui_style 0, 0
				ui_infield{3}	"iC4dDetAreaShape",	x3,	y1,		buttonWdt,	buttonHgt,
					2, 1, 8, 4,
					200, 85, 109, 80,
					1, stDetAreaShape[2], 2,
					2, stDetAreaShape[1], 1,
					3, stDetAreaShape[5], 5,
					4, stDetAreaShape[3], 3,
					5, stDetAreaShape[6], 6,
					6, stDetAreaShape[4], 4,
					7, stDetAreaShape[8], 8,
					8, stDetAreaShape[7], 7

				y1 = y1 + 97
			endif

			ui_style 0, 1
			ui_outfield		stAreaShapeUI[2],	x1,	y1,		outFldWdt,	outFldHgt

			y1 = y1 + dy

			ui_style 0, 0
			ui_outfield		stAreaShapeUI[3],	x2,	y1,		outFldWdt,	outFldHgt
			ui_infield		"c4dDetAreaX",		x3,	y1-3,	numInfWdt,	numInfHgt

			y1 = y1 + dy

			if not(iC4dDetAreaShape = AREASHAPE_LINE) then


				if (iC4dDetAreaShape = AREASHAPE_CUBE | iC4dDetAreaShape = AREASHAPE_SPHERE) then
					_linkButtonPosY		= y1-3 - dy
					_linkButtonHgt		= numInfHgt + 2 * dy
					_picButtonHgt		= 54
					_stLinkButtonName	= "ui_link_parameters_2_flat(1)"
				else
					_linkButtonPosY		= y1-3 - dy * (1 - (iC4dDetAreaShape = AREASHAPE_PCYLIND))
					_linkButtonHgt		= numInfHgt + dy
					_picButtonHgt		= 32
					_stLinkButtonName	= "ui_link_parameters(1)_flat"
				endif

				ui_infield{3}	"bLinkAreaSizes",	x4,	_linkButtonPosY,	21,	_linkButtonHgt,
					6, _stLinkButtonName, 2, 1,
					8, 26, 18, _picButtonHgt,
					1, "", 0,
					2, "", 1

				y1 = y1 + dy * (iC4dDetAreaShape = AREASHAPE_HEMISPHERE)

				ui_outfield		stAreaShapeUI[4],	x2,	y1,		outFldWdt,	outFldHgt
				if iC4dDetAreaShape = AREASHAPE_HEMISPHERE then
					ui_infield		"sizeAreaYHalf",		x3,	y1-3,	numInfWdt,	numInfHgt
				else
					ui_infield		"c4dDetAreaY",		x3,	y1-3,	numInfWdt,	numInfHgt
				endif

				y1 = y1 + dy * (1 - 2 * (iC4dDetAreaShape = AREASHAPE_HEMISPHERE))

				if bWindowLight then
					ui_outfield		stAreaShapeUI[5],	x1,	y1+6,	2 * outFldWdt,	outFldHgt-1

					y1 = y1 + dy

					ui_infield		"rotAngleX",		x3,	y1-2,	numInfWdt,		numInfHgt
				endif

				if not(iC4dDetAreaShape = AREASHAPE_DISC | iC4dDetAreaShape = AREASHAPE_RECT) then
					ui_outfield		stAreaShapeUI[5],	x2,	y1,		outFldWdt,	outFldHgt
					ui_infield		"c4dDetAreaZ",		x3,	y1-3,	numInfWdt,	numInfHgt

					y1 = y1 + dy * (1 + (iC4dDetAreaShape = AREASHAPE_HEMISPHERE))
				else
					y1 = y1 + dy
				endif
			else
				y1 = y1 + 2 * dy
			endif

			ui_infield{3}	"c4dDetShowInRender",		x1,	y1,		boolWidth,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stAreaShapeUI[6], 0,
				1, stAreaShapeUI[6], 1

			y1 = y1 + dy - 2

			ui_infield{3}	"c4dDetShowInReflection",	x1,	y1,		boolWidth,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stAreaShapeUI[7], 0,
				1, stAreaShapeUI[7], 1

			if not(bWindowLight) then
				y1 = y1 + 21

				ui_separator	x5,	0,		x5,		y1-3
				ui_separator	0,	y1,		444,	y1

				y1 = y1 + 9

				ui_outfield		stAreaShapeUI[8],			x1,	y1,		320,	outFldHgt
				ui_infield		"c4dDetAspectRatio",		x7,	y1-4,	115,	numInfHgt		ui_tooltip `Форма и Уровень Освещения`
			else
				y1 = y1 + 97

				ui_separator	x5,	0,		x5,		y1-3
			endif

			y1 = 5

			ui_style 0, 1
			ui_outfield		stAreaShapeUI[9],			x6,	y1,		200,	outFldHgt-1, 4 * (iC4dDetAreaShape > AREASHAPE_RECT)

			ui_style 0, 0
			ui_infield		"c4dDetFalloffAngle",		x7,	y1+15,	115,	numInfHgt		ui_tooltip stAreaShapeUI[9]

			picIdx	= 39 + 8 * (iC4dDetAreaShape > AREASHAPE_RECT)
			ui_pict			picIdx,	xPic,	yPic,	picWdt,	picHgt,	1

		endif


		if iC4dGenType = GENTYPE_SPOT then
			x1	= 2
			x2	= 216
			x3	= 337
			y1	= 5
			dy	= 24

			xPic		= x2
			yPic		= 139
			picWdt		= 132
			picHgt		= 123
			picIdx		= 40 + c4dDetUseInner

			buttonWdt	= 210
			buttonHgt	= 266
			outFldWdt	= 120
			outFldHgt	= 15
			numInfWdt	= 105
			numInfHgt	= 19
			boolWidth	= x3 + numInfWdt - x2
			strInfWdt	= 120
			strInfHgt	= 19

			dim	stSpotGeomUI[7]
				stSpotGeomUI[1] = `Размытая Граница`
				stSpotGeomUI[2] = `Наружный Угол`
				stSpotGeomUI[3] = `Внутренний Угол`
				stSpotGeomUI[4] = `Форма`
				stSpotGeomUI[5] = `Окружность`
				stSpotGeomUI[6] = `Эллипс`
				stSpotGeomUI[7] = `Деформация`

			ui_infield{3}	"c4dDetUseInner",		x2,	y1,		boolWidth,		strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stSpotGeomUI[1], 0,
				1, stSpotGeomUI[1], 1

			ui_infield{3}	"c4dDetUseInner",		x1,	0,		buttonWdt,		buttonHgt,
				6, 23, 2, 2,
				buttonWdt, buttonHgt, buttonWdt, buttonHgt,
				1, "", 0,
				2, "", 1

			y1 = y1 + dy

			ui_outfield		stSpotGeomUI[2],	x2,	y1,		outFldWdt,	outFldHgt
			ui_infield		"c4dDetOuterAngle",	x3,	y1-3,	numInfWdt,	numInfHgt

			y1 = y1 + dy

			ui_outfield		stSpotGeomUI[3],	x2,	y1,		outFldWdt,	outFldHgt, 4 * not(c4dDetUseInner)
			ui_infield		"c4dDetInnerAngle",	x3,	y1-3,	numInfWdt,	numInfHgt

			y1 = y1 + dy

			ui_style 0, 1
			ui_outfield		stSpotGeomUI[4],	x2,	y1,		outFldWdt,	outFldHgt

			y1 = y1 + 20

			ui_style 0, 0
			ui_radiobutton	"iLightForm",	1,	stSpotGeomUI[5],	x2,	y1-3,	strInfWdt,	strInfHgt
			ui_radiobutton	"iLightForm",	2,	stSpotGeomUI[6],	x2,	y1+17,	strInfWdt,	strInfHgt

			ui_outfield		stSpotGeomUI[7],		x3,	y1,		numInfWdt,	outFldHgt, 4 * (iLightForm = 1)
			ui_infield		"c4dDetAspectRatio",	x3,	y1+17,	numInfWdt,	numInfHgt

			ui_pict			picIdx,	xPic,	yPic,	picWdt,	picHgt,	1

			y1 = yPic + 42
			x4 = xPic + picWdt + 3

			if c4dDetUseInner then
				ui_outfield		stSpotGeomUI[3],	x4,	y1,		85,	outFldHgt
			endif

			y1 = y1 + 16

			ui_outfield		stSpotGeomUI[2],		x4,	y1,		85,	outFldHgt

		endif


		if iC4dGenType = GENTYPE_IES then
			x1	= 2
			x2	= 15
			x3	= 205
			x4	= 182
			x5	= 375

			y1	= 5
			dy	= 33

			outFldWdt	= 400
			outFldHgt	= 30
			boolWidth	= 350
			numInfWidth	= 53
			numInfHgt	= 19
			strInfWdt	= 220
			strInfHgt	= 19

			sliderWidth		= 190
			sliderHeight	= 19
			nSegments		= 10
			sliderInfWidth	= 40

			dim	stIESDetailsUI[12]
				stIESDetailsUI[1]	= `Имя Файла Фотометрии`
				stIESDetailsUI[2]	= "1."
				stIESDetailsUI[3]	= "2."
				stIESDetailsUI[4]	= "3."
				stIESDetailsUI[5]	= `Загрузите файл .ies (Фотометрии) выбранного светильника с сайта производителя.`
				stIESDetailsUI[6]	= `Загрузите файл .ies в библиотеку, воспользовавшись командой 'Файл / Библиотеки и Объекты / Менеджер Библиотек'.`
				stIESDetailsUI[7]	= `Выберите загруженный файл .ies из расположенного выше выпадающего меню.`
				stIESDetailsUI[8]	= `Использовать Форму и Размер из Файла Фотометрии (при Наличии)`
				stIESDetailsUI[9]	= `Форма Видна при Визуализации`
				stIESDetailsUI[10]	= `Форма Видна в Отражениях`
				stIESDetailsUI[11]	= `Качество Света`
				stIESDetailsUI[12]	= `Зернистое Освещение (Медленнее, но устраняет Артефакты)`


			ui_style 0, 1
			ui_outfield	stIESDetailsUI[1],	x1,		y1,		200,		17

			ui_style 0, 0
			ui_infield	"c4dPhoIESFile",	x3,		y1-3,	strInfWdt,	strInfHgt		ui_tooltip `Имя Файла IES`

			y1 = y1 + 20

			ui_outfield	stIESDetailsUI[2],	x1,		y1,		10,			outFldHgt
			ui_outfield	stIESDetailsUI[5],	x2,		y1,		outFldWdt,	outFldHgt

			y1 = y1 + dy

			ui_outfield	stIESDetailsUI[3],	x1,		y1,		10,			outFldHgt
			ui_outfield	stIESDetailsUI[6],	x2,		y1,		outFldWdt,	outFldHgt

			y1 = y1 + dy

			ui_outfield	stIESDetailsUI[4],	x1,		y1,		10,			outFldHgt
			ui_outfield	stIESDetailsUI[7],	x2,		y1,		outFldWdt,	outFldHgt

			y1 = y1 + dy

			ui_separator	0,	y1,		444,	y1

			y1 = y1 + 2

			ui_infield{3}	"c4dPhoUseIESSize",			x1,		y1,		444-x1-1,	28,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stIESDetailsUI[8], 0,
				1, stIESDetailsUI[8], 1

			y1 = y1 + 30

			ui_infield{3}	"c4dDetShowInRender",		x1+16,	y1,		444-x1-16-1,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stIESDetailsUI[9], 0,
				1, stIESDetailsUI[9], 1

			y1 = y1 + 24

			ui_infield{3}	"c4dDetShowInReflection",	x1+16,	y1,		444-x1-16-1,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stIESDetailsUI[10], 0,
				1, stIESDetailsUI[10], 1

			y1 = y1 + 22

			ui_separator	0,	y1,		444,	y1

			y1 = y1 + 8

			ui_style 0, 1
			ui_outfield stIESDetailsUI[11],	x1,					y1+11,	boolWidth/2,			outFldHgt/2, 4 * not(c4dPhoUseIESSize and bIESFileExist)

			ui_style 0, 0
			ui_outfield	`Скорость`,			x4,					y1,		sliderWidth/2-1,	outFldHgt/2-2, 4 * not(c4dPhoUseIESSize and bIESFileExist)
			ui_outfield	`Качество`,		x4+sliderWidth/2+1,	y1,		sliderWidth/2-1,	outFldHgt/2-2, 1 + 4 * not(c4dPhoUseIESSize and bIESFileExist)

			ui_slider	"iLightQuality",	x4,					y1+15,	sliderWidth,		sliderHeight, nSegments-1, 1
			ui_infield	"iLightQuality",	x5,					y1+12,	numInfWidth,		numInfHgt		ui_tooltip `Качество Света`

			ui_infield{3} "c4dDetAddGrain",	x1+16,				y1+35,	400,	strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stIESDetailsUI[12], 0,
				1, stIESDetailsUI[12], 1

		endif
	endif

return


"effectSettingsPage":
	if iC4dGenType = GENTYPE_AREA & bWindowLight then
		x1	= 2
		x2	= 224
		y1	= 1
		y2	= 17
		y3	= 111
		dy	= 125

		buttonWdt	= 140
		buttonHgt	= 91
		outFldWdt	= 140
		outFldHgt	= 15
		boolWidth	= 220
		strInfHgt	= 19

		dim	stWindowEffectsUI[4]
			stWindowEffectsUI[1] = `Освещение`
			stWindowEffectsUI[2] = `Глобальное Освещение`
			stWindowEffectsUI[3] = `Рассеянное Освещение`
			stWindowEffectsUI[4] = `Освещение в Одном Направлении`

		ui_style 0, 1
		ui_outfield		stWindowEffectsUI[1],	x1,	y1,	outFldWdt,	outFldHgt

		ui_style 0, 0
		ui_infield{3}	"c4dGenGIIllumination",	x1,	y3,	boolWidth,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stWindowEffectsUI[2], 0,
			1, stWindowEffectsUI[2], 1			ui_tooltip `Реалистичный результат, но низкая скорость.`

		ui_infield{3}	"c4dGenGIIllumination",	x1,	y2,	buttonWdt,	buttonHgt,
			6, 15, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1							ui_tooltip `Реалистичный результат, но низкая скорость.`

		ui_infield{3}	"c4dGenAmbientOnly",	x2,	y3,	boolWidth,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stWindowEffectsUI[3], 0,
			1, stWindowEffectsUI[3], 1			ui_tooltip `Более плоский результат.`

		ui_infield{3}	"c4dGenAmbientOnly",	x2,	y2,	buttonWdt,	buttonHgt,
			6, 14, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1							ui_tooltip `Более плоский результат.`

		y2 = y2 + dy
		y3 = y3 + dy

		ui_infield{3}	"c4dDetOnlyZ",			x1,	y3,	boolWidth,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stWindowEffectsUI[4], 0,
			1, stWindowEffectsUI[4], 1

		ui_infield{3}	"c4dDetOnlyZ",			x1,	y2,	buttonWdt,	buttonHgt,
			6, 17, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1
	else
		x1	= 2
		y1	= 0
		y2	= 111
		y3	= 133
		y4	= 244
		dx	= 149
		dy	= 26

		buttonWdt	= 140
		buttonHgt	= 19
		picWdt		= 140
		picHgt		= 108


		_bVisLightPageExists	=	(iC4dGenType = GENTYPE_OMNI | iC4dGenType = GENTYPE_SPOT | iC4dGenType = GENTYPE_AREA)
		_bClippingPageExists	=	(iC4dGenType = GENTYPE_OMNI | iC4dGenType = GENTYPE_SPOT)

		dim	stEffectButton[8]
			stEffectButton[1]	= `Видимый Свет` + "..."
			stEffectButton[2]	= `Шум` + "..."
			stEffectButton[3]	= `Каустики` + "..."
			stEffectButton[4]	= `Блики на Линзах` + "..."
			stEffectButton[5]	= `Отсечение` + "..."
			stEffectButton[6]	= `Тень и Покрытия` + "..."
			stEffectButton[7]	= `Освещение` + "..."
			stEffectButton[8]	= `Дополнительно`


		if _bVisLightPageExists then
			ui_pict_button	UI_FUNCTION, "",	9,			x1,	y1,	picWdt,		picHgt,		-TABID_VIS_LIGHT
			ui_button		UI_FUNCTION, stEffectButton[1],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_VIS_LIGHT

			x1 = x1 + dx

			ui_pict_button	UI_FUNCTION, "",	10,			x1,	y1,	picWdt,		picHgt,		-TABID_NOISE
			ui_button		UI_FUNCTION, stEffectButton[2],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_NOISE

			x1 = x1 + dx

			ui_pict_button	UI_FUNCTION, "",	11,			x1,	y1,	picWdt,		picHgt,		-TABID_CAUSTICS
			ui_button		UI_FUNCTION, stEffectButton[3],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_CAUSTICS

			x1 = 2

			ui_pict_button	UI_FUNCTION, "",	12,			x1,	y3,	picWdt,		picHgt,		-TABID_LENS_FLARE
			ui_button		UI_FUNCTION, stEffectButton[4],	x1,	y4,	buttonWdt,	buttonHgt,	-TABID_LENS_FLARE

			x1 = x1 + dx

			if _bClippingPageExists then
				ui_pict_button	UI_FUNCTION, "",	13,			x1,	y3,	picWdt,		picHgt,		-TABID_CLIPPING
				ui_button		UI_FUNCTION, stEffectButton[5],	x1,	y4,	buttonWdt,	buttonHgt,	-TABID_CLIPPING
			endif

			x1 = x1 + dx
		else
			ui_pict_button	UI_FUNCTION, "",	6,			x1,	y1,	picWdt,		picHgt,		-TABID_NOISE
			ui_button		UI_FUNCTION, stEffectButton[2],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_NOISE

			x1 = x1 + dx

			ui_pict_button	UI_FUNCTION, "",	7,			x1,	y1,	picWdt,		picHgt,		-TABID_CAUSTICS
			ui_button		UI_FUNCTION, stEffectButton[3],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_CAUSTICS

			x1 = x1 + dx

			ui_pict_button	UI_FUNCTION, "",	8,			x1,	y1,	picWdt,		picHgt,		-TABID_LENS_FLARE
			ui_button		UI_FUNCTION, stEffectButton[4],	x1,	y2,	buttonWdt,	buttonHgt,	-TABID_LENS_FLARE
		endif

		y4 = y4 - dy

		ui_button		UI_FUNCTION, stEffectButton[6],	x1,	y4,	buttonWdt,	buttonHgt,	-TABID_SURFACE_FX

		y4 = y4 - dy

		ui_button		UI_FUNCTION, stEffectButton[7],		x1,	y4,	buttonWdt,	buttonHgt,	-TABID_ILLUM_FX

		y4 = y4 - 19

		ui_style 0,1
		ui_outfield stEffectButton[8],	x1,	y4,	buttonWdt,	15

	endif

return


"visibleLgtSettingsPage":

	x1	= 2
	x2	= 145
	x3	= 195
	x4	= 263
	y1	= 3 - 2 * bSpot
	y2	= 120 - 19 * bSpot
	dy	= 26

	cx1	= 140
	cx2	= 50
	cx3	= 181

	boolWidth	= x4-x1-1

	outFldHgt	= 15
	numInfWdt	= 100
	numInfHgt	= 19
	strInfHgt	= 19

	sliderWidth		= 190
	sliderHeight	= 19
	nSegments		= 10
	sliderInfWidth	= 40

	dim	stVisLightUI[11]
		stVisLightUI[1]		= `Видимый Свет`
		stVisLightUI[2]		= `Прозрачность`
		stVisLightUI[3]		= `Плотность`
		stVisLightUI[4]		= `Скорость`
		stVisLightUI[5]		= `Качество`
		stVisLightUI[6]		= `Расстояние Влияет на Плотность`
		stVisLightUI[7]		= `Величина Ослабления`
		stVisLightUI[8]		= `Начало Ослабления`
		stVisLightUI[9]		= `Окончание Ослабления`
		stVisLightUI[10]	= `Снижение Плотности у Краев`
		stVisLightUI[11]	= "%"

	if iC4dGenType = GENTYPE_AREA & not(iC4dDetAreaShape = AREASHAPE_LINE) then
		ui_style 0, 0
		ui_pict		42,	x1,	y1+1,	12,	12,	1
		ui_outfield `Видимый Свет доступен только для линейных поверхностей.`, x1+15, y1, 400, 15
	else
		ui_style 0, 1
		ui_infield{3}	"bGenVisibleLight",	x1,					y1,		boolWidth,			strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stVisLightUI[1], 0,
			1, stVisLightUI[1], 1

		y1 = y1 + 27 - 5 * bSpot

		ui_style 0, 0
		ui_outfield	stVisLightUI[2],		x1,					y1,		sliderWidth/2-1,	outFldHgt-2, 4 * not(bGenVisibleLight)
		ui_outfield	stVisLightUI[3],		x1+sliderWidth/2+1,	y1,		sliderWidth/2-1,	outFldHgt-2, 1 + 4 * not(bGenVisibleLight)

		ui_slider	"c4dVisBrightness",		x1,					y1+15,	sliderWidth,		sliderHeight, nSegments, 1
		ui_infield	"c4dVisBrightness",		x3,					y1+12,	cx2,				numInfHgt		ui_tooltip `Плотность Видимого Света`
		ui_outfield	stVisLightUI[11],		x3+cx2+2,			y1+15,	15,					outFldHgt, 4 * not(bGenVisibleLight)

		y1 = y1 + 46 - 8 * bSpot

		ui_outfield	stVisLightUI[4],		x1,					y1,		sliderWidth/2-1,	outFldHgt-2, 4 * not(bGenVisibleLight)
		ui_outfield	stVisLightUI[5],		x1+sliderWidth/2+1,	y1,		sliderWidth/2-1,	outFldHgt-2, 1 + 4 * not(bGenVisibleLight)

		ui_slider	"iVisibeLightQuality",	x1,					y1+15,	sliderWidth,		sliderHeight, nSegments - 1, 1
		ui_infield	"iVisibeLightQuality",	x3,					y1+12,	cx2,				numInfHgt		ui_tooltip `Качество Видимого Света`

		y1 = 1

		picIdx	= 39 - iC4dGenType
		cellWdt	= 250
		cellHgt	= 103 - 18 * bSpot
		picWdt	= 166
		picHgt	= 103 - 18 * bSpot

		ui_infield{3}	"iC4dGenVisibility",	x4,				y1,		cx3,				111 - 18 * bSpot,
			2, picIdx, 4, 2,
			cellWdt, cellHgt, picWdt, picHgt,
			1, stGenVisibility[1], 1,
			2, stGenVisibility[2], 2,
			3, stGenVisibility[3], 3,
			4, stGenVisibility[4], 4

		y1 = y1 + 114 - 18 * bSpot

		ui_separator 0,	y1,		444,	y1


		ui_infield{3}	"c4dVisUseFalloff",		x1,				y2,		boolWidth,			strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stVisLightUI[6], 0,
			1, stVisLightUI[6], 1

		y2 = y2 + 24 - 4 * bSpot

		ui_outfield	stVisLightUI[7],		x1,					y2,		sliderWidth,		outFldHgt, 4 * not(bGenVisibleLight & c4dVisUseFalloff)

		ui_slider	"c4dVisFalloff",		x1,					y2+17,	sliderWidth,		sliderHeight, nSegments, 1
		ui_infield	"c4dVisFalloff",		x3,					y2+14,	cx2,				numInfHgt		ui_tooltip `Зависимость Ослабления от Расстояния`
		ui_outfield	stVisLightUI[11],		x3+cx2+2,			y2+17,	15,					outFldHgt, 4 * not(bGenVisibleLight & c4dVisUseFalloff)

		y2 = y2 + 50 - 7 * bSpot

		ui_outfield	stVisLightUI[8],		x1,					y2,		cx1,				outFldHgt, 4 * not(bGenVisibleLight & c4dVisUseFalloff)
		ui_infield	"c4dVisInnerDistance",	x2,					y2-3,	numInfWdt,			numInfHgt

		y2 = y2 + 22

		ui_outfield	stVisLightUI[9],		x1,					y2,		cx1,				outFldHgt, 4 * not(bGenVisibleLight)
		ui_infield	"c4dVisOuterDistance",	x2,					y2-3,	numInfWdt,			numInfHgt

		if iC4dGenType = GENTYPE_SPOT then
			y2 = y2 + 18

			ui_separator 0,	y2,		x4-5,	y2

			y2 = y2 + 3

			ui_infield{3}	"c4dVisUseEdgeFalloff",	x1,				y2,		boolWidth,			strInfHgt,
				7, "", 1, 1,
				0, 0, 0, 0,
				1, stVisLightUI[10], 0,
				1, stVisLightUI[10], 1

			y2 = y2 + 20

			ui_outfield	stVisLightUI[7],		x1,					y2,		sliderWidth,		outFldHgt, 4 * not(bGenVisibleLight & c4dVisUseEdgeFalloff)

			ui_slider	"c4dVisEdgeFalloff",	x1,					y2+17,	sliderWidth,		sliderHeight, nSegments, 1
			ui_infield	"c4dVisEdgeFalloff",	x3,					y2+14,	cx2,				numInfHgt		ui_tooltip `Величина Ослабления к Ребрам`
			ui_outfield	stVisLightUI[11],		x3+cx2+2,			y2+17,	15,					outFldHgt, 4 * not(bGenVisibleLight & c4dVisUseEdgeFalloff)
		endif

		y2 = 120 - 19 * bSpot

		if bGenVisibleLight then
			if iC4dGenType = GENTYPE_SPOT then
				picIdx	= 32 + c4dVisUseEdgeFalloff + 2 * c4dVisUseFalloff
			else
				if iC4dGenType = GENTYPE_OMNI then
					picIdx	= 30 + c4dVisUseFalloff
				else
					picIdx	= 28 + c4dVisUseFalloff
				endif
			endif
		else
			picIdx	= 48 + (iC4dGenType = GENTYPE_SPOT)
		endif

		picWdt	= 181
		picHgt	= 143 + 18 * (iC4dGenType = GENTYPE_SPOT)

		ui_pict picIdx,		x4,		y2,		picWdt,		picHgt, 1
	endif

return


"noiseSettingsPage":

	x1	= 2
	x2	= 126
	x3	= 221
	x4	= 332
	x5	= 353
	x6	= 368
	x7	= 430
	y1	= 1
	dy1	= 45
	dy2	= 24

	buttonWdt	= 107
	buttonHgt	= 107
	outFldWdt	= 90
	outFldHgt	= 15
	numInfWdt	= 90
	numInfHgt	= 19
	boolWidth	= 214
	strInfHgt	= 19

	sliderWidth		= 235
	sliderHeight	= 19
	sliderInfWidth	= 40

	_bVisibleLight	= iC4dGenType = GENTYPE_OMNI | iC4dGenType = GENTYPE_SPOT | (iC4dGenType = GENTYPE_AREA)

	if _bVisibleLight then
		_outFldFlag = 4 * not(bNoiseIllumination) * not(bNoiseVisibility)
	else
		_outFldFlag = 4 * not(bNoiseIllumination)
	endif

	dim	stNoiseUI[12]
		stNoiseUI[1]	= `Шум Освещения`
		stNoiseUI[2]	= `Зернистость`
		stNoiseUI[3]	= `Тип`
		stNoiseUI[4]	= `Жесткость`
		stNoiseUI[5]	= `Яркость`
		stNoiseUI[6]	= `Контраст`
		stNoiseUI[7]	= `Шум Видимого Света`
		stNoiseUI[8]	= `Размер Шума`
		stNoiseUI[9]	= "X:"
		stNoiseUI[10]	= "Y:"
		stNoiseUI[11]	= "Z:"
		stNoiseUI[12]	= "%"

	ui_style 0, 1
	ui_infield{3}	"bNoiseIllumination",		x1,	y1,		boolWidth,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stNoiseUI[1], 0,
		1, stNoiseUI[1], 1

	y1 = y1 + 20

	ui_style 0, 0
	ui_infield{3}	"bNoiseIllumination",		x1,	y1,		buttonWdt,		buttonHgt,
		6, 20, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	y1 = y1 + 6

	ui_outfield		stNoiseUI[2],				x2,	y1,		outFldWdt,		outFldHgt, _outFldFlag

	y1 = y1 + 18

	ui_infield		"c4dNoiIlluminationScale",	x2,	y1,		numInfWdt,		numInfHgt

	y1 = y1 + 88

	ui_separator 0,	y1,		444,	y1

	y1 = y1 + 6

	ui_style 0, 1
	ui_outfield		stNoiseUI[3],				x1,	y1,		outFldWdt,		outFldHgt, _outFldFlag
	ui_style 0, 0
	ui_infield{3}	"iC4dNoiType",				x1,	y1+17,	buttonWdt,		buttonHgt,
		2, 21, 4, 2,
		180, 105, 92, 101,
		1, stNoiType[1], 1,
		2, stNoiType[2], 2,
		3, stNoiType[3], 3,
		4, stNoiType[4], 4

	ui_outfield		stNoiseUI[4],				x2,	y1,		outFldWdt,		outFldHgt,		_outFldFlag
	ui_slider		"c4dNoiOctaves",			x2,	y1+16,	sliderWidth,	sliderHeight,	8
	ui_infield		"c4dNoiOctaves",			x6,	y1+13,	numInfWdt-30,	numInfHgt		ui_tooltip stNoiseUI[4]

	y1 = y1 + dy1

	ui_outfield		stNoiseUI[5],				x2,	y1,		outFldWdt,		outFldHgt,		_outFldFlag
	ui_slider		"c4dNoiBrightness",			x2,	y1+16,	sliderWidth,	sliderHeight,	20
	ui_infield		"c4dNoiBrightness",			x6,	y1+13,	numInfWdt-30,	numInfHgt		ui_tooltip stNoiseUI[5]
	ui_outfield		stNoiseUI[12],				x7,	y1+16,	13,				outFldHgt,		_outFldFlag

	y1 = y1 + dy1

	ui_outfield		stNoiseUI[6],				x2,	y1,		outFldWdt,		outFldHgt,		_outFldFlag
	ui_slider		"c4dNoiContrast",			x2,	y1+16,	sliderWidth,	sliderHeight,	20
	ui_infield		"c4dNoiContrast",			x6,	y1+13,	numInfWdt-30,	numInfHgt		ui_tooltip stNoiseUI[6]
	ui_outfield		stNoiseUI[12],				x7,	y1+16,	13,				outFldHgt,		_outFldFlag

	if _bVisibleLight then
		y1 = 1

		ui_style 0, 1
		ui_infield{3}	"bNoiseVisibility",		x3,	y1,		boolWidth,		strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stNoiseUI[7], 0,
			1, stNoiseUI[7], 1

		y1 = y1 + 20

		ui_style 0, 0
		ui_infield{3}	"bNoiseVisibility",		x3,	y1,		buttonWdt,		buttonHgt,
			6, 22, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1

		y1 = y1 + 6

		ui_outfield		stNoiseUI[8],				x4,	y1,		outFldWdt,		outFldHgt, 4 * not(bNoiseVisibility)

		y1 = y1 + dy2

		ui_outfield		stNoiseUI[9],				x4,	y1,		20,				outFldHgt, 4 * not(bNoiseVisibility)
		ui_infield{3}	c4dNoiVisibilityScale[1],	x5,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Размер X Шума Видимого Света`

		y1 = y1 + dy2

		ui_outfield		stNoiseUI[10],				x4,	y1,		20,				outFldHgt, 4 * not(bNoiseVisibility)
		ui_infield{3}	c4dNoiVisibilityScale[2],	x5,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Размер Y Шума Видимого Света`

		y1 = y1 + dy2

		ui_outfield		stNoiseUI[11],				x4,	y1,		20,				outFldHgt, 4 * not(bNoiseVisibility)
		ui_infield{3}	c4dNoiVisibilityScale[3],	x5,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Размер Z Шума Видимого Света`
	endif

return


"causticsSettingsPage":

	x1	= 2
	x2	= 122
	x3	= 320
	x4	= 427
	y1	= 2
	dy1	= 16
	dy2	= 41

	buttonWdt	= 116
	buttonHgt	= 116
	outFldWdt	= 195
	outFldHgt	= 15
	numInfWdt	= 105
	numInfHgt	= 19
	boolWidth	= 195
	strInfHgt	= 19

	_bVolCauEnabled =	iC4dGenType = GENTYPE_OMNI | iC4dGenType = GENTYPE_SPOT | \
						iC4dGenType = GENTYPE_AREA

	dim	stCausticsUI[9]
		stCausticsUI[1] = `Поверхностные Каустики`
		stCausticsUI[2] = `Начальная Энергия`
		stCausticsUI[3] = `(Определяет Яркость)`
		stCausticsUI[4] = `Фотоны`
		stCausticsUI[5] = `(Точность выше, Расчет медленнее)`
		stCausticsUI[6] = `Объемные Каустики`
		stCausticsUI[7] = `(Видимый Свет должен быть Объемным)`
		stCausticsUI[8] = `Ослабление - Зависимость Энергии от Дистанции`
		stCausticsUI[9] = "%"


	ui_style 0, 1
	ui_infield{3}	"c4dCauSurface",		x2,	y1,		444-x2-1,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stCausticsUI[1], 0,
		1, stCausticsUI[1], 1

	ui_infield{3}	"c4dCauSurface",		x1,	y1,	buttonWdt,		buttonHgt,
		6, 2, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	y1 = y1 + 26

	ui_style 0, 0
	ui_outfield		stCausticsUI[2],		x2,	y1,		outFldWdt,		outFldHgt, 4 * not(c4dCauSurface)
	ui_outfield		stCausticsUI[3],		x2,	y1+dy1,	outFldWdt,		outFldHgt, 4 * not(c4dCauSurface)
	ui_infield		"c4dCauSurfaceEnergy",	x3,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Начальная Энергия Поверхностных Каустиков`
	ui_outfield		stCausticsUI[9],		x4,	y1,		10,				outFldHgt, 4 * not(c4dCauSurface)

	y1 = y1 + dy2

	ui_outfield		stCausticsUI[4],		x2,	y1,		outFldWdt,		outFldHgt, 4 * not(c4dCauSurface)
	ui_outfield		stCausticsUI[5],		x2,	y1+dy1,	outFldWdt,		outFldHgt, 4 * not(c4dCauSurface)
	ui_infield		"c4dCauSurfacePhotons",	x3,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Кол-во Фотонов Поверхностных Каустиков`

	y1 = y1 + 50

	if _bVolCauEnabled then
		_bShowVolCau =	bGenVisibleLight and (iC4dGenType = GENTYPE_OMNI | iC4dGenType = GENTYPE_SPOT | \
						(iC4dGenType = GENTYPE_AREA and (iC4dDetAreaShape = AREASHAPE_LINE)))

		ui_separator 0,	y1,		444,	y1

		y1 = y1 + 3

		ui_style 0, 1
		ui_infield{3}	"c4dCauVolume",			x2,	y1,		444-x2-1,		strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stCausticsUI[6], 0,
			1, stCausticsUI[6], 1

		ui_infield{3}	"c4dCauVolume",			x1,	y1,	buttonWdt,		buttonHgt,
			6, 3, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1

		y1 = y1 + 20

		ui_outfield		stCausticsUI[7],		x2+16,	y1,		428-x2,		outFldHgt, 4 * not(_bShowVolCau)

		y1 = y1 + 23

		ui_style 0, 0
		ui_outfield		stCausticsUI[2],		x2,	y1,		outFldWdt,		outFldHgt, 4 * (not(_bShowVolCau) | not(c4dCauVolume))
		ui_outfield		stCausticsUI[3],		x2,	y1+dy1,	outFldWdt,		outFldHgt, 4 * (not(_bShowVolCau) | not(c4dCauVolume))
		ui_infield		"c4dCauVolumeEnergy",	x3,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Начальная Энергия Объемных Каустиков`
		ui_outfield		stCausticsUI[9],		x4,	y1,		10,				outFldHgt, 4 * (not(_bShowVolCau) | not(c4dCauVolume))

		y1 = y1 + dy2

		ui_outfield		stCausticsUI[4],		x2,	y1,		outFldWdt,		outFldHgt, 4 * (not(_bShowVolCau) | not(c4dCauVolume))
		ui_outfield		stCausticsUI[5],		x2,	y1+dy1,	outFldWdt,		outFldHgt, 4 * (not(_bShowVolCau) | not(c4dCauVolume))
		ui_infield		"c4dCauVolumePhotons",	x3,	y1-3,	numInfWdt,		numInfHgt		ui_tooltip `Кол-во Фотонов Объемных Каустиков`

		y1 = y1 + 34
	endif

	ui_separator 0,	y1,		444,	y1

	y1 = y1 + 5

	ui_infield{3}	"bCauShowFalloff",		x1,	y1,		440,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stCausticsUI[8], 0,
		1, stCausticsUI[8], 1


return


"lensFlareSettingsPage":

	x1	= 2
	x2	= 94
	x3	= 113
	x4	= 148
	x5	= 208
	x6	= 227
	x7	= 319
	x8	= 338
	x9	= 373
	x10	= 433
	y1	= 5

	buttonWdt	= 125
	buttonHgt	= 99
	outFldWdt	= 110
	outFldHgt	= 15
	numInfWdt	= 93
	numInfHgt	= 19
	boolWidth	= 90
	strInfHgt	= 19

	sliderWidth		= 145
	sliderHeight	= 19
	sliderInfWidth	= 58

	_glowOutFldFlag	= 4 * not(bLenShowGlow)
	_reflOutFldFlag	= 4 * not(bLenShowReflexes)

	dim	stLensFlareUI[9]
		stLensFlareUI[1] = `Ореол`
		stLensFlareUI[2] = `Рефлекс`
		stLensFlareUI[3] = `Яркость`
		stLensFlareUI[4] = `Высота / Ширина`
		stLensFlareUI[5] = `Поворот`
		stLensFlareUI[6] = `Размер`
		stLensFlareUI[7] = `Невидимый`
		stLensFlareUI[8] = `Крупный`
		stLensFlareUI[9] = "%"

	ui_style 0, 1
	ui_infield{3}	"bLenShowGlow",			x1,	y1,		boolWidth,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stLensFlareUI[1], 0,
		1, stLensFlareUI[1], 1

	ui_style 0, 0
	ui_infield{3}	"iC4dLenGlow",			x2,	y1,		buttonWdt,		buttonHgt,
		2, 18, 24, 8,
		200, 95, 110, 93,
		0,	stLenGlow[1],	1,
		1,	stLenGlow[2],	2,
		2,	stLenGlow[3],	3,
		3,	stLenGlow[4],	4,
		4,	stLenGlow[5],	5,
		5,	stLenGlow[6],	6,
		6,	stLenGlow[7],	7,
		7,	stLenGlow[8],	8,
		8,	stLenGlow[9],	9,
		9,	stLenGlow[10],	10,
		10,	stLenGlow[11],	11,
		11,	stLenGlow[12],	12,
		12,	stLenGlow[13],	13,
		13,	stLenGlow[14],	14,
		14,	stLenGlow[15],	15,
		15,	stLenGlow[16],	16,
		16,	stLenGlow[17],	17,
		17,	stLenGlow[18],	18,
		18,	stLenGlow[19],	19,
		19,	stLenGlow[20],	20,
		20,	stLenGlow[21],	21,
		21,	stLenGlow[22],	22,
		22,	stLenGlow[23],	23

	ui_style 0, 1
	ui_infield{3}	"bLenShowReflexes",		x6,	y1,		boolWidth,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stLensFlareUI[2], 0,
		1, stLensFlareUI[2], 1

	ui_style 0, 0
	ui_infield{3}	"iC4dLenReflexes",		x7,	y1,		buttonWdt,		buttonHgt,
		2, 19, 15, 5,
		200, 95, 110, 93,
		0,	stLenReflexes[1],	1,
		1,	stLenReflexes[2],	2,
		2,	stLenReflexes[3],	3,
		3,	stLenReflexes[4],	4,
		4,	stLenReflexes[5],	5,
		5,	stLenReflexes[6],	6,
		6,	stLenReflexes[7],	7,
		7,	stLenReflexes[8],	8,
		8,	stLenReflexes[9],	9,
		9,	stLenReflexes[10],	10,
		10,	stLenReflexes[11],	11,
		11,	stLenReflexes[12],	12,
		12,	stLenReflexes[13],	13,
		13,	stLenReflexes[14],	14,
		14,	stLenReflexes[15],	15,
		15,	stLenReflexes[16],	16

	y1 = y1 + 110

	ui_outfield		stLensFlareUI[3],			x1,		y1,		outFldWdt,		outFldHgt,		_glowOutFldFlag
	ui_slider		"c4dLenGlowBrightness",		x1,		y1+16,	sliderWidth,	sliderHeight,	10
	ui_infield		"c4dLenGlowBrightness",		x4,		y1+13,	sliderInfWidth,	numInfHgt		ui_tooltip `Яркость Ореола на Линзе`
	ui_outfield		stLensFlareUI[9],			x5,		y1+16,	11,				outFldHgt,		_glowOutFldFlag

	ui_outfield		stLensFlareUI[3],			x6,		y1,		outFldWdt,		outFldHgt,		_reflOutFldFlag
	ui_slider		"c4dLenReflexBrightness",	x6,		y1+16,	sliderWidth,	sliderHeight,	10
	ui_infield		"c4dLenReflexBrightness",	x9,		y1+13,	sliderInfWidth,	numInfHgt		ui_tooltip `Яркость Рефлекса на Линзе`
	ui_outfield		stLensFlareUI[9],			x10,	y1+16,	11,				outFldHgt,		_reflOutFldFlag

	y1 = y1 + 48

	ui_outfield		stLensFlareUI[4],			x1,	y1,		outFldWdt,		outFldHgt,		_glowOutFldFlag
	ui_infield		"c4dLenGlowAspectRatio",	x3,	y1-3,	numInfWdt,		numInfHgt

	ui_outfield		stLensFlareUI[4],			x6,	y1,		outFldWdt,		outFldHgt,		_reflOutFldFlag
	ui_infield		"c4dLenReflexAspectRatio",	x8,	y1-3,	numInfWdt,		numInfHgt

	y1 = y1 + 24

	ui_outfield		stLensFlareUI[5],			x1,	y1,		outFldWdt,		outFldHgt,		_glowOutFldFlag
	ui_infield		"c4dLenRotation",			x3,	y1-3,	numInfWdt,		numInfHgt

	y1 = y1 + 26

	ui_separator	0,	y1,		444,	y1
	ui_separator	x5+13,	0,		x5+13,		y1-3

	y1 = y1 + 12

	ui_style 0, 1
	ui_outfield		stLensFlareUI[6],			x1,	y1,		boolWidth,		outFldHgt,		4 * not(bLenShowGlow | bLenShowReflexes)


	sliderWidth = 278

	ui_style 0, 0
	ui_outfield		stLensFlareUI[7],			x2,					y1,		sliderWidth/2-1,	outFldHgt-2,	4 * not(bLenShowGlow | bLenShowReflexes)
	ui_outfield		stLensFlareUI[8],			x2+sliderWidth/2+1,	y1,		sliderWidth/2-1,	outFldHgt-2,	1 + 4 * not(bLenShowGlow | bLenShowReflexes)

	ui_slider		"c4dLenScale",				x2,					y1+14,	sliderWidth,		sliderHeight,	20
	ui_infield		"c4dLenScale",				x9,					y1+11,	sliderInfWidth,		numInfHgt		ui_tooltip `Размер Блика на Линзе`
	ui_outfield		stLensFlareUI[9],			x10,				y1+14,	11,					outFldHgt,		4 * not(bLenShowGlow | bLenShowReflexes)

return


"clippingSettingsPage":

	x1	= 2
	x2	= 213
	x3	= 338
	y1	= 5
	y2	= y1 + 130
	dy	= 24

	buttonWdt	= 206
	buttonHgt	= 116
	outFldWdt	= 120
	outFldHgt	= 15
	numInfWdt	= 105
	numInfHgt	= 19
	boolWidth	= 230
	strInfHgt	= 19

	dim	stClippingUI[8]
		stClippingUI[1] = `Ближнее Отсечение`
		stClippingUI[2] = `Дальнее Отсечение`
		stClippingUI[3] = "(1) " + `С`
		stClippingUI[4] = "(2) " + `До`
		stClippingUI[5] = "(3) " + `С`
		stClippingUI[6] = "(4) " + `До`
		stClippingUI[7] = "(" + `Начало Света` + ")"
		stClippingUI[8] = "(" + `Конец Света` + ")"


	! --------------------------------------------------------------------------
	! Near Clip Settings
	! --------------------------------------------------------------------------

	ui_style 0, 1
	ui_infield{3}	"c4dDetNearClip",		x2,	y1,		boolWidth,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stClippingUI[1], 0,
		1, stClippingUI[1], 1

	ui_infield{3}	"c4dDetNearClip",		x1,	y1,		buttonWdt,		buttonHgt,
		6, 5, 2, 2,			! clippingNear.png
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	y1 = y1 + 20

	ui_outfield		stClippingUI[7],		x2+16,	y1,	boolWidth-16,	outFldHgt

	y1 = y1 + dy

	ui_style 0, 0
	ui_outfield		stClippingUI[3],		x2,	y1,		outFldWdt,		outFldHgt, 4 * not(c4dDetNearClip)
	ui_infield		"c4dDetNearFrom",		x3,	y1-4,	numInfWdt,		numInfHgt

	y1 = y1 + dy

	ui_outfield		stClippingUI[4],		x2,	y1,		outFldWdt,		outFldHgt, 4 * not(c4dDetNearClip)
	ui_infield		"c4dDetNearTo",			x3,	y1-4,	numInfWdt,		numInfHgt


	! --------------------------------------------------------------------------
	! Far Clip Settings
	! --------------------------------------------------------------------------

	ui_style 0, 1
	ui_infield{3}	"c4dDetFarClip",		x2,	y2,		boolWidth,		strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stClippingUI[2], 0,
		1, stClippingUI[2], 1

	ui_infield{3}	"c4dDetFarClip",		x1,	y2,		buttonWdt,		buttonHgt,
		6, 4, 2, 2,			! clippingFar.png
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	y2 = y2 + 20

	ui_outfield		stClippingUI[8],		x2+16,	y2,	boolWidth-16,	outFldHgt

	y2 = y2 + dy

	ui_style 0, 0
	ui_outfield		stClippingUI[5],		x2,	y2,		outFldWdt,		outFldHgt, 4 * not(c4dDetFarClip)
	ui_infield		"c4dDetFarFrom",		x3,	y2-4,	numInfWdt,		numInfHgt

	y2 = y2 + dy

	ui_outfield		stClippingUI[6],		x2,	y2,		outFldWdt,		outFldHgt, 4 * not(c4dDetFarClip)
	ui_infield		"c4dDetFarTo",			x3,	y2-4,	numInfWdt,		numInfHgt

return


"illuminationSettingsPage":

	x1	= 2
	x2	= 229
	y1	= 1
	y2	= 17
	y3	= 109
	dy	= 125

	buttonWdt	= 140
	buttonHgt	= 91
	outFldWdt	= 140
	outFldHgt	= 15
	boolWidth	= 215
	strInfHgt	= 32

	dim	stIlluminationUI[5]
		stIlluminationUI[1] = `Освещение`
		stIlluminationUI[2] = `Глобальное Освещение`
		stIlluminationUI[3] = `Рассеянное Освещение`
		stIlluminationUI[4] = `Только Эффекты, Без Освещения`
		stIlluminationUI[5] = `Освещение в Одном Направлении`

	ui_style 0, 1
	ui_outfield		stIlluminationUI[1],	x1,	y1,	outFldWdt,	outFldHgt

	ui_style 0, 0
	ui_infield{3}	"c4dGenGIIllumination",	x1,	y3,	boolWidth,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stIlluminationUI[2], 0,
		1, stIlluminationUI[2], 1			ui_tooltip `Реалистичный результат, но низкая скорость.`

	ui_infield{3}	"c4dGenGIIllumination",	x1,	y2,	buttonWdt,	buttonHgt,
		6, 15, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1							ui_tooltip `Реалистичный результат, но низкая скорость.`

	ui_infield{3}	"c4dGenAmbientOnly",	x2,	y3,	boolWidth,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stIlluminationUI[3], 0,
		1, stIlluminationUI[3], 1			ui_tooltip `Более плоский результат.`

	ui_infield{3}	"c4dGenAmbientOnly",	x2,	y2,	buttonWdt,	buttonHgt,
		6, 14, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1							ui_tooltip `Более плоский результат.`

	y2 = y2 + dy
	y3 = y3 + dy

	ui_infield{3}	"c4dGenNoIllumination",	x1,	y3,	boolWidth,	strInfHgt,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stIlluminationUI[4], 0,
		1, stIlluminationUI[4], 1

	ui_infield{3}	"c4dGenNoIllumination",	x1,	y2,	buttonWdt,	buttonHgt,
		6, 16, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	if not(iC4dGenType = GENTYPE_SPOT) then
		ui_infield{3}	"c4dDetOnlyZ",			x2,	y3,	boolWidth,	strInfHgt,
			7, "", 1, 1,
			0, 0, 0, 0,
			1, stIlluminationUI[5], 0,
			1, stIlluminationUI[5], 1

		ui_infield{3}	"c4dDetOnlyZ",			x2,	y2,	buttonWdt,	buttonHgt,
			6, 17, 2, 2,
			buttonWdt, buttonHgt, buttonWdt, buttonHgt,
			1, "", 0,
			2, "", 1
	endif

return


"surfaceSettingsPage":

	x1	= 2
	x2	= 229
	y1	= 1
	y2	= 17
	y3	= 110
	dy	= 125

	buttonWdt	= 140
	buttonHgt	= 91
	outFldWdt	= 140
	outFldHgt	= 15
	boolWidth	= 210
	strInfHgt	= 19

	dim	stShadowSurfaceUI[6]
		stShadowSurfaceUI[1] = `Отбрасывание Теней`
		stShadowSurfaceUI[2] = `Покрытие`
		stShadowSurfaceUI[3] = `Только Тени, Без Освещения`
		stShadowSurfaceUI[4] = `Игнорировать Канал Диффузии`
		stShadowSurfaceUI[5] = `Пренебречь Прозрачностью Покрытия`
		stShadowSurfaceUI[6] = `Игнорировать Канал Глянца`

	ui_style 0, 1
	ui_outfield		stShadowSurfaceUI[1],	x1,	y1,	outFldWdt,	outFldHgt
	ui_outfield		stShadowSurfaceUI[2],	x2,	y1,	outFldWdt,	outFldHgt

    doubleCheckboxHeight = 28
	ui_style 0, 0
	ui_infield{3}	"c4dDetShadowCaster",	x1,	y3,	boolWidth,	doubleCheckboxHeight,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stShadowSurfaceUI[3], 0,
		1, stShadowSurfaceUI[3], 1

	ui_infield{3}	"c4dDetShadowCaster",	x1,	y2,	buttonWdt,	buttonHgt,
		6, 26, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1

	ui_infield{3}	"c4dGenDiffuse",		x2,	y3,	boolWidth,	doubleCheckboxHeight,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stShadowSurfaceUI[4], 0,
		1, stShadowSurfaceUI[4], 1			ui_tooltip `Используйте эту опцию для получения эффекта металлических поверхностей.`

	ui_infield{3}	"c4dGenDiffuse",		x2,	y2,	buttonWdt,	buttonHgt,
		6, 24, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1							ui_tooltip `Используйте эту опцию для получения эффекта металлических поверхностей.`

	y2 = y2 + dy
	y3 = y3 + dy

	ui_infield{3}	"c4dShaTransparency",	x1,	y3,	boolWidth,	doubleCheckboxHeight,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stShadowSurfaceUI[5], 0,
		1, stShadowSurfaceUI[5], 1			ui_tooltip `Быстрая, но менее реалистичная визуализация.`

	ui_infield{3}	"c4dShaTransparency",	x1,	y2,	buttonWdt,	buttonHgt,
		6, 27, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1							ui_tooltip `Быстрая, но менее реалистичная визуализация.`

	ui_infield{3}	"c4dGenSpecular",			x2,	y3,	boolWidth,	doubleCheckboxHeight,
		7, "", 1, 1,
		0, 0, 0, 0,
		1, stShadowSurfaceUI[6], 0,
		1, stShadowSurfaceUI[6], 1			ui_tooltip `Предотвращает нежелательный глянец на блестящих поверхностях.`

	ui_infield{3}	"c4dGenSpecular",			x2,	y2,	buttonWdt,	buttonHgt,
		6, 25, 2, 2,
		buttonWdt, buttonHgt, buttonWdt, buttonHgt,
		1, "", 0,
		2, "", 1							ui_tooltip `Предотвращает нежелательный глянец на блестящих поверхностях.`

	ui_separator x2-5,	0,		x2-5,	265

return


"listParametersPage":

	ui_listfield listFieldID, 0, 0, 444, 266

	ui_listitem listItemID, listFieldID, "gs_list_lampGroup"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_cost"				: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_manufacturer"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_lamptype"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_lens"				: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_mounting"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_NumberOfLights"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_PowerConsumption"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_WattPerLight"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_Mobile"				: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_note"				: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_location"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_accessories"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_volts"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_Type"					: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_InventoryNumber"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_SerialNumber"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_ProductionYear"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_ObjectWeight"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_ObjectWeightUnit"		: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "FM_Egress"				: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_custom1"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_custom2"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_custom3"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_custom4"			: listItemID = listItemID + 1
	ui_listitem listItemID, listFieldID, "gs_list_custom5"			: listItemID = listItemID + 1

	if LibraryLangCode = "AUT" or LibraryLangCode = "CHE" or LibraryLangCode = "GER" then
		dim stOnormNames[10]
			stOnormNames[1] = "gs_onorm_name"
			stOnormNames[2] = "gs_onorm_height"
			stOnormNames[3] = "gs_onorm_powercons"
			stOnormNames[4] = "gs_onorm_aks"
			stOnormNames[5] = "gs_onorm_product"
			stOnormNames[6] = "gs_onorm_leistungbuch"
			stOnormNames[7] = "gs_onorm_description"
			stOnormNames[8] = "gs_onorm_id"
			stOnormNames[9] = "gs_onorm_admission"
			stOnormNames[10] = "gs_onorm_modification"

		ui_listitem listItemID, listfieldID, "gs_onorm_Title", 0, "", `Дополнительные Параметры Спецификаций` 		! Group line
		listItemID = listItemID + 1
		for j = 1 to vardim1(stOnormNames)
			ui_listitem listItemID,	listfieldID, stOnormNames[j],	1
			listItemID = listItemID + 1
		next j
	endif
return

