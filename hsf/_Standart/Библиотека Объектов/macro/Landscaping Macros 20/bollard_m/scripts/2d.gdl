
! ==============================================================================
! bollard_m
! ==============================================================================


pen gs_cont_pen
fill gs_fill_type


! ==============================================================================
! Bollard Types 2D
! ==============================================================================

if bPartOfLayout then add2 xBollardPos, yBollardPos

if iBollardType > BOLLARD_TRUNCATEDCONE & bBollardBase = 1 then

	if iBollardType = BOLLARD_TYPE2 | iBollardType = BOLLARD_TYPE4 then
		NN=0.6
	else
		NN=0.7
	endif

	poly2_b 2, 1+2+64, gs_fill_pen, gs_back_pen,
		0,0,900,
		A*NN,360,4001

endif

if iBollardType = BOLLARD_PRISM then

	poly2_b 5, 1+2+64, gs_fill_pen, gs_back_pen,
		-A/2, -B/2, 1,
		A/2, -B/2, 1,
		A/2, B/2, 1,
		-A/2, B/2, 1,
		-A/2, -B/2, -1

else

	poly2_b 2, 1+2+64, gs_fill_pen, gs_back_pen,
		0,0,900,
		A*0.5,360,4001

endif

if bPartOfLayout then del 1


! ==============================================================================
! Hotspots 2D
! ==============================================================================

unID = bollardUnID

if not(bPartOfLayout) then

	if iBollardType > BOLLARD_TRUNCATEDCONE then

		HOTSPOT2 0,0,unID :	unID=unID+1

		HOTSPOT2 0, 0, unID, temp_a, 1+128, A:	unID=unID+1
		HOTSPOT2 -1, 0, unID, temp_a, 3+128, A: unID=unID+1
		HOTSPOT2 temp_a, 0, unID, temp_a, 2, A: unID=unID+1

		ROT2 90
			HOTSPOT2 0, 0, unID, temp_a, 1+128, A:	unID=unID+1
			HOTSPOT2 -1, 0, unID, temp_a, 3+128, A: unID=unID+1
			HOTSPOT2 temp_a, 0, unID, temp_a, 2, A: unID=unID+1
		DEL 1

		ROT2 180
			HOTSPOT2 0, 0, unID, temp_a, 1+128, A:	unID=unID+1
			HOTSPOT2 -1, 0, unID, temp_a, 3+128, A: unID=unID+1
			HOTSPOT2 temp_a, 0, unID, temp_a, 2, A: unID=unID+1
		DEL 1

		ROT2 270
			HOTSPOT2 0, 0, unID, temp_a, 1+128, A:	unID=unID+1
			HOTSPOT2 -1, 0, unID, temp_a, 3+128, A: unID=unID+1
			HOTSPOT2 temp_a, 0, unID, temp_a, 2, A: unID=unID+1
		DEL 1
	endif

	if iBollardType > BOLLARD_TYPE1 & bBollardBase = 1 then

		HOTSPOT2 A*NN, 0, unID: unID=unID+1
		HOTSPOT2 -A*NN, 0, unID: unID=unID+1

		HOTSPOT2 0, A*NN,  unID: unID=unID+1
		HOTSPOT2 0, -A*NN,  unID: unID=unID+1

	endif

endif

if bPartOfLayout then
	hotspot2 0, yBollardPos, unID, xBollardPos, 1+128 		: unID=unID+1
	hotspot2 -1, yBollardPos, unID, xBollardPos, 3 			: unID=unID+1
	hotspot2 xBollardPos, yBollardPos, unID, xBollardPos, 2 : unID=unID+1

	hotspot2 xBollardPos, 0, unID, yBollardPos, 1+128 		: unID=unID+1
	hotspot2 xBollardPos, -1, unID, yBollardPos, 3 			: unID=unID+1
	hotspot2 xBollardPos, yBollardPos, unID, yBollardPos, 2 : unID=unID+1
endif
