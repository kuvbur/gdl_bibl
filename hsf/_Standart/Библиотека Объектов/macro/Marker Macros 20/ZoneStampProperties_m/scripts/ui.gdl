
if iUIDisplayScale = SCALE_INSENSITIVE then
	_iTnCSelectParams = iTnCSelectParams_0
	_scaleExt = "_0" 
else
	if iUIDisplayScale = SCALE_50 then
		_iTnCSelectParams = iTnCSelectParams_50
		_scaleExt = "_50" 
	else
		if iUIDisplayScale = SCALE_100 then
			_iTnCSelectParams = iTnCSelectParams_100
			_scaleExt = "_100"
		else			! SCALE_200
			_iTnCSelectParams = iTnCSelectParams_200
			_scaleExt = "_200"
		endif
	endif
endif

if bDrawUIPage then
	! ----- in case of display none type at sorting -------
	! hiding parameter name display without clearing the custom name values
	dim _isEmpty[20]
	for iEmpty = 1 to 20
		_isEmpty[iEmpty] = 0
	next iEmpty
	
	if _iTnCSelectParams = PARAMSELECTION_SORTING then
		if iUIDisplayScale = SCALE_INSENSITIVE then
			if sIDRow1_0 = "" then _isEmpty[1] = 1
			if sIDRow2_0 = "" then _isEmpty[2] = 1
			if sIDRow3_0 = "" then _isEmpty[3] = 1
			if sIDRow4_0 = "" then _isEmpty[4] = 1
			if sIDRow5_0 = "" then _isEmpty[5] = 1
			if sIDRow6_0 = "" then _isEmpty[6] = 1
			if sIDRow7_0 = "" then _isEmpty[7] = 1
			if sIDRow8_0 = "" then _isEmpty[8] = 1
			if sIDRow9_0 = "" then _isEmpty[9] = 1
			if sIDRow10_0 = "" then _isEmpty[10] = 1
			if sIDRow11_0 = "" then _isEmpty[11] = 1
			if sIDRow12_0 = "" then _isEmpty[12] = 1
			if sIDRow13_0 = "" then _isEmpty[13] = 1
			if sIDRow14_0 = "" then _isEmpty[14] = 1
			if sIDRow15_0 = "" then _isEmpty[15] = 1
			if sIDRow16_0 = "" then _isEmpty[16] = 1
			if sIDRow17_0 = "" then _isEmpty[17] = 1
			if sIDRow18_0 = "" then _isEmpty[18] = 1
			if sIDRow19_0 = "" then _isEmpty[19] = 1
			if sIDRow20_0 = "" then _isEmpty[20] = 1
		else
			if iUIDisplayScale = SCALE_50 then
				if sIDRow1_50 = "" then _isEmpty[1] = 1
				if sIDRow2_50 = "" then _isEmpty[2] = 1
				if sIDRow3_50 = "" then _isEmpty[3] = 1
				if sIDRow4_50 = "" then _isEmpty[4] = 1
				if sIDRow5_50 = "" then _isEmpty[5] = 1
				if sIDRow6_50 = "" then _isEmpty[6] = 1
				if sIDRow7_50 = "" then _isEmpty[7] = 1
				if sIDRow8_50 = "" then _isEmpty[8] = 1
				if sIDRow9_50 = "" then _isEmpty[9] = 1
				if sIDRow10_50 = "" then _isEmpty[10] = 1
				if sIDRow11_50 = "" then _isEmpty[11] = 1
				if sIDRow12_50 = "" then _isEmpty[12] = 1
				if sIDRow13_50 = "" then _isEmpty[13] = 1
				if sIDRow14_50 = "" then _isEmpty[14] = 1
				if sIDRow15_50 = "" then _isEmpty[15] = 1
				if sIDRow16_50 = "" then _isEmpty[16] = 1
				if sIDRow17_50 = "" then _isEmpty[17] = 1
				if sIDRow18_50 = "" then _isEmpty[18] = 1
				if sIDRow19_50 = "" then _isEmpty[19] = 1
				if sIDRow20_50 = "" then _isEmpty[20] = 1
			else
				if iUIDisplayScale = SCALE_100 then
					if sIDRow1_100 = "" then _isEmpty[1] = 1
					if sIDRow2_100 = "" then _isEmpty[2] = 1
					if sIDRow3_100 = "" then _isEmpty[3] = 1
					if sIDRow4_100 = "" then _isEmpty[4] = 1
					if sIDRow5_100 = "" then _isEmpty[5] = 1
					if sIDRow6_100 = "" then _isEmpty[6] = 1
					if sIDRow7_100 = "" then _isEmpty[7] = 1
					if sIDRow8_100 = "" then _isEmpty[8] = 1
					if sIDRow9_100 = "" then _isEmpty[9] = 1
					if sIDRow10_100 = "" then _isEmpty[10] = 1
					if sIDRow11_100 = "" then _isEmpty[11] = 1
					if sIDRow12_100 = "" then _isEmpty[12] = 1
					if sIDRow13_100 = "" then _isEmpty[13] = 1
					if sIDRow14_100 = "" then _isEmpty[14] = 1
					if sIDRow15_100 = "" then _isEmpty[15] = 1
					if sIDRow16_100 = "" then _isEmpty[16] = 1
					if sIDRow17_100 = "" then _isEmpty[17] = 1
					if sIDRow18_100 = "" then _isEmpty[18] = 1
					if sIDRow19_100 = "" then _isEmpty[19] = 1
					if sIDRow20_100 = "" then _isEmpty[20] = 1
				else			! SCALE_200
					if sIDRow1_200 = "" then _isEmpty[1] = 1
					if sIDRow2_200 = "" then _isEmpty[2] = 1
					if sIDRow3_200 = "" then _isEmpty[3] = 1
					if sIDRow4_200 = "" then _isEmpty[4] = 1
					if sIDRow5_200 = "" then _isEmpty[5] = 1
					if sIDRow6_200 = "" then _isEmpty[6] = 1
					if sIDRow7_200 = "" then _isEmpty[7] = 1
					if sIDRow8_200 = "" then _isEmpty[8] = 1
					if sIDRow9_200 = "" then _isEmpty[9] = 1
					if sIDRow10_200 = "" then _isEmpty[10] = 1
					if sIDRow11_200 = "" then _isEmpty[11] = 1
					if sIDRow12_200 = "" then _isEmpty[12] = 1
					if sIDRow13_200 = "" then _isEmpty[13] = 1
					if sIDRow14_200 = "" then _isEmpty[14] = 1
					if sIDRow15_200 = "" then _isEmpty[15] = 1
					if sIDRow16_200 = "" then _isEmpty[16] = 1
					if sIDRow17_200 = "" then _isEmpty[17] = 1
					if sIDRow18_200 = "" then _isEmpty[18] = 1
					if sIDRow19_200 = "" then _isEmpty[19] = 1
					if sIDRow20_200 = "" then _isEmpty[20] = 1
				endif
			endif
		endif
	endif

	dim temp_TnCSelectParams[4]
		temp_TnCSelectParams[1] = "iTnCSelectParams_0"
		temp_TnCSelectParams[2] = "iTnCSelectParams_50"
		temp_TnCSelectParams[3] = "iTnCSelectParams_100"
		temp_TnCSelectParams[4] = "iTnCSelectParams_200"
    
	dim temp_TncDisplayData[4]
		temp_TncDisplayData[1] = "iTncDisplayData_0"
		temp_TncDisplayData[2] = "iTncDisplayData_50"
		temp_TncDisplayData[3] = "iTncDisplayData_100"
		temp_TncDisplayData[4] = "iTncDisplayData_200"

	yPos	= UISubPageTop
	yOfset	= 25
	
	UI_STYLE 0,bUIBoldFirstRow
	UI_outField `Выбор Данных`, 5, yPos,200,20
	UI_STYLE 0,0
	
	ui_infield{4} temp_TnCSelectParams[iUIDisplayScale+1], 210, yPos,234,20,
				8, "", 2,
				1, 0, 0, 0, 0,
				1, _stSelectParams[1], PARAMSELECTION_SORTING,
				2, _stSelectParams[2], PARAMSELECTION_CATONLY
	
	yPos = yPos + yOfset
	
	if bShowDisplayDataBy then 
		UI_outField `Показ Данных по`, 5, yPos,200,20
		ui_infield{4} temp_TncDisplayData[iUIDisplayScale+1], 210, yPos,234,20,
					8, "", 3,
					1, 0, 0, 0, 0,
					"", _stDisplayDataBy[1], DISPLAYDATABY_NAMEVALUE,
					"", _stDisplayDataBy[2], DISPLAYDATABY_NAME,
					"", _stDisplayDataBy[3], DISPLAYDATABY_VALUE,
					"", _stDisplayDataBy[4], DISPLAYDATABY_GROUPNAME,
					"", _stDisplayDataBy[5], DISPLAYDATABY_GROUPNAMEVALUE
		yPos = yPos + yOfset
	endif


dim _paramContentIDbyRow[20]
	_paramContentIDbyRow[1] = "sIDRow1" + _scaleExt
	_paramContentIDbyRow[2] = "sIDRow2" + _scaleExt
	_paramContentIDbyRow[3] = "sIDRow3" + _scaleExt
	_paramContentIDbyRow[4] = "sIDRow4" + _scaleExt
	_paramContentIDbyRow[5] = "sIDRow5" + _scaleExt
	_paramContentIDbyRow[6] = "sIDRow6" + _scaleExt
	_paramContentIDbyRow[7] = "sIDRow7" + _scaleExt
	_paramContentIDbyRow[8] = "sIDRow8" + _scaleExt
	_paramContentIDbyRow[9] = "sIDRow9" + _scaleExt
	_paramContentIDbyRow[10] = "sIDRow10" + _scaleExt
	_paramContentIDbyRow[11] = "sIDRow11" + _scaleExt
	_paramContentIDbyRow[12] = "sIDRow12" + _scaleExt
	_paramContentIDbyRow[13] = "sIDRow13" + _scaleExt
	_paramContentIDbyRow[14] = "sIDRow14" + _scaleExt
	_paramContentIDbyRow[15] = "sIDRow15" + _scaleExt
	_paramContentIDbyRow[16] = "sIDRow16" + _scaleExt
	_paramContentIDbyRow[17] = "sIDRow17" + _scaleExt
	_paramContentIDbyRow[18] = "sIDRow18" + _scaleExt
	_paramContentIDbyRow[19] = "sIDRow19" + _scaleExt
	_paramContentIDbyRow[20] = "sIDRow20" + _scaleExt

dim _valueContentIDbyRow[20]

	if iUIDisplayScale = SCALE_INSENSITIVE then
		_valueContentIDbyRow[1] = sIDRow1_0
		_valueContentIDbyRow[2] = sIDRow2_0
		_valueContentIDbyRow[3] = sIDRow3_0
		_valueContentIDbyRow[4] = sIDRow4_0
		_valueContentIDbyRow[5] = sIDRow5_0
		_valueContentIDbyRow[6] = sIDRow6_0
		_valueContentIDbyRow[7] = sIDRow7_0
		_valueContentIDbyRow[8] = sIDRow8_0
		_valueContentIDbyRow[9] = sIDRow9_0
		_valueContentIDbyRow[10] = sIDRow10_0
		_valueContentIDbyRow[11] = sIDRow11_0
		_valueContentIDbyRow[12] = sIDRow12_0
		_valueContentIDbyRow[13] = sIDRow13_0
		_valueContentIDbyRow[14] = sIDRow14_0
		_valueContentIDbyRow[15] = sIDRow15_0
		_valueContentIDbyRow[16] = sIDRow16_0
		_valueContentIDbyRow[17] = sIDRow17_0
		_valueContentIDbyRow[18] = sIDRow18_0
		_valueContentIDbyRow[19] = sIDRow19_0
		_valueContentIDbyRow[20] = sIDRow20_0
	else
		if iUIDisplayScale = SCALE_50 then
			_valueContentIDbyRow[1] = sIDRow1_50
			_valueContentIDbyRow[2] = sIDRow2_50
			_valueContentIDbyRow[3] = sIDRow3_50
			_valueContentIDbyRow[4] = sIDRow4_50
			_valueContentIDbyRow[5] = sIDRow5_50
			_valueContentIDbyRow[6] = sIDRow6_50
			_valueContentIDbyRow[7] = sIDRow7_50
			_valueContentIDbyRow[8] = sIDRow8_50
			_valueContentIDbyRow[9] = sIDRow9_50
			_valueContentIDbyRow[10] = sIDRow10_50
			_valueContentIDbyRow[11] = sIDRow11_50
			_valueContentIDbyRow[12] = sIDRow12_50
			_valueContentIDbyRow[13] = sIDRow13_50
			_valueContentIDbyRow[14] = sIDRow14_50
			_valueContentIDbyRow[15] = sIDRow15_50
			_valueContentIDbyRow[16] = sIDRow16_50
			_valueContentIDbyRow[17] = sIDRow17_50
			_valueContentIDbyRow[18] = sIDRow18_50
			_valueContentIDbyRow[19] = sIDRow19_50
			_valueContentIDbyRow[20] = sIDRow20_50
		else
			if iUIDisplayScale = SCALE_100 then
				_valueContentIDbyRow[1] = sIDRow1_100
				_valueContentIDbyRow[2] = sIDRow2_100
				_valueContentIDbyRow[3] = sIDRow3_100
				_valueContentIDbyRow[4] = sIDRow4_100
				_valueContentIDbyRow[5] = sIDRow5_100
				_valueContentIDbyRow[6] = sIDRow6_100
				_valueContentIDbyRow[7] = sIDRow7_100
				_valueContentIDbyRow[8] = sIDRow8_100
				_valueContentIDbyRow[9] = sIDRow9_100
				_valueContentIDbyRow[10] = sIDRow10_100
				_valueContentIDbyRow[11] = sIDRow11_100
				_valueContentIDbyRow[12] = sIDRow12_100
				_valueContentIDbyRow[13] = sIDRow13_100
				_valueContentIDbyRow[14] = sIDRow14_100
				_valueContentIDbyRow[15] = sIDRow15_100
				_valueContentIDbyRow[16] = sIDRow16_100
				_valueContentIDbyRow[17] = sIDRow17_100
				_valueContentIDbyRow[18] = sIDRow18_100
				_valueContentIDbyRow[19] = sIDRow19_100
				_valueContentIDbyRow[20] = sIDRow20_100
			else			! SCALE_200
				_valueContentIDbyRow[1] = sIDRow1_200
				_valueContentIDbyRow[2] = sIDRow2_200
				_valueContentIDbyRow[3] = sIDRow3_200
				_valueContentIDbyRow[4] = sIDRow4_200
				_valueContentIDbyRow[5] = sIDRow5_200
				_valueContentIDbyRow[6] = sIDRow6_200
				_valueContentIDbyRow[7] = sIDRow7_200
				_valueContentIDbyRow[8] = sIDRow8_200
				_valueContentIDbyRow[9] = sIDRow9_200
				_valueContentIDbyRow[10] = sIDRow10_200
				_valueContentIDbyRow[11] = sIDRow11_200
				_valueContentIDbyRow[12] = sIDRow12_200
				_valueContentIDbyRow[13] = sIDRow13_200
				_valueContentIDbyRow[14] = sIDRow14_200
				_valueContentIDbyRow[15] = sIDRow15_200
				_valueContentIDbyRow[16] = sIDRow16_200
				_valueContentIDbyRow[17] = sIDRow17_200
				_valueContentIDbyRow[18] = sIDRow18_200
				_valueContentIDbyRow[19] = sIDRow19_200
				_valueContentIDbyRow[20] = sIDRow20_200
			endif
		endif
	endif

dim _paramCustomNameTypebyRow[20]
	_paramCustomNameTypebyRow[1] = "iRow1CustomName" + _scaleExt
	_paramCustomNameTypebyRow[2] = "iRow2CustomName" + _scaleExt
	_paramCustomNameTypebyRow[3] = "iRow3CustomName" + _scaleExt
	_paramCustomNameTypebyRow[4] = "iRow4CustomName" + _scaleExt
	_paramCustomNameTypebyRow[5] = "iRow5CustomName" + _scaleExt
	_paramCustomNameTypebyRow[6] = "iRow6CustomName" + _scaleExt
	_paramCustomNameTypebyRow[7] = "iRow7CustomName" + _scaleExt
	_paramCustomNameTypebyRow[8] = "iRow8CustomName" + _scaleExt
	_paramCustomNameTypebyRow[9] = "iRow9CustomName" + _scaleExt
	_paramCustomNameTypebyRow[10] = "iRow10CustomName" + _scaleExt
	_paramCustomNameTypebyRow[11] = "iRow11CustomName" + _scaleExt
	_paramCustomNameTypebyRow[12] = "iRow12CustomName" + _scaleExt
	_paramCustomNameTypebyRow[13] = "iRow13CustomName" + _scaleExt
	_paramCustomNameTypebyRow[14] = "iRow14CustomName" + _scaleExt
	_paramCustomNameTypebyRow[15] = "iRow15CustomName" + _scaleExt
	_paramCustomNameTypebyRow[16] = "iRow16CustomName" + _scaleExt
	_paramCustomNameTypebyRow[17] = "iRow17CustomName" + _scaleExt
	_paramCustomNameTypebyRow[18] = "iRow18CustomName" + _scaleExt
	_paramCustomNameTypebyRow[19] = "iRow19CustomName" + _scaleExt
	_paramCustomNameTypebyRow[20] = "iRow20CustomName" + _scaleExt

dim _valueCustomNameTypebyRow[20]

	if iUIDisplayScale = SCALE_INSENSITIVE then
		_valueCustomNameTypebyRow[1] = iRow1CustomName_0
		_valueCustomNameTypebyRow[2] = iRow2CustomName_0
		_valueCustomNameTypebyRow[3] = iRow3CustomName_0
		_valueCustomNameTypebyRow[4] = iRow4CustomName_0
		_valueCustomNameTypebyRow[5] = iRow5CustomName_0
		_valueCustomNameTypebyRow[6] = iRow6CustomName_0
		_valueCustomNameTypebyRow[7] = iRow7CustomName_0
		_valueCustomNameTypebyRow[8] = iRow8CustomName_0
		_valueCustomNameTypebyRow[9] = iRow9CustomName_0
		_valueCustomNameTypebyRow[10] = iRow10CustomName_0
		_valueCustomNameTypebyRow[11] = iRow11CustomName_0
		_valueCustomNameTypebyRow[12] = iRow12CustomName_0
		_valueCustomNameTypebyRow[13] = iRow13CustomName_0
		_valueCustomNameTypebyRow[14] = iRow14CustomName_0
		_valueCustomNameTypebyRow[15] = iRow15CustomName_0
		_valueCustomNameTypebyRow[16] = iRow16CustomName_0
		_valueCustomNameTypebyRow[17] = iRow17CustomName_0
		_valueCustomNameTypebyRow[18] = iRow18CustomName_0
		_valueCustomNameTypebyRow[19] = iRow19CustomName_0
		_valueCustomNameTypebyRow[20] = iRow20CustomName_0
	else
		if iUIDisplayScale = SCALE_50 then
			_valueCustomNameTypebyRow[1] = iRow1CustomName_50
			_valueCustomNameTypebyRow[2] = iRow2CustomName_50
			_valueCustomNameTypebyRow[3] = iRow3CustomName_50
			_valueCustomNameTypebyRow[4] = iRow4CustomName_50
			_valueCustomNameTypebyRow[5] = iRow5CustomName_50
			_valueCustomNameTypebyRow[6] = iRow6CustomName_50
			_valueCustomNameTypebyRow[7] = iRow7CustomName_50
			_valueCustomNameTypebyRow[8] = iRow8CustomName_50
			_valueCustomNameTypebyRow[9] = iRow9CustomName_50
			_valueCustomNameTypebyRow[10] = iRow10CustomName_50
			_valueCustomNameTypebyRow[11] = iRow11CustomName_50
			_valueCustomNameTypebyRow[12] = iRow12CustomName_50
			_valueCustomNameTypebyRow[13] = iRow13CustomName_50
			_valueCustomNameTypebyRow[14] = iRow14CustomName_50
			_valueCustomNameTypebyRow[15] = iRow15CustomName_50
			_valueCustomNameTypebyRow[16] = iRow16CustomName_50
			_valueCustomNameTypebyRow[17] = iRow17CustomName_50
			_valueCustomNameTypebyRow[18] = iRow18CustomName_50
			_valueCustomNameTypebyRow[19] = iRow19CustomName_50
			_valueCustomNameTypebyRow[20] = iRow20CustomName_50
		else
			if iUIDisplayScale = SCALE_100 then
				_valueCustomNameTypebyRow[1] = iRow1CustomName_100
				_valueCustomNameTypebyRow[2] = iRow2CustomName_100
				_valueCustomNameTypebyRow[3] = iRow3CustomName_100
				_valueCustomNameTypebyRow[4] = iRow4CustomName_100
				_valueCustomNameTypebyRow[5] = iRow5CustomName_100
				_valueCustomNameTypebyRow[6] = iRow6CustomName_100
				_valueCustomNameTypebyRow[7] = iRow7CustomName_100
				_valueCustomNameTypebyRow[8] = iRow8CustomName_100
				_valueCustomNameTypebyRow[9] = iRow9CustomName_100
				_valueCustomNameTypebyRow[10] = iRow10CustomName_100
				_valueCustomNameTypebyRow[11] = iRow11CustomName_100
				_valueCustomNameTypebyRow[12] = iRow12CustomName_100
				_valueCustomNameTypebyRow[13] = iRow13CustomName_100
				_valueCustomNameTypebyRow[14] = iRow14CustomName_100
				_valueCustomNameTypebyRow[15] = iRow15CustomName_100
				_valueCustomNameTypebyRow[16] = iRow16CustomName_100
				_valueCustomNameTypebyRow[17] = iRow17CustomName_100
				_valueCustomNameTypebyRow[18] = iRow18CustomName_100
				_valueCustomNameTypebyRow[19] = iRow19CustomName_100
				_valueCustomNameTypebyRow[20] = iRow20CustomName_100
			else			! SCALE_200
				_valueCustomNameTypebyRow[1] = iRow1CustomName_200
				_valueCustomNameTypebyRow[2] = iRow2CustomName_200
				_valueCustomNameTypebyRow[3] = iRow3CustomName_200
				_valueCustomNameTypebyRow[4] = iRow4CustomName_200
				_valueCustomNameTypebyRow[5] = iRow5CustomName_200
				_valueCustomNameTypebyRow[6] = iRow6CustomName_200
				_valueCustomNameTypebyRow[7] = iRow7CustomName_200
				_valueCustomNameTypebyRow[8] = iRow8CustomName_200
				_valueCustomNameTypebyRow[9] = iRow9CustomName_200
				_valueCustomNameTypebyRow[10] = iRow10CustomName_200
				_valueCustomNameTypebyRow[11] = iRow11CustomName_200
				_valueCustomNameTypebyRow[12] = iRow12CustomName_200
				_valueCustomNameTypebyRow[13] = iRow13CustomName_200
				_valueCustomNameTypebyRow[14] = iRow14CustomName_200
				_valueCustomNameTypebyRow[15] = iRow15CustomName_200
				_valueCustomNameTypebyRow[16] = iRow16CustomName_200
				_valueCustomNameTypebyRow[17] = iRow17CustomName_200
				_valueCustomNameTypebyRow[18] = iRow18CustomName_200
				_valueCustomNameTypebyRow[19] = iRow19CustomName_200
				_valueCustomNameTypebyRow[20] = iRow20CustomName_200
			endif
		endif
	endif

dim _paramCustomValueTypebyRow[20]
	_paramCustomValueTypebyRow[1] = "sRow1CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[2] = "sRow2CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[3] = "sRow3CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[4] = "sRow4CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[5] = "sRow5CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[6] = "sRow6CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[7] = "sRow7CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[8] = "sRow8CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[9] = "sRow9CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[10] = "sRow10CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[11] = "sRow11CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[12] = "sRow12CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[13] = "sRow13CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[14] = "sRow14CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[15] = "sRow15CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[16] = "sRow16CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[17] = "sRow17CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[18] = "sRow18CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[19] = "sRow19CustomNameValue" + _scaleExt
	_paramCustomValueTypebyRow[20] = "sRow20CustomNameValue" + _scaleExt

dim	_stWarningMessageByType[4]
	_stWarningMessageByType[1]	= `Добавление Свойств IFC возможно только при связи Выноски с конструктивным элементом.`
	_stWarningMessageByType[2]	= `Добавление Свойств IFC возможно только при размещении Зоны в проекте.`
	_stWarningMessageByType[3]	= `Добавление Свойств IFC возможно только при размещении Двери в проекте.`
	_stWarningMessageByType[4]	= `Добавление Свойств IFC возможно только при размещении Окна в проекте.`


	itemID = 1
	_displayedProperty = ""
	bDefaultElem = (GLOB_INTGUID = "" | GLOB_INTGUID = "{00000000-0000-0000-0000-000000000000}")
	
	if _iTnCSelectParams = 1 then
		dim parentProperties[]
		n = REQUEST ("Properties_Of_Parent", "", parentProperties)

		if bDefaultElem then
			_stNoteBlock	 =	_stWarningMessageByType[iUIElemType]

			ui_pict		"ui_warningIcon_flat(1)",	5,	yPos,	14,		14,	1
			ui_outfield	_stNoteBlock,			20,	yPos,	423,	27

			yPos = yPos + 30
		endif

		ui_listfield UIGroup, 5, yPos, 439, UISubPageBot-yPos, 0

		for iUI = 1 to 20

			_sIDProperty = _valueContentIDbyRow[iUI]
			gosub "setDisplayedData"

			UI_CUSTOM_POPUP_LISTITEM itemID, UIGroup, _paramContentIDbyRow[iUI], 	0, "" , "", 1, 3, 1, _displayedProperty,
				"", "", "", `Нет`,
				parentProperties

			itemID = itemID + 1

			if not(_isEmpty[iUI]) then 
				ui_listitem itemID, UIGroup, _paramCustomNameTypebyRow[iUI],	1,	""	: itemID = itemID + 1
				if _valueCustomNameTypebyRow[iUI] = 2 then
					ui_listitem itemID, UIGroup, _paramCustomValueTypebyRow[iUI],	1,	""		: itemID = itemID + 1
				endif
			endif
			itemID = iUI * 5
		next iUI
	else
		_stNoteBlock	 =	`Категории - это специальные параметры, недоступные для управления в Менеджере Свойств. Для изменения значений Категорий воспользуйтесь панелью Категории и Свойства ассоциируемого элемента.`

		ui_pict		"ui_InfoIcon_flat(1)",	5,	yPos,	14,		14,	1
		ui_outfield	_stNoteBlock,			20,	yPos,	422,	53
	endif

endif

! ====================================================================================================================
end
! ====================================================================================================================

"setDisplayedData":

	if _sIDProperty <> "" then
		r = REQUEST ("Property_Name", _sIDProperty, _typeName, _groupName, _propertyName)

		if r > 2 then
			_displayedProperty = _propertyName
		else
			_displayedProperty = ""
		endif
	else
		_displayedProperty = `Нет`
	endif

return
