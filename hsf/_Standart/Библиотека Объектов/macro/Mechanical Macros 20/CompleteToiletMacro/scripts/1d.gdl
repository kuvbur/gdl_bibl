!--------------------------------------Основной--------------------------------
EPS = 0.00001
show_el = 1
if (GLOB_SCRIPT_TYPE = 2 or GLOB_SCRIPT_TYPE = 3) and (GLOB_PREVIEW_MODE <> 0 or GLOB_FEEDBACK_MODE <> 0) then
	gs_detlevel_2D_m = 1
	gs_detlevel_3D_m = 1
	show_axis = 0
	show_axis_and = 1
	show_conventions = 0
	show_size = 0
	show_isol = 0
else
	call "Показ_систем" PARAMETERS All isMep=1, isEqp=1 RETURNED_PARAMETERS show_el, syst_name
	show_axis = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis", show_axis)
	show_axis_and = 1 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis_and", show_axis_and)
	show_isol = 1 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_isol", show_isol)
	show_conventions = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_conventions", show_conventions)
	show_size = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_size", show_size)
	gs_detlevel_2D_m = 2 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_2D_m",gs_detlevel_2D_m)
	gs_detlevel_3D_m = 2 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_3D_m", gs_detlevel_3D_m)
endif
IF gs_detlevel_3D_m = 2 THEN res = 28
IF gs_detlevel_3D_m = 1 THEN res = 12
IF gs_detlevel_3D_m = 0 THEN res = 12
IF gs_detlevel_3D_m = 1 THEN 
	SHADOW OFF
else
	SHADOW ON
endif

!================================================================================
! String Parameters
!================================================================================


! --- Bowl ----------------------------------------------------------------------

! gs_iDisplayStandards
	LANGUAGE_INT		= 1
	LANGUAGE_GER		= 2
	LANGUAGE_CHE		= 3
	LANGUAGE_AUT		= 4
	LANGUAGE_USA		= 5

! --- WC Type
WC_NORMAL    = 1
WC_CORNER    = 2
WC_SQUATTING = 3

! --- Mounting Type ---
dim strToiletMountingValues[2]
	strToiletMountingValues[1] = `Напольное`
	strToiletMountingValues[2] = `Подвесное`

FLOOR_MOUNTED = 1
WALL_HUNG     = 2

! --- Floor Mounted Bowl ---
dim strFloorMountedBowlTypeValues[6]
	strFloorMountedBowlTypeValues[1] = `Тип 1`
	strFloorMountedBowlTypeValues[2] = `Тип 2`
	strFloorMountedBowlTypeValues[3] = `Тип 3`
	strFloorMountedBowlTypeValues[4] = `Тип 4`
	strFloorMountedBowlTypeValues[5] = `Тип 5`
	strFloorMountedBowlTypeValues[6] = `Тип 6`

FLOORMOUNTED_TYPE_1 = 1
FLOORMOUNTED_TYPE_2 = 2
FLOORMOUNTED_TYPE_3 = 3
FLOORMOUNTED_TYPE_4 = 4
FLOORMOUNTED_TYPE_5 = 5
FLOORMOUNTED_TYPE_6 = 6

! --- Wall Hung Bowl ---
dim strWallHungBowlTypeValues[4]
	strWallHungBowlTypeValues[1] = `Тип 1`
	strWallHungBowlTypeValues[2] = `Тип 2`
	strWallHungBowlTypeValues[3] = `Тип 3`
	strWallHungBowlTypeValues[4] = `Тип 4`

WALLHUNG_TYPE_1 = 1
WALLHUNG_TYPE_2 = 2
WALLHUNG_TYPE_3 = 3
WALLHUNG_TYPE_4 = 4

! --- Corner Bowl ---
dim strCornerBowlTypeValues[3]
	strCornerBowlTypeValues[1] = `Тип 1`
	strCornerBowlTypeValues[2] = `Тип 2`
	strCornerBowlTypeValues[3] = `Тип 3`

CORNER_TYPE_1 = 1
CORNER_TYPE_2 = 2
CORNER_TYPE_3 = 3

! --- Squatting Bowl ---

dim strSquattingBowlTypeValues[1]
	strSquattingBowlTypeValues[1] = `Тип 1`

SQUATTING_TYPE_1 = 1


! --- Seat ----------------------------------------------------------------------

dim gs_seatValues[2]
	gs_seatValues[1] = `Открытое`
	gs_seatValues[2] = `Закрытое`

SEAT_OPEN   = 1
SEAT_CLOSED = 2


! --- Flush ---------------------------------------------------------------------

! --- Flush Method ---
dim strFlushTypeValues[5]
	strFlushTypeValues[1] = `Бачок`
	strFlushTypeValues[2] = `Приподнятый Бачок`
	strFlushTypeValues[3] = `Встроенный в Стену Бачок`
	strFlushTypeValues[4] = `Разбрызгивающий Смыватель`
	strFlushTypeValues[5] = `Нет`

CISTERN 		 = 1
ELEVATED_CISTERN = 2
IN_WALL_CARRIER  = 3
FLUSHOMETER 	 = 4
NONEFLUSH 		 = 5

! --- Cistern ---
dim strCisternTypeValues[5]
	strCisternTypeValues[1] = `Тип 1`
	strCisternTypeValues[2] = `Тип 2`
	strCisternTypeValues[3] = `Тип 3`
	strCisternTypeValues[4] = `Тип 4`
	strCisternTypeValues[5] = `Тип 5`

CISTERN_TYPE_1 = 1
CISTERN_TYPE_2 = 2
CISTERN_TYPE_3 = 3
CISTERN_TYPE_4 = 4
CISTERN_TYPE_5 = 5

! --- Corner Cistern ---
dim strCornerCisternTypeValues[3]
	strCornerCisternTypeValues[1] = `Тип 1`
	strCornerCisternTypeValues[2] = `Тип 2`
	strCornerCisternTypeValues[3] = `Тип 3`

CORNER_CISTERN_TYPE_1 = 1
CORNER_CISTERN_TYPE_2 = 2
CORNER_CISTERN_TYPE_3 = 3

! --- Elevated Cistern ---
dim strElevatedCisternTypeValues[3]
	strElevatedCisternTypeValues[1] = `Тип 1`
	strElevatedCisternTypeValues[2] = `Тип 2`
	strElevatedCisternTypeValues[3] = `Тип 3`

ELEV_CISTERN_TYPE_1 = 1
ELEV_CISTERN_TYPE_2 = 2
ELEV_CISTERN_TYPE_3 = 3

! --- In-Wall Carrier Button ---
dim strInWallCarrierButtonTypeValues[5]
	strInWallCarrierButtonTypeValues[1] = `Тип 1`
	strInWallCarrierButtonTypeValues[2] = `Тип 2`
	strInWallCarrierButtonTypeValues[3] = `Тип 3`
	strInWallCarrierButtonTypeValues[4] = `Тип 4`
	strInWallCarrierButtonTypeValues[5] = `Тип 5`

BUTTON_TYPE_1 = 1
BUTTON_TYPE_2 = 2
BUTTON_TYPE_3 = 3
BUTTON_TYPE_4 = 4
BUTTON_TYPE_5 = 5

! --- Flushometer ---
dim strFlushometerTypeValues[3]
	strFlushometerTypeValues[1] = `Простой`
	strFlushometerTypeValues[2] = `Автоматический`
	strFlushometerTypeValues[3] = `Ручной`

FLUSHOMETER_SIMPLE    = 3
FLUSHOMETER_AUTOMATIC = 1
FLUSHOMETER_MANUAL    = 2

! --- Button Position ----
dim strButtonPositionValues[2]
	strButtonPositionValues[1] = `Верх`
	strButtonPositionValues[2] = `Спереди`

BUTTON_TOP   = 1
BUTTON_FRONT = 2


! --- Effluent ------------------------------------------------------------------

dim DirEffluentValues[2]
	DirEffluentValues[1] = `Прямой`
	DirEffluentValues[2] = `В Пол`

EFFLUENT_BACK   = 1
EFFLUENT_BOTTOM = 2


! --- 3D ------------------------------------------------------------------------

dim gs_detlevel_3DValues[4]
	gs_detlevel_3DValues[1] = `Детальный`
	gs_detlevel_3DValues[2] = `Простой`
	gs_detlevel_3DValues[3] = `Упрощенный`
	gs_detlevel_3DValues[4] = `Откл.`

DETLEV_3D_OFF      = 0
DETLEV_3D_SIMPLE   = 1
DETLEV_3D_DETAILED = 2
DETLEV_3D_DRAFT    = 3


! --- Disabled WC UI string -----------------------------------------------------

dim st_flushPlace[3]
	st_flushPlace[1] = `Справа`
	st_flushPlace[2] = `Слева`
	st_flushPlace[3] = `Нет`

dim st_strGrabBars[2]
	st_strGrabBars[1] = `Параллельно`
	st_strGrabBars[2] = `Угол`

! --- Disabled WC Grab Bars -----------------------------------------------------
GRAB_PARALLEL = 1
GRAB_CORNER = 2

GRAB_FLOOR = 1
GRAB_TOILET = 2
GRAB_SIDESIDE = 3
GRAB_REARREAR = 4
GRAB_SIDEREAR = 5

dim st_positionGrabBars[5]
	st_positionGrabBars[GRAB_FLOOR]		= `К Полу`
	st_positionGrabBars[GRAB_TOILET]	= `Унитаз`
	st_positionGrabBars[GRAB_SIDESIDE]	= `Боковая Стена`
	st_positionGrabBars[GRAB_REARREAR]	= `Задняя Стена`
	st_positionGrabBars[GRAB_SIDEREAR]	= `Задняя + Боковая Стена`

!================================================================================
! Special Built-In Cistern Settings
!================================================================================

! --- Special Cistern are incorporated into the Bowls ---

builtInCistern = 0
if iWCType = WC_NORMAL then
	if iToiletMounting = FLOOR_MOUNTED then
		if iFlushType = CISTERN then
			if iFloorMountedBowlType = FLOORMOUNTED_TYPE_5 then builtInCistern = 1
			if iFloorMountedBowlType = FLOORMOUNTED_TYPE_6 then builtInCistern = 1
		endif
	endif
endif

builtInCisternHeight = bowlHeight + cisternHeight

!================================================================================
! Corner WC Zero Point
!================================================================================

if iWCType = WC_CORNER then
	if iCornerBowlType = CORNER_TYPE_1 then yPosCorner = 0.282/0.350*bowlWidth/2
	if iCornerBowlType = CORNER_TYPE_2 then yPosCorner = 0.322/0.346*bowlWidth/2
	if iCornerBowlType = CORNER_TYPE_3 then yPosCorner = 0.115/0.381*bowlWidth/2
else
	yPosCorner = 0
endif

!================================================================================
! Distance from Wall
!================================================================================
bBowlMove = 0
bFlushMove = 0

if (iWCType = WC_NORMAL) & (iToiletMounting = FLOOR_MOUNTED) & (DirEffluent_ID = EFFLUENT_BOTTOM) then
	if iFlushType = CISTERN | iFlushType = ELEVATED_CISTERN then
		bFlushMove = 1
		bBowlMove = 1
	else
		bFlushMove = 0
		bBowlMove = 1
	endif
endif

! Show MEP Connections -------------------------------------------------------------[

isavailable = 0
isInArchiCAD = APPLICATION_QUERY ("MEPMODELER", "IsAvailable()", isavailable)
isMEPEnabled = (isavailable OR isInArchiCAD = 0)
if isMEPEnabled then
	bShowMEP = 1
	reqBMep = 0
	success = LIBRARYGLOBAL ("LibraryGlobals13", "showMepConnect", reqBMep)
	if success > 0 then
		bShowMEP = reqBMep
	endif
else
	bShowMEP = 0
endif

! Show MEP Connections -------------------------------------------------------------]

