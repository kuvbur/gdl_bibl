
!! Urinal 01.gsm
!! Modified by Zsolt Feke/CSD/2006 - made more simple model

if abs(urinal_unID - 1) < EPS then
	unID = 200
else
	unID = urinal_unID
endif

if gs_detlevel_3D_m = -1 then
	gs_detlevel_3D_m = 2	! Detailed
	if gs_detlevel_3D = `Откл.` then gs_detlevel_3D_m = 0
	if gs_detlevel_3D = `Простой` then gs_detlevel_3D_m = 1
	if gs_detlevel_3D = `Упрощенный` then gs_detlevel_3D_m = 3
endif

if gs_detlevel_3D_m = 0 then END

addStatus = 0
if GLOB_CONTEXT > 40 and GLOB_CONTEXT < 50 then
	gs_detlevel_3D_m = 3
	addStatus = 8
endif
if gs_shadow = 0 then SHADOW OFF
if gs_shadow = 1 then SHADOW ON

if urinalType <> URINAL_04_FOR_BATH_STALL then

	! --- start of modifying to Shaft

					! --- CONNECTIONS --- !

	if gs_detlevel_3D_m=1 OR gs_detlevel_3D_m=3 then resol 8
	if gs_detlevel_3D_m=2 then resol 24


	if bShowMEP then

		if useSysMat then
			gs_bowl_mat = sMat
			D 			= sMat
			gs_con_mat  = sMat
		endif

		if urinalType = URINAL_01 then
			![#COMPATIBILITY] - START
				if DirEffluent_ID = -1 then DirEffluent_ID = 2
			![#COMPATIBILITY] - END

			ConEdit_1 = 1
			if DirEffluent_ID = 1 then
				ConEdit_2 = 14
			else
				ConEdit_2 = 13
			endif
		endif

		if urinalType = URINAL_02 then
			ConEdit_1 = 13
			ConEdit_2 = 1
		endif
		if urinalType = URINAL_03 then
			ConEdit_1 = 1
			ConEdit_2 = 13
		endif
		if urinalType = URINAL_04 then
			ConEdit_1 = 14
			ConEdit_2 = 14
		endif


		addz (h_stand + 0.41145 * zzyzx) * (urinalType = URINAL_01) + (h_stand - (0.226 + 0.1) * zzyzx / urinalHeight + zzyzx) * (urinalType = URINAL_04)
		addz (h_stand + 0.5794 * zzyzx) * (urinalType = URINAL_02) + (h_stand + 0.622) * (urinalType = URINAL_03)
		call "MEP_m_ConnectionsACL_4" parameters SetProgram = SetProgram,
			ui_current_con = ui_current_con,
			MEP_NumberConnections = MEP_NumberConnections,
			MEP_NumConnectionData = gs_Connections,
			gs_AddConnections = gs_AddConnections,
			cShow3D = 1,
			gs_ConMat = gs_con_mat,
			MEP_InsShow = 0,
			MEP_cline_show_3D = 0,
			gs_cont_pen = gs_cont_pen,
			ConPosX_1=ConPosX_1, ConPosY_1=ConPosY_1, ConPosZ_1=ConPosZ_1, ConLength_1=ConLength_1, ConEdit_1 = ConEdit_1,
			ConPosX_2=ConPosX_2, ConPosY_2=ConPosY_2, ConPosZ_2=ConPosZ_2, ConLength_2=ConLength_2, ConEdit_2 = ConEdit_2
		del 2
	endif

	! --- end of modifying to Shaft

endif

if gs_detlevel_3D_m = 1 then gs_resol = 8
if GLOB_CONTEXT > 20 and GLOB_CONTEXT < 40 and GLOB_CONTEXT < 40 then gs_resol = 4

resol gs_resol

gosub 10 * (urinalType = URINAL_01) + 20 * (urinalType = URINAL_02) + 30 * (urinalType = URINAL_03) + 40 * (urinalType = URINAL_04 or urinalType = URINAL_04_FOR_BATH_STALL)

end


! ==============================================================================
! Urinal Type 3
! ==============================================================================

30:

	pen gs_cont_pen

	!!! *** Hotspot Editing
	unID=1
	hotspot	0,0,0,unID,h_stand,1 : unID=unID+1
	hotspot	0,0,-1,unID,h_stand,3 : unID=unID+1
	hotspot	0,0,h_stand,unID,h_stand,2 : unID=unID+1

	addz h_stand
	hotspot 0,0,0,unID,b,1+128 : unID=unID+1
	hotspot 0,1,0,unID,b,3 : unID=unID+1
	hotspot 0,-b,0,unID,b,2 : unID=unID+1

	addz +0.8748*zzyzx!0.622
	hotspot	-A*0.5,  0,0,unID,a,1+256 : unID=unID+1
	hotspot	-A*0.5-1,0,0,unID,a,3 : unID=unID+1
	hotspot	A*0.5,   0,0,unID,a,2 : unID=unID+1

	add -a/2, -b, 0
	hotspot	0,b,0,unID,ZZYZX,1+128 : unID=unID+1
	hotspot	0,b,1,unID,ZZYZX,3 : unID=unID+1
	hotspot	0,b,-ZZYZX,unID,ZZYZX,2 : unID=unID+1

	hotspot	a,b,0,unID,ZZYZX,1+128 : unID=unID+1
	hotspot	a,b,1,unID,ZZYZX,3 : unID=unID+1
	hotspot	a,b,-ZZYZX,unID,ZZYZX,2 : unID=unID+1
	del 1

	add  -a/2,0,-ZZYZX
	if gs_detlevel_3D_m = 3 then
		c=zzyzx
		mul a/0.500, b/0.268515, zzyzx/0.6

		rotx 90
		resol 2*gs_resol
		material gs_bowl_mat
		ruled 8, 16+32,
			0.5, 0,      1,
			0.5,          0.4,      1,
			0.4414213562373, 0.5414213562373,      1,
			0.3,          0.6,      1,
			0.2,          0.6,      1,
			0.05857864376269, 0.5414213562373,      1,
			0,          0.4,      1,
			0,            0,      1,

			0.5, 0,      0.20,
			0.5,          0.4,      0.20,
			0.4414213562373, 0.5414213562373,      0.20,
			0.3,          0.6,      0.20,
			0.2,          0.6,      0.20,
			0.05857864376269, 0.5414213562373,      0.20,
			0,          0.4,      0.20,
			0,            0,      0.20

		addz 0.20
		poly_ 17,
			0.5, 0,      1,
			0.5,          0.4,      1,
			0.4414213562373, 0.5414213562373,      1,
			0.3,          0.6,      1,
			0.2,          0.6,      1,
			0.05857864376269, 0.5414213562373,      1,
			0,          0.4,      1,
			0,            0,      1,
			0.05, 0,      1,
			0.05,          0.4,      1,
			0.09393398282202, 0.506066017178,      1,
			0.2,         0.55,      1,
			0.3,         0.55,      1,
			0.406066017178, 0.506066017178,      1,
			0.45,          0.4,      1,
			0.45, 0,      1,
			0.5, 0,      1
		del 1

		poly_ 9,
			0.5, 0,      1,
			0.5,          0.4,      1,
			0.4414213562373, 0.5414213562373,      1,
			0.3,          0.6,      1,
			0.2,          0.6,      1,
			0.05857864376269, 0.5414213562373,      1,
			0,          0.4,      1,
			0,            0,      1,
			0.5, 0,      1
		del 1

		ruled 4, 16+32,
			0.05,        -0.20,      1,
			0.22, -0.2680490820756,      1,
			0.28, -0.2680490820756,      1,
			0.45,        -0.20,      1,

			0.05,        -0.20,      0.075,
			0.22, -0.2680490820756,      0.075,
			0.28, -0.2680490820756,      0.075,
			0.45,        -0.20,      0.075

		poly_ 9,
			0,            0,      1,
			0,        -0.20,      1,
			0.05,        -0.20,      1,
			0.22, -0.2680490820756,      1,
			0.28, -0.2680490820756,      1,
			0.45,        -0.20,      1,
			0.5,        -0.20,      1,
			0.5, 0,      1,
			0,            0,      1
		del 1

		resol 16
		add a/2, -0.05,c
		material d
		resol gs_resol
		addz 0.155
		roty 90
		rotx 90
		if GLOB_CONTEXT > 40 and GLOB_CONTEXT < 50 then
			roty 90
			cylind 0.15, 0.015
			del 1
		else
			armc 0.015, 0.015, 0.155, 0, 0, 90
		endif
		del 2

		addy 0.05
		rotx 90
		cylind 0.075, 0.015
		del 5
	else
		c=zzyzx
		mul a/0.500, b/0.268515, zzyzx/0.6

		rotx 90
		resol 2*gs_resol
		material gs_bowl_mat
		extrude 13, 0, 0, 0.2, 55,
			0, 0, 0,
			0.05, 0, 1,
			0.05, 0.6-0.2, 1,
			0.2, 0.6-0.05, 1001,
			0.5-0.2, 0.6-0.05, 1,
			0.5-0.05, 0.6-0.2, 1001,
			0.5-0.05, 0, 0,
			0.5, 0, 0,
			0.5, 0.6-0.2, 1,
			0.5-0.2, 0.6, 1001,
			0.2, 0.6, 1,
			0, 0.6-0.2, 1001,
			0, 0, -1
		extrude 7, 0, 0, 0.05, 55,
			0.05, 0, 0,
			0.5-0.05, 0, 0,
			0.5-0.05, 0.6-0.2, 1,
			0.5-0.2, 0.6-0.05, 1001,
			0.2, 0.6-0.05, 1,
			0.05, 0.6-0.2, 1001,
			0.05, 0, -1
		del 1

		extrude 16, 0, 0, 0.075, 55,
			0.05, -0.16, 1,
			0.05, -0.279, 900,
			0.15, -0.214, 3001,
			0.25, -0.149, 900,
			0.35, -0.214, 3001,
			0.45, -0.279, 900,
			0.45, -0.16, 3001,
			0.45, -0.16, 0,
			0.45, -0.12, 1,
			0.317, -0.192, 3001,
			0.25, -0.149, 900,
			0.183, -0.192, 3001,
			0.05, -0.279, 900,
			0.05, -0.12, 3001,
			0.05, -0.12, 0,
			0.05, -0.16, -1
		extrude 11, 0, 0, 0.01, 55,
			0.45, -0.12, 0,
			0.45, -0.279, 900,
			0.317, -0.192, 3001,
			0.25, -0.149, 900,
			0.183, -0.192, 3001,
			0.05, -0.279, 900,
			0.05, -0.12, 3001,
			0.05, -0.12, 0,
			0.05, -0.05, 0,
			0.45, -0.05, 0,
			0.45, -0.12, -1
		del 1

		resol 16
		add a/2, -0.05,c
		material d
		resol gs_resol
		cylind 0.005, 0.025

		addz 0.155
		roty 90
		rotx 90
		if GLOB_CONTEXT > 40 and GLOB_CONTEXT < 50 then
			roty 90
			cylind 0.15, 0.015
			del 1
		else
			armc 0.015, 0.015, 0.15, 0, 0, 90
		endif
		del 2

		addy 0.05
		rotx 90
		cylind 0.005, 0.025
		addz 0.005
		cylind 0.07, 0.015
		addz 0.07
		ellips 0.03, 0.02
		rotz -90
		addx -0.0025
		block 0.005, 0.035, 0.029
		del 8
	endif
	del 2

return




! ==============================================================================
! Urinal Type 1
! ==============================================================================

10:

	!!! *** Hotspot Editing
	unID=1
	hotspot	0, -b, 0, unID, h_stand, 1 + 128		: unID = unID + 1
	hotspot	0, -b, -1, unID, h_stand, 3				: unID = unID + 1
	hotspot	0, -b, h_stand, unID, h_stand, 2		: unID = unID + 1

	addz h_stand
	hotspot 0, 0, 0, unID, b, 1 + 128			: unID = unID + 1
	hotspot 0, 1, 0, unID, b, 3					: unID = unID + 1
	hotspot 0, -b, 0, unID, b, 2				: unID = unID + 1

	addz 0.41145 * zzyzx
	hotspot	0, 0, 0, unID, halfA, 1 + 128, a	: unID = unID + 1
	hotspot	-halfA, 0, 0, unID, halfA, 3, a	: unID = unID + 1
	hotspot	halfA, 0, 0, unID, halfA, 2, a	: unID = unID + 1

	hotspot	0, 0, 0, unID, halfA, 1 + 128, a	: unID = unID + 1
	hotspot	halfA, 0, 0, unID, halfA, 3, a	: unID = unID + 1
	hotspot	-halfA, 0, 0, unID, halfA, 2, a	: unID = unID + 1

	add -a / 2, 0, -0.41145 * zzyzx
	hotspot	0, 0, 0, unID, frontHeightFromBottom, 1 + 128, zzyzx		: unID = unID + 1
	hotspot	0, 0, frontHeightFromBottom, unID, frontHeightFromBottom, 3, zzyzx	: unID = unID + 1
	hotspot	0, 0, -frontHeightFromBottom, unID, frontHeightFromBottom, 2, zzyzx	: unID = unID + 1
	del 1

	add a / 2, 0, -0.41145 * zzyzx
	hotspot	0, 0, 0, unID, frontHeightFromBottom, 1 + 128, zzyzx		: unID = unID + 1
	hotspot	0, 0, frontHeightFromBottom, unID, frontHeightFromBottom, 3, zzyzx	: unID = unID + 1
	hotspot	0, 0, -frontHeightFromBottom, unID, frontHeightFromBottom, 2, zzyzx	: unID = unID + 1
	del 1

	hotspot	0, 0, -0.41145 * zzyzx - h_stand, unID				: unID = unID + 1


	if gs_detlevel_3D_m=2 then

		addz -zzyzx

		pen gs_cont_pen
		material gs_bowl_mat

		mul a/0.295968,b/0.317685,zzyzx/0.53136
		rotx 90
		roty 90
		addz -0.06
		prism_     10,      0.12,
			   -0.167703,     0.051421,      79,
			   -0.100213,     0.07,    900,
				0.0,      74.6086,   4001,
			   -0.100213,     0.0,      79,
				0.0,     0.0,      79,
				0.0,     0.158415,      71,
			   -0.074839,     0.165438,      71,
			   -0.147065,     0.186263,      71,
			   -0.214155,     0.220163,      79,
			   -0.167703,     0.051421,     -1
		del 3

		addz 0.5607
		rotz 180
		rotx -90

		addy 0.071756
		rotx 50.4624
		addz 0.05
		prism_      23,      0.005,
			   -0.098003,     0.016824,      79,
				0.098076,     0.016824,      79,
				0.098076,     0.066824,    900,
				0.0,      86.5331,   4001,
				0.147984,     0.0638,      79,
				0.147864,     0.054086,      79,
				0.147557,     0.026373,      79,
				0.146518,     0.020883,      79,
				0.145855,     0.016788,      79,
				0.14148,     0.007944,      79,
				0.135072,     0.002061,      79,
				0.127568,     0.0,      79,
			   -0.127568,    -0.0,      79,
			   -0.135072,     0.002061,      79,
			   -0.14148,     0.007944,      79,
			   -0.145855,     0.016788,      79,
			   -0.146518,     0.020883,      79,
			   -0.147557,     0.026373,      79,
			   -0.147864,     0.054086,      79,
			   -0.147984,     0.0638,      79,
			   -0.098039,     0.066862,    900,
				0.0,      86.5331,   4001,
			   -0.098003,     0.016824,     -1


		cutplane 25

		prism_      14,      0.04,
				0.027341,     0.040861,      79,
				0.027341,     0.022439,      79,
			   -0.027268,     0.022439,      79,
			   -0.027268,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,    -180.0,   4001,
				0.027341,     0.040861,     -1,
				0.013307,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,     180.0,   4001,
			   -0.013234,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,     180.0,   4001,
				0.013307,     0.040861,     -1

		cutend
		del 1

		prism_     93,      0.05,
			   -0.137686,     0.197147,      78,
			   -0.132129,     0.22925,      78,
			   -0.127547,     0.248738,      78,
			   -0.121388,     0.267766,      78,
			   -0.113694,     0.286202,      78,
			   -0.104519,     0.303917,      78,
			   -0.093927,     0.320787,      78,
			   -0.075589,     0.341639,      78,
			   -0.052929,     0.357447,      78,
			   -0.027243,     0.367309,      78,
				0.0,     0.37066,      78,
				0.027243,     0.367309,      78,
				0.052929,     0.357447,      78,
				0.075589,     0.341639,      78,
				0.093927,     0.320787,      78,
				0.104519,     0.303917,      78,
				0.113694,     0.286202,      78,
				0.121388,     0.267766,      78,
				0.127547,     0.248738,      78,
				0.132129,     0.22925,      78,
				0.137686,     0.197147,      78,
				0.142055,     0.164853,      78,
				0.145231,     0.132415,      78,
				0.145881,     0.121709,      78,
				0.147208,     0.098478,      78,
				0.147984,     0.0638,      78,
				0.147864,     0.054086,      78,
				0.147557,     0.026373,      78,
				0.146518,     0.020883,      78,
				0.145855,     0.016788,      78,
				0.14148,     0.007944,      78,
				0.135072,     0.002061,      78,
				0.127568,     0.0,      78,
			   -0.127568,    -0.0,      78,
			   -0.135072,     0.002061,      78,
			   -0.14148,     0.007944,      78,
			   -0.145855,     0.016788,      78,
			   -0.146518,     0.020883,      78,
			   -0.147557,     0.026373,      78,
			   -0.147864,     0.054086,      78,
			   -0.147984,     0.0638,      78,
			   -0.147208,     0.098478,      78,
			   -0.145881,     0.121709,      78,
			   -0.145231,     0.132415,      78,
			   -0.142055,     0.164853,      78,
			   -0.137686,     0.197147,     -1,
			   -0.103089,     0.191814,      13,
			   -0.107284,     0.160801,      13,
			   -0.110335,     0.129647,      13,
			   -0.110942,     0.11965,      13,
			   -0.11223,     0.097089,      13,
			   -0.111923,     0.093827,      13,
			   -0.110873,     0.090724,      13,
			   -0.109136,     0.087946,      13,
			   -0.106805,     0.085643,      13,
			   -0.104007,     0.08394,      13,
			   -0.100892,     0.082926,      13,
			   -0.067506,     0.077362,      13,
			   -0.033827,     0.074014,      13,
			   -0.0,     0.072897,      13,
				0.033827,     0.074014,      13,
				0.067506,     0.077362,      13,
				0.100892,     0.082926,      13,
				0.104007,     0.08394,      13,
				0.106805,     0.085643,      13,
				0.109136,     0.087946,      13,
				0.110873,     0.090724,      13,
				0.111923,     0.093827,      13,
				0.11223,     0.097089,      13,
				0.110942,     0.11965,      13,
				0.110335,     0.129647,      13,
				0.107284,     0.160801,      13,
				0.103089,     0.191814,      13,
				0.09782,     0.222254,      13,
				0.093805,     0.239328,      13,
				0.088533,     0.255616,      13,
				0.08195,     0.271389,      13,
				0.074107,     0.286534,      13,
				0.065784,     0.299789,      13,
				0.052098,     0.315352,      13,
				0.036402,     0.326301,      13,
				0.018708,     0.333095,      13,
				0.0,     0.335396,      13,
			   -0.018708,     0.333095,      13,
			   -0.036402,     0.326301,      13,
			   -0.052098,     0.315352,      13,
			   -0.065784,     0.299789,      13,
			   -0.074107,     0.286534,      13,
			   -0.08195,     0.271389,      13,
			   -0.088533,     0.255616,      13,
			   -0.093805,     0.239328,      13,
			   -0.09782,     0.222254,      13,
			   -0.103089,     0.191814,     -1

		cutplane
		del 2

		prism_           40,     0,
				0.142055,     0.218533,     15,
				0.137686,     0.250146,     15,
				0.132129,     0.281572,     15,
				0.127547,     0.300649,     15,
				0.121388,     0.319276,     15,
				0.113694,     0.337323,     15,
				0.104519,     0.354665,     15,
				0.093927,     0.371179,     15,
				0.075589,     0.391591,     15,
				0.052929,     0.407066,     15,
				0.027243,     0.41672,     15,
				0.0,     0.42,     15,
			   -0.027243,     0.41672,     15,
			   -0.052929,     0.407066,     15,
			   -0.075589,     0.391591,     15,
			   -0.093927,     0.371179,     15,
			   -0.104519,     0.354665,     15,
			   -0.113694,     0.337323,     15,
			   -0.121388,     0.319276,     15,
			   -0.127547,     0.300649,     15,
			   -0.132129,     0.281572,     15,
			   -0.137686,     0.250146,     15,
			   -0.142055,     0.218533,     15,
			   -0.145231,     0.186778,     15,
			   -0.147208,     0.154926,     15,
			   -0.147984,     0.123022,     15,
			   -0.147557,     0.091112,     15,
			   -0.145855,     0.083658,     15,
			   -0.14148,     0.077388,     15,
			   -0.135072,     0.073217,     15,
			   -0.127568,     0.071756,     15,
				0.127568,     0.071756,     15,
				0.135072,     0.073217,     15,
				0.14148,     0.077388,     15,
				0.145855,     0.083658,     15,
				0.147557,     0.091112,     15,
				0.147984,     0.123022,     15,
				0.147208,     0.154926,     15,
				0.145231,     0.186778,     15,
				0.142055,     0.218533,     -1

		revolve           40,     42.8912,16,
				0.142055,     0.218533,     1,
				0.137686,     0.250146,     1,
				0.132129,     0.281572,     1,
				0.127547,     0.300649,     1,
				0.121388,     0.319276,     1,
				0.113694,     0.337323,     1,
				0.104519,     0.354665,     1,
				0.093927,     0.371179,     1,
				0.075589,     0.391591,     1,
				0.052929,     0.407066,     1,
				0.027243,     0.41672,     1,
				0.0,     0.42,     1,
			   -0.027243,     0.41672,     1,
			   -0.052929,     0.407066,     1,
			   -0.075589,     0.391591,     1,
			   -0.093927,     0.371179,     1,
			   -0.104519,     0.354665,     1,
			   -0.113694,     0.337323,     1,
			   -0.121388,     0.319276,     1,
			   -0.127547,     0.300649,     1,
			   -0.132129,     0.281572,     1,
			   -0.137686,     0.250146,     1,
			   -0.142055,     0.218533,     1,
			   -0.145231,     0.186778,     1,
			   -0.147208,     0.154926,     1,
			   -0.147984,     0.123022,     1,
			   -0.147557,     0.091112,     1,
			   -0.145855,     0.083658,     1,
			   -0.14148,     0.077388,     1,
			   -0.135072,     0.073217,     1,
			   -0.127568,     0.071756,     1,
				0.127568,     0.071756,     1,
				0.135072,     0.073217,     1,
				0.14148,     0.077388,     1,
				0.145855,     0.083658,     1,
				0.147557,     0.091112,     1,
				0.147984,     0.123022,     1,
				0.147208,     0.154926,     1,
				0.145231,     0.186778,     1,
				0.142055,     0.218533,     1

		cutend
		del 5
	endif

	if gs_detlevel_3D_m=1 then
		addz -zzyzx

		pen gs_cont_pen
		material gs_bowl_mat

		mul a/0.295968, b/0.317685, zzyzx/0.53136
		rotx 90
		roty 90
		addz -0.06
		prism_     10,      0.12,
			   -0.167703,     0.051421,      79,
			   -0.100213,     0.07,    900,
				0.0,      74.6086,   4001,
			   -0.100213,     0.0,      79,
				0.0,     0.0,      79,
				0.0,     0.158415,      71,
			   -0.074839,     0.165438,      71,
			   -0.147065,     0.186263,      71,
			   -0.214155,     0.220163,      79,
			   -0.167703,     0.051421,     -1
		del 3

		addz 0.5607
		rotz 180
		rotx -90

		addy 0.071756
		rotx 50.4624
		addz 0.05
		prism_      15,      0.005,
			   -0.098003,     0.016824,      79,
				0.098076,     0.016824,      79,
				0.098076,     0.066824,    900,
				0.0,      86.5331,   4001,
				0.147984,     0.0638,      79,
				0.147557,     0.026373,      79,
				0.14148,     0.007944,      79,
				0.127568,     0.0,      79,
			   -0.127568,    -0.0,      79,
			   -0.14148,     0.007944,      79,
			   -0.147557,     0.026373,      79,
			   -0.147984,     0.0638,      79,
			   -0.098039,     0.066862,    900,
				0.0,      86.5331,   4001,
			   -0.098003,     0.016824,     -1

		cutplane 25

		prism_      14,      0.04,
				0.027341,     0.040861,      79,
				0.027341,     0.022439,      79,
			   -0.027268,     0.022439,      79,
			   -0.027268,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,    -180.0,   4001,
				0.027341,     0.040861,     -1,
				0.013307,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,     180.0,   4001,
			   -0.013234,     0.040861,      79,
				0.000036,     0.040861,    900,
				0.0,     180.0,   4001,
				0.013307,     0.040861,     -1

		cutend
		del 1

		prism_     35,      0.05,
			   -0.132129,     0.22925,      78,
			   -0.104519,     0.303917,      78,
			   -0.052929,     0.357447,      78,
				0.0,     0.37066,      78,
				0.052929,     0.357447,      78,
				0.104519,     0.303917,      78,
				0.132129,     0.22925,      78,
				0.145231,     0.132415,      78,
				0.147984,     0.0638,      78,
				0.147557,     0.026373,      78,
				0.14148,     0.007944,      78,
				0.127568,     0.0,      78,
			   -0.127568,    -0.0,      78,
			   -0.14148,     0.007944,      78,
			   -0.147557,     0.026373,      78,
			   -0.147984,     0.0638,      78,
			   -0.145231,     0.132415,      78,
			   -0.132129,     0.22925,     -1,
			   -0.110335,     0.129647,      79,
			   -0.11223,     0.097089,      79,
			   -0.109136,     0.087946,      79,
			   -0.100892,     0.082926,      79,
			   -0.0,     0.072897,      79,
				0.100892,     0.082926,      79,
				0.109136,     0.087946,      79,
				0.11223,     0.097089,      79,
				0.110335,     0.129647,      79,
				0.09782,     0.222254,      79,
				0.074107,     0.286534,      79,
				0.036402,     0.326301,      79,
				0.0,     0.335396,      79,
			   -0.036402,     0.326301,      79,
			   -0.074107,     0.286534,      79,
			   -0.09782,     0.222254,      79,
			   -0.110335,     0.129647,     -1

		cutplane
		del 2

		prism_           16,     0,
				0.132129,     0.281572,     15,
				0.104519,     0.354665,     15,
				0.052929,     0.407066,     15,
				0.0,     0.42,     15,
			   -0.052929,     0.407066,     15,
			   -0.104519,     0.354665,     15,
			   -0.132129,     0.281572,     15,
			   -0.145231,     0.186778,     15,
			   -0.147557,     0.091112,     15,
			   -0.14148,     0.077388,     15,
			   -0.127568,     0.071756,     15,
				0.127568,     0.071756,     15,
				0.14148,     0.077388,     15,
				0.147557,     0.091112,     15,
				0.145231,     0.186778,     15,
				0.132129,     0.281572, 	-1


		resol 15
		revolve     16,     42.8912,16,
				0.132129,     0.281572,     1,
				0.104519,     0.354665,     1,
				0.052929,     0.407066,     1,
				0.0,     0.42,     1,
			   -0.052929,     0.407066,     1,
			   -0.104519,     0.354665,     1,
			   -0.132129,     0.281572,     1,
			   -0.145231,     0.186778,     1,
			   -0.147557,     0.091112,     1,
			   -0.14148,     0.077388,     1,
			   -0.127568,     0.071756,     1,
				0.127568,     0.071756,     1,
				0.14148,     0.077388,     1,
				0.147557,     0.091112,     1,
				0.145231,     0.186778,     1,
				0.132129,     0.281572,     1

		cutend
		del 5
	endif

	if gs_detlevel_3D_m=3 then
		addz -zzyzx

		pen gs_cont_pen
		material gs_bowl_mat

		mul a/0.295968, b/0.317685, zzyzx/0.53136
		rotx 90
		roty 90
		addz -0.06
		prism_     5,      0.12,
			   -0.153547374087, 0,      15,
				0.0,     0.0,      15,
				0.0,     0.158415,      15,
			   -0.214155,     0.2450163,      15,
			   -0.153547374087, 0,     -1
		del 3

		addz 0.5607
		rotz 180
		rotx -90

		addy 0.071756
		rotx 50.4624
		addz 0.05


		cutplane 25

		prism_      8,      0.04,
				0.027341,     0.022439,      15,
				0.02734,        0.041,      79,
				0.02016338634683, 0.05936512210149,      79,
				0,     0.068165,      79,
				-0.02016338634683, 0.05936512210149,      79,
				-0.027268,        0.041,      79,
				-0.027268,     0.022439,      15,
				0.027341,     0.022439,      -1

		cutend

		del 1

		prism_     20,      0.05,
			   -0.104519,     0.303917,      79,
			   -0.052929,     0.357447,      79,
				0.0,     0.37066,      79,
				0.052929,     0.357447,      79,
				0.104519,     0.303917,      79,
				0.145231,     0.132415,      79,
				0.147984,     0.0,      15,
			   -0.147984,    0.0,      15,
			   -0.145231,     0.132415,      79,
			   -0.104519,     0.303917,     -1,
			   -0.110335,     0.129647,      79,
			   -0.11223,     0.072897,      15,
				0.11223,     0.072897,      15,
				0.110335,     0.129647,      79,
				0.074107,     0.286534,      79,
				0.036402,     0.326301,      79,
				0.0,     0.335396,      79,
			   -0.036402,     0.326301,      79,
			   -0.074107,     0.286534,      79,
			   -0.110335,     0.129647,     -1

		cutplane
		del 2

		resol 5
		revolve     10,     42.8912,addStatus+4+16,
				0.104519,     0.354665,     1,
				0.052929,     0.407066,     1,
				0.0,     0.42,     1,
			   -0.052929,     0.407066,     1,
			   -0.104519,     0.354665,     1,
			   -0.145231,     0.186778,     1,
			   -0.147557,     0.071756,     1,
				0.147557,     0.071756,     1,
				0.145231,     0.186778,     1,
				0.104519,     0.354665,     1

		cutend
		del 5
	endif
	del 1

return

! ==============================================================================
! Urinal Type 2
! ==============================================================================

20:

	pen gs_cont_pen
	material gs_bowl_mat

	!!! *** Hotspot Editing
	unID=1
	hotspot	0,-B,0,unID,h_stand,1+128 : unID=unID+1
	hotspot	0,-B,-1,unID,h_stand,3 : unID=unID+1
	hotspot	0,-B,h_stand,unID,h_stand,2 : unID=unID+1

	addz h_stand
	hotspot 0,0,0,unID,b,1+128 : unID=unID+1
	hotspot 0,1,0,unID,b,3 : unID=unID+1
	hotspot 0,-b,0,unID,b,2 : unID=unID+1

	addz 0.5794*zzyzx!+0.427
	hotspot	-A*0.5,  0,0,unID,a,1+256 : unID=unID+1
	hotspot	-A*0.5-1,0,0,unID,a,3 : unID=unID+1
	hotspot	A*0.5,   0,0,unID,a,2 : unID=unID+1

	add -a/2, -b, 0
	hotspot	0,b,0,unID,ZZYZX,1+128 : unID=unID+1
	hotspot	0,b,1,unID,ZZYZX,3 : unID=unID+1
	hotspot	0,b,-ZZYZX,unID,ZZYZX,2 : unID=unID+1

	hotspot	a,b,0,unID,ZZYZX,1+128 : unID=unID+1
	hotspot	a,b,1,unID,ZZYZX,3 : unID=unID+1
	hotspot	a,b,-ZZYZX,unID,ZZYZX,2 : unID=unID+1

	hotspot	a/2,0,0,unID,ZZYZX,1+128 : unID=unID+1
	hotspot	a/2,0,1,unID,ZZYZX,3 : unID=unID+1
	hotspot	a/2,0,-ZZYZX,unID,ZZYZX,2 : unID=unID+1

	hotspot	a/2,b,-0.5794*zzyzx-h_stand,unID : unID=unID+1
	del 1
	addz -ZZYZX

	mulx a/0.40
	muly b/0.40
	mulz zzyzx/0.714823

	if GLOB_CONTEXT > 40 and GLOB_CONTEXT < 50 then
		resol 24
		prism_ 13, 0.714823,
				-0.2, 5.84458575707E-016, 79,
				-0.2, -0.1, 79,
				0.1400000003262, -0.1000000001665, 979,
				0, 58.1092146439, 4079,
				-0.0396226090206, -0.388679265846, 79,
				1.317050720689E-009, -0.3250000546896, 979,
				0, 63.78156684551, 4079,
				0.0396226073572, -0.38867926852, 79,
				-0.1400000035761, -0.1, 979,
				0, 58.10921464174, 4079,
				0.2,  -0.1, 79,
				0.2, 3.84241249929E-016, 79,
				-0.2, 5.84458575707E-016,      1
		end
	endif


	if gs_detlevel_3D_m = 2 then
		addz 0.051528

		rotx 20

		roty -90
		add 0,-0.1098,0
		rotx 112.6331
		resol gs_resol
		revolve 24,134.7338,0,
				0.02,     0.02,     1,
				0.019842,     0.026397,     1,
				0.022424,     0.043114,     1,
				0.027869,     0.059128,     1,
				0.036013,     0.073954,     1,
				0.046607,     0.08714,     1,
				0.05933,     0.098286,     1,
				0.073795,     0.107053,     1,
				0.081679,     0.110114,     1,
				0.16135,     0.1393,     1,
				0.295759,     0.163,     1,
				0.364,     0.163,     2,
				0.364,     0.183,     2,
				0.294009,     0.183,     1,
				0.156154,     0.158692,     1,
				0.07444,     0.128758,     1,
				0.064925,     0.125064,     1,
				0.047467,     0.114482,     1,
				0.032112,     0.10103,     1,
				0.019326,     0.085116,     1,
				0.009497,     0.067224,     1,
				0.002925,     0.047896,     1,
			   -0.000191,     0.027721,     1,
				0.0,     0.02,    1
		del 2
		add 0,-0.0264,-0.20
		rotx 90
		revolve  24,22.6331,0,
				0.02,     0.2367,     1,
				0.019842,     0.243097,     1,
				0.022424,     0.259814,     1,
				0.027869,     0.275828,     1,
				0.036013,     0.290654,     1,
				0.046607,     0.30384,     1,
				0.05933,     0.314986,     1,
				0.073795,     0.323753,     1,
				0.081679,     0.326814,     1,
				0.16135,     0.356,     1,
				0.295759,     0.3797,     1,
				0.364,     0.3797,     2,
				0.364,     0.3997,     2,
				0.294009,     0.3997,     1,
				0.156154,     0.375392,     1,
				0.07444,     0.345458,     1,
				0.064925,     0.341764,     1,
				0.047467,     0.331182,     1,
				0.032112,     0.31773,     1,
				0.019326,     0.301816,     1,
				0.009497,     0.283924,     1,
				0.002925,     0.264596,     1,
			   -0.000191,     0.244421,     1,
				0.0,     0.2367,     1
		muly -1
		addy -0.40
		revolve  24,22.6331,0,
				0.02,     0.2367,     1,
				0.019842,     0.243097,     1,
				0.022424,     0.259814,     1,
				0.027869,     0.275828,     1,
				0.036013,     0.290654,     1,
				0.046607,     0.30384,     1,
				0.05933,     0.314986,     1,
				0.073795,     0.323753,     1,
				0.081679,     0.326814,     1,
				0.16135,     0.356,     1,
				0.295759,     0.3797,     1,
				0.364,     0.3797,     2,
				0.364,     0.3997,     2,
				0.294009,     0.3997,     1,
				0.156154,     0.375392,     1,
				0.07444,     0.345458,     1,
				0.064925,     0.341764,     1,
				0.047467,     0.331182,     1,
				0.032112,     0.31773,     1,
				0.019326,     0.301816,     1,
				0.009497,     0.283924,     1,
				0.002925,     0.264596,     1,
			   -0.000191,     0.244421,     1,
				0.0,     0.2367,     1
		del 6

		cutplane -90

		rotx 20
		prism_  7,0.02,
			-0.0367,0.1325,0,
			-0.0367,-0.0264,0,
			-0.0185,-0.1175,1000,
			0.0185,-0.1175,1000,
			0.0367,-0.0264,1000,
			0.0367,0.1325,0,
			-0.0367,0.1325,-1

		rotx 90
		add 0,0,-0.1325
		prism_  25,     0.1589,
		   -0.036702,     0.0,     0,
		   -0.036702,     0.02,     8,
		   -0.043099,     0.019842,     74,
		   -0.059816,     0.022424,     74,
		   -0.07583,     0.027869,     74,
		   -0.090656,     0.036013,     74,
		   -0.103842,     0.046607,     74,
		   -0.114988,     0.05933,     74,
		   -0.123755,     0.073795,     74,
		   -0.126816,     0.081679,     74,
		   -0.156002,     0.16135,     74,
		   -0.179702,     0.295759,     74,
		   -0.179702,     0.364,     0,
		   -0.199702,     0.364,     8,
		   -0.199702,     0.294009,     74,
		   -0.175394,     0.156154,     74,
		   -0.14546,     0.07444,     74,
		   -0.141766,     0.064925,     74,
		   -0.131184,     0.047467,     74,
		   -0.117732,     0.032112,     74,
		   -0.101818,     0.019326,     74,
		   -0.083926,     0.009497,     74,
		   -0.064598,     0.002925,     74,
		   -0.044423,    -0.000191,     74,
		   -0.036702,     0.0,     -1

		mulx -1
		prism_  25,     0.1589,
		   -0.036702,     0.0,     0,
		   -0.036702,     0.02,     8,
		   -0.043099,     0.019842,     74,
		   -0.059816,     0.022424,     74,
		   -0.07583,     0.027869,     74,
		   -0.090656,     0.036013,     74,
		   -0.103842,     0.046607,     74,
		   -0.114988,     0.05933,     74,
		   -0.123755,     0.073795,     74,
		   -0.126816,     0.081679,     74,
		   -0.156002,     0.16135,     74,
		   -0.179702,     0.295759,     74,
		   -0.179702,     0.364,     0,
		   -0.199702,     0.364,     8,
		   -0.199702,     0.294009,     74,
		   -0.175394,     0.156154,     74,
		   -0.14546,     0.07444,     74,
		   -0.141766,     0.064925,     74,
		   -0.131184,     0.047467,     74,
		   -0.117732,     0.032112,     74,
		   -0.101818,     0.019326,     74,
		   -0.083926,     0.009497,     74,
		   -0.064598,     0.002925,     74,
		   -0.044423,    -0.000191,     74,
		   -0.036702,     0.0,     -1
		del 4

		cutend

		rotz -90
		rotx 90
		add 0,0.3874,0.18
		prism_ 12,     0.02,
			0.0,     0.0,     13,
			0.0,     0.016119,     0,
			0.1,     0.016119,     79,
			0.1,     0.009557,     79,
			0.102279,    -0.003367,     79,
			0.106767,    -0.015699,     79,
			0.113329,    -0.027064,     79,
			0.121764,    -0.037117,     79,
			0.131817,    -0.045553,     79,
			0.143183,    -0.052114,     79,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1
		mulz -1
		addz 0.36
		prism_ 12,     0.02,
			0.0,     0.0,     13,
			0.0,     0.016119,     0,
			0.1,     0.016119,     79,
			0.1,     0.009557,     79,
			0.102279,    -0.003367,     79,
			0.106767,    -0.015699,     79,
			0.113329,    -0.027064,     79,
			0.121764,    -0.037117,     79,
			0.131817,    -0.045553,     79,
			0.143183,    -0.052114,     79,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1
		del 5
		rotx 90
		addy 0.4035
		prism_   49,     0.1,
		   -0.2,     0.0,     0,
		   -0.18,     0.0,     77,
		   -0.18,     0.184795,     79,
		   -0.18,     0.189607,     79,
		   -0.178329,     0.199085,     79,
		   -0.175037,     0.208128,     79,
		   -0.170225,     0.216462,     79,
		   -0.164039,     0.223835,     79,
		   -0.156667,     0.230021,     79,
		   -0.148333,     0.234832,     79,
		   -0.139289,     0.238124,     79,
		   -0.129812,     0.239795,     79,
		   -0.125,     0.239795,     79,
			0.125,     0.239795,     79,
			0.129812,     0.239795,     79,
			0.139289,     0.238124,     79,
			0.148333,     0.234832,     79,
			0.156667,     0.230021,     79,
			0.164039,     0.223835,     79,
			0.170225,     0.216462,     79,
			0.175037,     0.208128,     79,
			0.178329,     0.199085,     79,
			0.18,     0.189607,     79,
			0.18,     0.184795,     79,
			0.18,    -0.0,     0,
			0.2,     0.0,     77,
			0.2,     0.184795,     79,
			0.2,     0.191357,     79,
			0.197721,     0.204281,     79,
			0.193233,     0.216613,     79,
			0.186671,     0.227978,     79,
			0.178236,     0.238031,     79,
			0.168183,     0.246466,     79,
			0.156817,     0.253028,     79,
			0.144486,     0.257516,     79,
			0.131562,     0.259795,     79,
			0.125,     0.259795,     79,
		   -0.125,     0.259795,     79,
		   -0.131562,     0.259795,     79,
		   -0.144486,     0.257516,     79,
		   -0.156817,     0.253028,     79,
		   -0.168183,     0.246466,     79,
		   -0.178236,     0.238031,     79,
		   -0.186671,     0.227978,     79,
		   -0.193233,     0.216613,     79,
		   -0.197721,     0.204281,     79,
		   -0.2,     0.191357,     79,
		   -0.2,     0.184795,     79,
		   -0.2,     0.0,     -1
		del 2

		rotx 90
		addy 0.01
		poly_  46,
		   -0.161301,     0.150422,     0,
		   -0.161383,     0.150915,     0,
		   -0.185001,     0.293457,     0,
		   -0.185001,     0.577,     0,
		   -0.185001,     0.582687,     0,
		   -0.183026,     0.593887,     0,
		   -0.179136,     0.604575,     0,
		   -0.173449,     0.614425,     0,
		   -0.166139,     0.623138,     0,
		   -0.157426,     0.630448,     0,
		   -0.147576,     0.636135,     0,
		   -0.136888,     0.640025,     0,
		   -0.125688,     0.642,     0,
		   -0.120001,     0.642,     0,
			0.129999,     0.642,     0,
			0.135686,     0.642,     0,
			0.146886,     0.640025,     0,
			0.157574,     0.636135,     0,
			0.167424,     0.630448,     0,
			0.176137,     0.623138,     0,
			0.183447,     0.614425,     0,
			0.189134,     0.604575,     0,
			0.193024,     0.593887,     0,
			0.194999,     0.582687,     0,
			0.194999,     0.577,     0,
			0.194999,     0.293457,     0,
			0.171299,     0.150422,     0,
			0.142113,     0.065637,     0,
			0.139052,     0.057247,     0,
			0.130285,     0.041854,     0,
			0.119139,     0.028315,     0,
			0.105953,     0.017041,     0,
			0.091127,     0.008374,     0,
			0.075113,     0.00258,     0,
			0.058396,    -0.000168,     0,
			0.041999,     0.0,     0,
		   -0.041999,     0.0,     0,
		   -0.048398,    -0.000168,     0,
		   -0.065115,     0.00258,     0,
		   -0.081129,     0.008374,     0,
		   -0.095955,     0.017041,     0,
		   -0.109141,     0.028315,     0,
		   -0.120287,     0.041854,     0,
		   -0.129054,     0.057247,     0,
		   -0.132115,     0.065637,     0,
		   -0.161301,     0.150422,     -1
		del 2
	endif


	if gs_detlevel_3D_m = 1 then

		addz 0.051528
		rotx 20
		roty -90
		add 0,-0.1098,0
		rotx 112.6331
		resol gs_resol
		revolve 12,134.7338,0,
				0.02,     0.02,     1,
				0.036013,     0.073954,     1,
				0.081679,     0.110114,     1,
				0.16135,     0.1393,     1,
				0.295759,     0.163,     1,
				0.364,     0.163,     2,
				0.364,     0.183,     2,
				0.294009,     0.183,     1,
				0.156154,     0.158692,     1,
				0.07444,     0.128758,     1,
				0.019326,     0.085116,     1,
				0.0,     0.02,    1
		del 2

		add 0,-0.0264,-0.20
		rotx 90
		revolve  12,22.6331,0,
				0.02,     0.2367,     1,
				0.036013,     0.290654,     1,
				0.081679,     0.326814,     1,
				0.16135,     0.356,     1,
				0.295759,     0.3797,     1,
				0.364,     0.3797,     2,
				0.364,     0.3997,     2,
				0.294009,     0.3997,     1,
				0.156154,     0.375392,     1,
				0.07444,     0.345458,     1,
				0.019326,     0.301816,     1,
				0.0,     0.2367,     1

		muly -1
		addy -0.40
		revolve  12,22.6331,0,
				0.02,     0.2367,     1,
				0.036013,     0.290654,     1,
				0.081679,     0.326814,     1,
				0.16135,     0.356,     1,
				0.295759,     0.3797,     1,
				0.364,     0.3797,     2,
				0.364,     0.3997,     2,
				0.294009,     0.3997,     1,
				0.156154,     0.375392,     1,
				0.07444,     0.345458,     1,
				0.019326,     0.301816,     1,
				0.0,     0.2367,     1
		del 6

		cutplane -90

		rotx 20

		prism_  7,0.02,
			-0.0367,0.1325,0,
			-0.0367,-0.0264,0,
			-0.0185,-0.1175,1000,
			0.0185,-0.1175,1000,
			0.0367,-0.0264,1000,
			0.0367,0.1325,0,
			-0.0367,0.1325,-1

		rotx 90
		add 0,0,-0.1325
		prism_  13,     0.1589,
		   -0.036702,     0.0,     0,
		   -0.036702,     0.02,     8,
		   -0.090656,     0.036013,     74,
		   -0.126816,     0.081679,     74,
		   -0.156002,     0.16135,     74,
		   -0.179702,     0.295759,     74,
		   -0.179702,     0.364,     0,
		   -0.199702,     0.364,     8,
		   -0.199702,     0.294009,     74,
		   -0.175394,     0.156154,     74,
		   -0.14546,     0.07444,     74,
		   -0.101818,     0.019326,     74,
		   -0.036702,     0.0,     -1

		mulx -1
		prism_  13,     0.1589,
		   -0.036702,     0.0,     0,
		   -0.036702,     0.02,     8,
		   -0.090656,     0.036013,     74,
		   -0.126816,     0.081679,     74,
		   -0.156002,     0.16135,     74,
		   -0.179702,     0.295759,     74,
		   -0.179702,     0.364,     0,
		   -0.199702,     0.364,     8,
		   -0.199702,     0.294009,     74,
		   -0.175394,     0.156154,     74,
		   -0.14546,     0.07444,     74,
		   -0.101818,     0.019326,     74,
		   -0.036702,     0.0,     -1
		del 4

		cutend

		rotz -90
		rotx 90
		add 0,0.3874,0.18
		prism_ 6,     0.02,
			0.0,     0.0,     13,
			0.0,     0.016119,     0,
			0.1,     0.016119,     79,
			0.113329,    -0.027064,     79,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1
		mulz -1
		addz 0.36
		prism_ 6,     0.02,
			0.0,     0.0,     13,
			0.0,     0.016119,     0,
			0.1,     0.016119,     79,
			0.113329,    -0.027064,     79,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1
		del 5
		rotx 90
		addy 0.4035
		prism_   21,     0.1,
		   -0.2,     0.0,     0,
		   -0.18,     0.0,     77,
		   -0.18,     0.184795,     79,
		   -0.175037,     0.208128,     79,
		   -0.156667,     0.230021,     79,
		   -0.125,     0.239795,     79,
			0.125,     0.239795,     79,
			0.156667,     0.230021,     79,
			0.175037,     0.208128,     79,
			0.18,     0.184795,     79,
			0.18,    -0.0,     0,
			0.2,     0.0,     77,
			0.2,     0.184795,     79,
			0.193233,     0.216613,     79,
			0.168183,     0.246466,     79,
			0.125,     0.259795,     79,
		   -0.125,     0.259795,     79,
		   -0.168183,     0.246466,     79,
		   -0.193233,     0.216613,     79,
		   -0.2,     0.184795,     79,
		   -0.2,     0.0,     -1
		del 2

		rotx 90
		addy 0.01
		poly_  24,
		   -0.161301,     0.150422,     0,
		   -0.161383,     0.150915,     0,
		   -0.185001,     0.293457,     0,
		   -0.185001,     0.577,     0,
		   -0.185001,     0.582687,     0,
		   -0.179136,     0.604575,     0,
		   -0.157426,     0.630448,     0,
		   -0.125688,     0.642,     0,
		   -0.120001,     0.642,     0,
			0.129999,     0.642,     0,
			0.135686,     0.642,     0,
			0.167424,     0.630448,     0,
			0.189134,     0.604575,     0,
			0.194999,     0.582687,     0,
			0.194999,     0.577,     0,
			0.194999,     0.293457,     0,
			0.171299,     0.150422,     0,
			0.120287,     0.041854,     0,
			0.081129,     0.008374,     0,
			0.041999,     0.0,     0,
		   -0.041999,     0.0,     0,
		   -0.081129,     0.008374,     0,
		   -0.120287,     0.041854,     0,
		   -0.161301,     0.150422,     -1
		del 2

	endif


	if gs_detlevel_3D_m = 3 then

		addz 0.051528
		rotx 20
		roty -90
		add 0,-0.1098,0
		rotx 112.6331
		resol gs_resol
		revolve 5,134.7338,0,
				0.364,     0.163,     1,
				0.364,     0.183,     2,
				0.156154,     0.158692,     1,
				0.019326,     0.085116,     1,
				0.0,     0.02,    1
		del 2

		add 0,-0.0264,-0.20
		rotx 90
		revolve  5,22.6331,0,
				0.364,     0.3797,     1,
				0.364,     0.3997,     2,
				0.156154,     0.375392,     1,
				0.019326,     0.301816,     1,
				0.0,     0.2367,     1
		muly -1
		addy -0.40
		revolve  5,22.6331,0,
				0.364,     0.3797,     1,
				0.364,     0.3997,     2,
				0.156154,     0.375392,     1,
				0.019326,     0.301816,     1,
				0.0,     0.2367,     1
		del 6

		cutplane -90

		rotx 20
		poly_  7,
			-0.0367,0.1325,0,
			-0.0367,-0.0264,0,
			-0.0185,-0.1175,1000,
			0.0185,-0.1175,1000,
			0.0367,-0.0264,1000,
			0.0367,0.1325,0,
			-0.0367,0.1325,-1

		rotx 90
		add 0,0,-0.1325
		ruled 4, 0,
		   -0.199702,     0.364,     1,
		   -0.175394,     0.156154,     1,
		   -0.101818,     0.019326,     1,
		   -0.036702,     0.0,     1,

		   -0.199702,     0.364,     0.1589,
		   -0.175394,     0.156154,     0.1589,
		   -0.101818,     0.019326,     0.1589,
		   -0.036702,     0.0,     0.1589
		mulx -1
		ruled 4, 0,
		   -0.199702,     0.364,     1,
		   -0.175394,     0.156154,     1,
		   -0.101818,     0.019326,     1,
		   -0.036702,     0.0,     1,

		   -0.199702,     0.364,     0.1589,
		   -0.175394,     0.156154,     0.1589,
		   -0.101818,     0.019326,     0.1589,
		   -0.036702,     0.0,     0.1589
		del 4

		cutend

		rotz -90
		rotx 90
		add 0,0.3874,0.20
		poly_ 6,
			0.0,     0.0,     1,
			0.0,     0.016119,     0,
			0.1,     0.016119,     1,
			0.113329,    -0.027064,     1,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1

		ruled 3, 32,
			0.1,     0.016119,     1,
			0.113329,    -0.027064,     1,
			0.149348,    -0.054358,     1,

			0.1,     0.016119,     -0.02,
			0.113329,    -0.027064,     -0.02,
			0.149348,    -0.054358,     -0.02

		mulz -1
		addz 0.40
		poly_ 6,
			0.0,     0.0,     1,
			0.0,     0.016119,     0,
			0.1,     0.016119,     1,
			0.113329,    -0.027064,     1,
			0.149348,    -0.054358,     0,
			0.0,     0.0,     -1

		ruled 3, 32,
			0.1,     0.016119,     1,
			0.113329,    -0.027064,     1,
			0.149348,    -0.054358,     1,

			0.1,     0.016119,     -0.02,
			0.113329,    -0.027064,     -0.02,
			0.149348,    -0.054358,     -0.02

		del 5
		rotx 90
		addy 0.4035
		ruled 4, 16+32,
			0.20, 0, 0,
			0.20, 0.259795, 0,
			-0.20, 0.259795, 0,
			-0.20, 0, 0,

			0.20, 0, 0.10,
			0.20, 0.259795, 0.10,
			-0.20, 0.259795, 0.10,
			-0.20, 0, 0.10

		addz 0.10
		poly_ 8,
			0.20, 0, 1,
			0.20, 0.259795, 1,
			-0.20, 0.259795, 1,
			-0.20, 0, 0,
			-0.18, 0, 1,
			-0.18, 0.239795, 1,
			0.18, 0.239795, 1,
			0.18, 0, 0
		del 3

		rotx 90
		poly_  11,
			-0.2,     0.663295,      1,
			-0.2, 0.3873607091812,      1,
			-0.175394, 0.1661756158832,      1,
			-0.101818, 0.02056629963087,      1,
			-0.0367, 0,      1,
			0.0367, 0,      1,
			0.101818, 0.02056629963087,      1,
			0.175394, 0.1661756158832,      1,
			0.2, 0.3873607091812,      1,
			0.2,     0.663295,      1,
			-0.2,     0.663295,      1
		del 1

	endif

	del 6

return



! ==============================================================================
! Urinal Type 2 / Urinal 04
! ==============================================================================

40:

	pen gs_cont_pen
	material gs_bowl_mat

	group "bottomPartOfUrinal"
		rotx 90
		cutpolya 5, 2, 0,
			-1, 0, 0,
			1, 0, 0,
			1, 1, 0,
			-1, 1, 0,
			-1, 0, -1
		del 1

		mulx urinalWidth / 2 / urinalBotHeight
		sphere urinalBotHeight
		del 1

		cutend
	endgroup

	group "topPartOfUrinal"
		rotx -90
		cutpolya 5, 2, 0,
			-1, 0, 0,
			1, 0, 0,
			1, 1, 0,
			-1, 1, 0,
			-1, 0, -1
		del 1

		mul urinalWidth / 2 / urinalBotHeight, 1, urinalTopHeight / urinalBotHeight
		sphere urinalBotHeight
		del 1

		cutend
	endgroup

	group "bottomPartOfUrinal2"
		rotx 90
		cutpolya 5, 2, 0,
			-1, 0, 0,
			1, 0, 0,
			1, 1, 0,
			-1, 1, 0,
			-1, 0, -1
		del 1

		mulx urinal2Width / 2 / urinal2BotHeight
		sphere urinal2BotHeight
		del 1

		cutend
	endgroup

	group "topPartOfUrinal2"
		rotx -90
		cutpolya 5, 2, 0,
			-1, 0, 0,
			1, 0, 0,
			1, 1, 0,
			-1, 1, 0,
			-1, 0, -1
		del 1

		mul urinal2Width / 2 / urinal2BotHeight, 1, (urinal2Height - urinal2BotHeight) / urinal2BotHeight
		sphere urinal2BotHeight
		del 1

		cutend
	endgroup

	group "urinalCut"
		resol gs_resol * 3
		add -urinalWidth * 2, -0.5159400528979, 0.3428800786246
		roty 90
			cylind 5, 0.4859400528979
		resol gs_resol
	endgroup

	group "urinalCut2"
		resol gs_resol * 3
		add -urinal2Width * 2, -0.5159400528979, 0.3428800786246
		roty 90
			cylind 5, 0.51
		del 2
		resol gs_resol
	endgroup

	group "urinalInnerCut"
		add 0, -0.15, 0.03
		mul 1.1, 1, 1.8
		sphere 0.135
		del 2
	endgroup

	group "motionDetector"
		if gs_detlevel_3D_m = 2 then
			add 0, -0.01, urinalTopHeight - 0.1
			rotz -90
			revolve 3, 360, 1 + 2,
				0, 0.015, 0,
				0.01, 0.015, 0,
				0.02, 0, 0
			del 2
		endif
	endgroup

	group "drain"
		if gs_detlevel_3D_m = 2 then
			add 0, -0.15, drainElev
			roty -90
			revolve 3, 360, 1 + 2,
				0, 0.03, 0,
				0.01, 0.03, 0,
				0.015, 0, 0
			del 2
		endif
	endgroup

	urinal1 = subgroup (addgroup ("bottomPartOfUrinal", "topPartOfUrinal"), "urinalCut")
	urinal2 = addgroup ("bottomPartOfUrinal2", "topPartOfUrinal2")
	urinalAccessories = addgroup ("motionDetector", "drain")


	if bShowHotspots then

		!!! *** Hotspot Editing
		unID=1
		hotspot	0, -b, 0, unID, h_stand, 1 + 128		: unID = unID + 1
		hotspot	0, -b, -1, unID, h_stand, 3				: unID = unID + 1
		hotspot	0, -b, h_stand, unID, h_stand, 2		: unID = unID + 1

		addz h_stand
		hotspot 0, 0, 0, unID, b, 1 + 128			: unID = unID + 1
		hotspot 0, 1, 0, unID, b, 3					: unID = unID + 1
		hotspot 0, -b, 0, unID, b, 2				: unID = unID + 1
		del 1

		addz h_stand - 0.226 * zzyzx / urinalHeight + zzyzx
		hotspot	0, 0, 0, unID, halfA, 1 + 128, a	: unID = unID + 1
		hotspot	-halfA, 0, 0, unID, halfA, 3, a	: unID = unID + 1
		hotspot	halfA, 0, 0, unID, halfA, 2, a	: unID = unID + 1

		hotspot	0, 0, 0, unID, halfA, 1 + 128, a	: unID = unID + 1
		hotspot	halfA, 0, 0, unID, halfA, 3, a	: unID = unID + 1
		hotspot	-halfA, 0, 0, unID, halfA, 2, a	: unID = unID + 1
		del 1

		add -a / 2, 0, h_stand
		hotspot	0, 0, 0, unID, frontHeightFromBottom, 1 + 128, zzyzx		: unID = unID + 1
		hotspot	0, 0, frontHeightFromBottom, unID, frontHeightFromBottom, 3, zzyzx	: unID = unID + 1
		hotspot	0, 0, -frontHeightFromBottom, unID, frontHeightFromBottom, 2, zzyzx	: unID = unID + 1
		del 1

		add a / 2, 0, h_stand
		hotspot	0, 0, 0, unID, frontHeightFromBottom, 1 + 128, zzyzx		: unID = unID + 1
		hotspot	0, 0, frontHeightFromBottom, unID, frontHeightFromBottom, 3, zzyzx	: unID = unID + 1
		hotspot	0, 0, -frontHeightFromBottom, unID, frontHeightFromBottom, 2, zzyzx	: unID = unID + 1
		del 1

		hotspot	0, 0, 0, unID										: unID = unID + 1

	endif

	addz h_stand + (urinalBotHeight - 0.226) * zzyzx / urinalHeight
	mul a / urinalWidth, b / urinalDepth, zzyzx / urinalHeight
		rotx -90
			cutplane
		del 1

		placegroup addgroup (subgroup (urinal1, urinal2), addgroup (subgroup (subgroup (urinal2, "urinalCut2"), "urinalInnerCut"), urinalAccessories))

		cutend
	del 2

return


