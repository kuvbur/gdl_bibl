
EPS=0.0001

!!PARAMETER INPUT CALCULATION!!

if ptyp_m=1 then	!ptyp=Straight
	hideparameter "ab"
	hideparameter "rb"
	hideparameter "res"
endif

if ptyp_m=2 then	!ptyp=Curve Length and Radius
	if abs(rb)>EPS then
		parameters ab=(lra*180)/(rb*pi)
		lock "ab"
	endif
endif

if ptyp_m=3 then	!ptyp=Angle and Radius
	parameters lra=(rb*pi*ab)/180
	lock "lra"
endif


!!SEGMENT CALCULATION!!
if ptyp_m<>1 then
	nalphaincl=int(ab/(360/res))+1 !number of segment points
	alphaincl=ab/nalphaincl  !angle between segment points
	deltaz=lra*sin(ani) !Vertical distance between start and endpoints
	deltazincl=deltaz/nalphaincl !vertical step between segment points
endif

!!BAR CALCULATION!!
bdist=(hr-(nb*bh))/(nb-1)

