
! GENERAL PARAMETERS
values "gs_detlevel_3D_m" 2,1,0		! Detailed, Simple, Off


! SPECIFIC RAIL GEOMETRY PARAMETERS
values "btyp_m" 1,2					! Rectangular, Round
if btyp_m=2 then
	hideparameter "fth","bh"
	else
	hideparameter "bd"
endif


! GENERAL RAIL GEOMETRY PARAMETERS
values "ptyp_m" 1,2,3				! Straight, Curve Length and Radius, Angle and Radius


VALUES "a" lra
VALUES "zzyzx" ds+hr


IF ptyp_m<>1 then
		IF btyp_m=1 then VALUES "b" fth
		IF btyp_m=2 then VALUES "b" bd
		lock "a","b","zzyzx"
	ELSE
		IF btyp_m=1 then
			IF GLOB_MODPAR_NAME = "B" THEN PARAMETERS fth=B
			IF GLOB_MODPAR_NAME = "fth" THEN PARAMETERS B=fth
			IF GLOB_MODPAR_NAME = "btyp_m" THEN PARAMETERS fth=B
		ELSE
			IF GLOB_MODPAR_NAME = "B" THEN PARAMETERS bd=B
			IF GLOB_MODPAR_NAME = "bd" THEN PARAMETERS B=bd
			IF GLOB_MODPAR_NAME = "btyp_m" THEN PARAMETERS bd=B
		ENDIF
	lock "a","zzyzx"
ENDIF

IF ptyp_m<>1 OR rom_m<>1 THEN
	LOCK "gs_AngleL"
	LOCK "gs_AngleR"
ENDIF

if ptyp_m=1 then
	hideparameter "ab"
	hideparameter "rb"
	hideparameter "res"
endif

if ptyp_m=2 then
	IF ABS(rb)>EPS THEN
		parameters ab=(lra*180)/(rb*pi)
		lock "ab"
	endif
endif

if ptyp_m=3 then
	parameters lra=(rb*pi*ab)/180
	lock "lra"
endif


if gs_cont_pen=0 then parameters gs_cont_pen=2
if gs_fill_pen=0 then parameters gs_fill_pen=91

!!PARAMETER RANGE DEFINITION!!
	VALUES "ani" range(-90, 0), range (0, 90)
	VALUES "hr" range(0,)
	VALUES "lra" RANGE(0,)
	VALUES "lrah" RANGE(0,)
	VALUES "B" range(0,)
	values "fth" range(0,)
	values "bh" range(0,)
	values "bd" range(0,)
	VALUES "gs_AngleL" 	range(0,180)
	VALUES "gs_AngleR" 	range(0,180)
	values "res" range[3,)
	values "rescs" range[3,)

if btyp_m = 1 then
	lock			"rescs"
	hideparameter	"rescs"
endif

IF ABS(ani)<EPS THEN
	VALUES "ab" RANGE (0,360]
	LOCK "rom_m","rmm_m"
ELSE
	VALUES "ab" RANGE (0,)
ENDIF

! Distance from Slab/Stair
if GLOB_MODPAR_NAME = "dsPerp" then
	ds = dsPerp * cos(ani)
	parameters ds = ds
else
	dsPerp = ds / cos(ani)
	parameters dsPerp = dsPerp
endif

! Height of Railing
if GLOB_MODPAR_NAME = "hrPerp" then
	hr = hrPerp * cos(ani)
	parameters hr = hr
else
	hrPerp = hr / cos(ani)
	parameters hrPerp = hrPerp
endif

