
if NOT(bShow3D) then END

if GLOB_CONTEXT < 40 and not(bSolid3D) then model wire

pen gs_3D_cont_pen
unID = 1
material gs_mat_solid

if iSymbolType = FLOOR_RECESS then add -a / 2, -b / 2, 0

add a/2, b/2, -gs_slab_thickness

if iOpeningType = OPTYPE_RECTANGULAR then
	prism_ 5, gs_slab_thickness,
		-a/2,	-b/2,	15,
		-a/2,	b/2,	15,
		a/2,	b/2,	15,
		a/2,	-b/2,	15,
		-a/2,	-b/2,	-1

	del 1

	hotspot 0,		0,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a,		0,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot 0,		b,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a,		b,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a/2,	b/2,	-gs_slab_thickness, unID : unID = unID + 1

	hotspot 0,		0,		0, unID : unID = unID + 1
	hotspot a,		0,		0, unID : unID = unID + 1
	hotspot 0,		b,		0, unID : unID = unID + 1
	hotspot a,		b,		0, unID : unID = unID + 1
	hotspot a/2,	b/2,	0, unID : unID = unID + 1
endif

if iOpeningType = OPTYPE_CIRCULAR | iOpeningType = OPTYPE_ELLIPTICAL then
	if iOpeningType = OPTYPE_CIRCULAR then a = b
	muly b/a

	cylind gs_slab_thickness, a/2

	del 2

	hotspot 0,		b/2,	-gs_slab_thickness, unID : unID = unID + 1
	hotspot a/2,	0,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a/2,	b/2,	-gs_slab_thickness, unID : unID = unID + 1
	hotspot a,		b/2,	-gs_slab_thickness, unID : unID = unID + 1
	hotspot a/2,	b,		-gs_slab_thickness, unID : unID = unID + 1

	hotspot 0,		b/2,	0, unID : unID = unID + 1
	hotspot a/2,	0,		0, unID : unID = unID + 1
	hotspot a/2,	b/2,	0, unID : unID = unID + 1
	hotspot a,		b/2,	0, unID : unID = unID + 1
	hotspot a/2,	b,		0, unID : unID = unID + 1
endif

if iOpeningType = OPTYPE_ROUNDED then
	prism_ 8, gs_slab_thickness,
		-a/2+b/2,	-b/2,	15+64,
		-a/2+b/2,	0,		900,
		b/2,		-180,	4000,
		-a/2+b/2,	b/2,	1+4+8,
		a/2-b/2,	b/2,	15+64,
		a/2-b/2,	0,		900,
		b/2,		-180,	4000,
		a/2-b/2,	-b/2,	1+4+8

	del 1

	hotspot a,		b/2,	-gs_slab_thickness, unID : unID = unID + 1
	hotspot b/2,	0,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot b/2,	b,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a-b/2,	0,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a-b/2,	b,		-gs_slab_thickness, unID : unID = unID + 1
	hotspot a/2,	b/2,	-gs_slab_thickness, unID : unID = unID + 1
	hotspot 0,		b/2,	-gs_slab_thickness, unID : unID = unID + 1

	hotspot a,		b/2,	0, unID : unID = unID + 1
	hotspot b/2,	0,		0, unID : unID = unID + 1
	hotspot b/2,	b,		0, unID : unID = unID + 1
	hotspot a-b/2,	0,		0, unID : unID = unID + 1
	hotspot a-b/2,	b,		0, unID : unID = unID + 1
	hotspot a/2,	b/2,	0, unID : unID = unID + 1
	hotspot 0,		b/2,	0, unID : unID = unID + 1
endif

if iSymbolType = FLOOR_RECESS then del 1

