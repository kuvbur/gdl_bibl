
fdp=(zz-fth)/(rnu-1)

VERT r1,0,0
VERT r1,0,fth
VERT r2,0,fth
VERT r2,0,0

FOR k=1 TO rnu-1
	kalfa=angle/rnu*k

	x1=r1*COS(kalfa)
	x2=r2*COS(kalfa)
	y1=r1*SIN(kalfa)
	y2=r2*SIN(kalfa)
	z1=(k-1)*fdp+fth

	VERT x1,y1,z1
	VERT x1,y1,z1+fdp
	VERT x2,y2,z1+fdp
	VERT x2,y2,z1
NEXT k

VERT r1*COS(angle),r1*SIN(angle),zz
VERT r2*COS(angle),r2*SIN(angle),zz

v1db=4*rnu+2

FOR k=1 TO rnu
	kalfa=angle/rnu*k

	x1=r1*COS(kalfa)
	x2=r2*COS(kalfa)
	y1=r1*SIN(kalfa)
	y2=r2*SIN(kalfa)
	z1=(k-1)*fdp+fth-sbw

	VERT x1,y1,z1
	VERT x2,y2,z1
NEXT k

VERT r1*COS(angle/rnu),r1*SIN(angle/rnu),0
VERT r2*COS(angle/rnu),r2*SIN(angle/rnu),0

FOR k=0 TO rnu-1
	EDGE 4*k+1,4*k+2, -1,-1,0
	EDGE 4*k+2,4*k+3, -1,-1,0
	EDGE 4*k+3,4*k+4, -1,-1,0
	EDGE 4*k+4,4*k+1, -1,-1,0
NEXT k


FOR k=0 TO rnu-2
	EDGE 4*k+2,4*(k+1)+1, -1,-1,0
	EDGE 4*k+3,4*(k+1)+4, -1,-1,0
NEXT k

EDGE 4*(rnu-1)+2,4*rnu+1, -1,-1,0
EDGE 4*(rnu-1)+3,4*rnu+2, -1,-1,0
EDGE 4*rnu+1,4*rnu+2, -1,-1,0

e1db=4*rnu+2*(rnu-1)+3

FOR k=0 TO rnu-2
	EDGE v1db+2*k+1,v1db+2*(k+1)+1, -1,-1,0
	EDGE v1db+2*k+2,v1db+2*(k+1)+2, -1,-1,0

	EDGE v1db+2*k+1,4*(k+1)+1, -1,-1,2
	EDGE v1db+2*k+2,4*(k+1)+4, -1,-1,2
NEXT k

e2db=e1db+(rnu-1)*4

EDGE v1db+2*(rnu-1)+1,  4*rnu+1, -1,-1,0
EDGE v1db+2*(rnu-1)+2,  4*rnu+2, -1,-1,0

EDGE 1,v1db+2*rnu+1, -1,-1,0
EDGE 4,v1db+2*rnu+2, -1,-1,0

EDGE v1db+2*rnu+1,v1db+1, -1,-1,0
EDGE v1db+2*rnu+2,v1db+2, -1,-1,0

EDGE v1db+2*rnu+1,v1db+2*rnu+2, -1,-1,0
EDGE v1db+1,v1db+2, -1,-1,0
e3db=e2db+8

st1=2
FOR k=0 TO rnu-2
	IF k=rnu-2 THEN st1=0
	EDGE v1db+2*k+1,v1db+2*(k+1)+2, -1,-1,2
	EDGE v1db+2*(k+1)+1,v1db+2*(k+1)+2, -1,-1,st1
NEXT k



FOR k=0 TO rnu-3
   PGON 3,0,0, (e3db+(k+1)*2+1),-(e1db+4*(k+1)+2),-(e3db+2*k+2)
   PGON 3,0,0, -(e3db+k*2+1),(e1db+4*k+1),(e3db+2*k+2)
NEXT k

PGON 3,0,0, (e3db+2*(rnu-1)),-(e3db+2*(rnu-1)-1),(e1db+4*(rnu-1)-3)
PGON 3,0,0, (e3db+1),-(e1db+2),-(e2db+8)
PGON 4,0,0, (e2db+1),(e1db),-(e2db+2),-(e3db+2*(rnu-1))
PGON 4,0,0, -4,e2db+4,-(e2db+7),-(e2db+3)
PGON 5,0,0, -(e2db+5),-(e2db+3),1,4*rnu+1,-(e1db+3)
PGON 5,0,0, (e2db+6),(e1db+4),-(4*rnu+2),3,(e2db+4)
PGON 4,0,0, (e2db+7),(e2db+6),-(e2db+8),-(e2db+5)
PGON 5,0,0, -(e2db+1),-(e2db-3),(e2db-1),(4*rnu-3),(e1db-2)
PGON 5,0,0, (e2db+2),-(e1db-1),(4*rnu-1),-(e2db),(e2db-2)

FOR k=0 to rnu-3
	PGON 5,0,0, -(e1db+4*k+1),(e1db+4*k+3),  4*(k+1)+1,4*rnu+2*(k+1)+1,-(e1db+4*(k+1)+3)
	PGON 5,0,0, (e1db+4*k+2),(e1db+4*(k+1)+4),-(4*rnu+2*(k+1)+2),(4*(k+1)+3),-(e1db+4*k+4)
NEXT k

FOR k=0 to rnu-1
	PGON 4,0,0, -(4*k+4),-(4*k+3),-(4*k+2),-(4*k+1)
NEXT k

FOR k=0 to rnu-2
	PGON 4,0,0, (4*k+2),(4*rnu+k*2+2),(4*(k+1)+4), -(4*rnu+k*2+1)
NEXT k
PGON 4,0,0, (4*(rnu-1)+2),(4*rnu+(rnu-1)*2+2),-(4*rnu+(rnu-1)*2+3),-(4*rnu+(rnu-1)*2+1)

BODY 1
