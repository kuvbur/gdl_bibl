
if ac_pitch>=90 or ac_pitch<=-90 then ac_pitch=0

length=b/cos(ac_pitch)
row_num=ceil(a/wawe_l)

mulRatio = wawe_h/(wawe_l/2)
wawe_h = wawe_l/2

for alfa=180 to 360 step 360/res
	put wawe_l/4+cos(alfa)*wawe_l/4, -wawe_l/4-sin(alfa)*wawe_l/4, 1
next alfa

for alfa=180 to 0 step -360/res
	put 3*wawe_l/4+cos(alfa)*wawe_l/4, -wawe_l/4-sin(alfa)*wawe_l/4, 1
next alfa

material sheet_mat

rotx -90+ac_pitch
muly mulRatio

for i=1 to row_num
	extrude nsp/3,0,0,length,16+32,
			use(nsp)
	addx wawe_l
next i
del 1
del row_num+1
