
! =============================================================================
! Localization
! =============================================================================
dim stGeometry[5]
	stGeometry[1]	= `Угол Ската`
	stGeometry[2]	= `Исходная Длина`
	stGeometry[3]	= `Длина Элемента`
	stGeometry[4]	= `Ширина Профиля`
	stGeometry[5]	= `Высота Профиля`

dim stCutting[12]
	stCutting[1]	= `Распорка`
	stCutting[2]	= `Угол между Соединяющимися Элементами`
	stCutting[3]	= `Распорка Перпендикулярно`
	stCutting[4]	= ``
	stCutting[5]	= `Толщина Вертикального Стропила или Распорки`
	stCutting[6]	= `Углы Соединений`
	stCutting[7]	= `Угол к Вертикальному Стропилу`
	stCutting[8]	= `Угол к Коньку или Распорке`
	stCutting[9]	= `Расстояние от Среза до Оси`
	stCutting[10]	= `Расстояние от Среза до Крайней Точки`
	stCutting[11]	= `Смещение`
	stCutting[12]	= `Для использования этой опции, угол к вертикальному стропилу должен быть равен 90,00°.`

! =============================================================================
! Variables
! =============================================================================

pageStartY		= 5
xInfieldSmall	= 70
xInfieldBig		= 90
yInfield		= 19
yOutfield		= 14

! =============================================================================
! Tabpages
! =============================================================================

TABID_ROOT					= -1
TABID_GEOMETRY				= 1
TABID_CUTTING				= 2

call "RoofMaker_macro"	parameters all	iObjectType				= 6,
										bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iUiType					= 1

ui_page TABID_GEOMETRY, TABID_ROOT, `Геометрия`, "uiTab_Dimension_flat(1)"
if gs_ui_current_page = TABID_GEOMETRY then
	gosub "geometryPage"
endif

ui_page TABID_CUTTING, TABID_ROOT, `Подрезка`, "uiTab_RMCut_flat(1)"
if gs_ui_current_page = TABID_CUTTING then
	gosub "cuttingPage"
endif

! ======================================================================
end
! ======================================================================

"geometryPage":
! =============================================================================
! Geometry
! =============================================================================

	picX			= 340
	picY			= pageStartY + 20

	ui_pict 2,	picX-248, picY+64, 220,  116, 1										!jackrafterspec_pict1.png
	ui_pict 3,	picX-141, picY, 128, 64, 1											!jackrafterspec_pict2.png

	ui_pict 1, picX-28, picY+151, 24, 17, 1											!ui_rm_angle_1.png
	ui_infield "rm_PitchAngle", picX, picY+148, xInfieldBig, yInfield				ui_tooltip stGeometry[1]

	ui_infield "rm_ProjectedLength", picX-175, picY+185, xInfieldBig, yInfield		ui_tooltip stGeometry[2]
	ui_infield "rm_StructuralLength", picX-256, picY+41, xInfieldBig, yInfield		ui_tooltip stGeometry[3]
	ui_infield "rm_ProfileWidth", picX, picY+27, xInfieldBig, yInfield				ui_tooltip stGeometry[4]
	ui_infield "rm_ProfileHeight", picX, picY+2, xInfieldBig, yInfield				ui_tooltip stGeometry[5]

return

"cuttingPage":
! =============================================================================
! Cutting
! =============================================================================

	! -------- Trimmer ----------------------------------------------------------------------------------
	
	ui_style 0, 1
	ui_outfield stCutting[1], 5, pageStartY, 65, yOutfield
	ui_style 0, 0

	picX2	= 23
	picY2	= pageStartY - 1

	ui_infield{3} "rm_bIsTrimmerPerdendicular", 5, pageStartY + 199, 160, yInfield * 1.5,
		7, "", 0, 0,
		0,0,0,0,
		0, stCutting[3],	0,
		0, stCutting[3],	1	ui_tooltip stCutting[12]

	if not(rm_bIsTrimmerPerdendicular) then
		ui_pict 6,	picX2+7, picY2+97, 81,  77, 1												!jackrafterspec_pict5.png
		ui_infield "rm_VerticalTrimmerWidth", picX2-2, picY2+177, xInfieldBig, yInfield			ui_tooltip stCutting[5]
	else
		ui_pict 5,	picX2-1, picY2+97, 89,  60, 1												!jackrafterspec_pict4.png
		ui_infield "rm_VerticalTrimmerWidth", picX2+38, picY2+160, xInfieldBig, yInfield		ui_tooltip stCutting[5]
	endif

	ui_pict 4,	picX2+38, picY2+43, 54, 54, 1													!jackrafterspec_pict3.png
	ui_pict 10,	picX2+92, picY2+12, 40, 85, 1													!jackrafterspec_pict9.png

	ui_separator 166, pageStartY, 166, pageStartY + 230


	! -------- Joining Angles ----------------------------------------------------------------------------------

	picX1	= 174
	picY1	= pageStartY + 26

	ui_style 0, 1
	ui_outfield stCutting[6], 172, pageStartY, 338-172, yOutfield
	ui_style 0, 0

	ui_pict 7,	picX1, picY1, 63,  191, 1													!jackrafterspec_pict6.png

	ui_infield "rm_AngleRidge", picX1+65, picY1+13, xInfieldBig, yInfield					ui_tooltip stCutting[8]
	ui_infield "rm_VerticalTrimmerAngle", picX1+65, picY1+168, xInfieldBig, yInfield		ui_tooltip stCutting[7]
	ui_infield "rm_JointAngle", picX1+65, picY1+40, xInfieldBig, yInfield					ui_tooltip stCutting[2]

	ui_separator 339, pageStartY, 339, pageStartY + 230


	! -------- Cut Offset ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[11], 346, pageStartY, 444-348, yOutfield
	ui_style 0, 0

	ui_pict 8,	389, pageStartY + 149, 49,  81, 1											!jackrafterspec_pict7.png
	ui_pict 9,	399, pageStartY + 38, 39,  77, 1											!jackrafterspec_pict8.png

	ui_infield "rm_CutAxisDist", 349, pageStartY + 16, xInfieldBig, yInfield					ui_tooltip stCutting[9]
	ui_infield "rm_CutEndPointDist", 349, pageStartY + 126, xInfieldBig, yInfield			ui_tooltip stCutting[10]

return
