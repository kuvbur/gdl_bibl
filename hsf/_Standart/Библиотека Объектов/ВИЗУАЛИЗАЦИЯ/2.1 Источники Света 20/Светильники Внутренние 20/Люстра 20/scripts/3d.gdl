
! Chandelier

	! ======================================================================
	! Lamp Bulb Surface
	! ======================================================================
	
	DIM	tmp_C4D_ChCol_Color[3]
		tmp_C4D_ChCol_Color[1] = 0.7843137254902
		tmp_C4D_ChCol_Color[2] = 0.7843137254902
		tmp_C4D_ChCol_Color[3] = 0.8039215686275
	DIM	tmp_C4D_ShNoise_Color1_1[3]
		tmp_C4D_ShNoise_Color1_1[1] = 0
		tmp_C4D_ShNoise_Color1_1[2] = 0
		tmp_C4D_ShNoise_Color1_1[3] = 0
	DIM	tmp_C4D_ShNoise_Color2_1[3]
		tmp_C4D_ShNoise_Color2_1[1] = 1
		tmp_C4D_ShNoise_Color2_1[2] = 1
		tmp_C4D_ShNoise_Color2_1[3] = 1
	DIM	tmp_C4D_ShNoise_RelativeScale_1[3]
		tmp_C4D_ShNoise_RelativeScale_1[1] = 1
		tmp_C4D_ShNoise_RelativeScale_1[2] = 1
		tmp_C4D_ShNoise_RelativeScale_1[3] = 1
	DIM	tmp_C4D_ChLum_Color[3]
		tmp_C4D_ChLum_Color[1] = 1
		tmp_C4D_ChLum_Color[2] = 1
		tmp_C4D_ChLum_Color[3] = 1
	DIM	tmp_C4D_ChTra_Color[3]
		tmp_C4D_ChTra_Color[1] = 0.9411764705882
		tmp_C4D_ChTra_Color[2] = 0.9411764705882
		tmp_C4D_ChTra_Color[3] = 0.9411764705882
	DIM	tmp_C4D_ChTra_AbsorptionColor[3]
		tmp_C4D_ChTra_AbsorptionColor[1] = 1
		tmp_C4D_ChTra_AbsorptionColor[2] = 1
		tmp_C4D_ChTra_AbsorptionColor[3] = 1
	DIM	tmp_C4D_ChRef_Color[3]
		tmp_C4D_ChRef_Color[1] = 1
		tmp_C4D_ChRef_Color[2] = 1
		tmp_C4D_ChRef_Color[3] = 1
	DIM	tmp_C4D_ChEnv_Color[3]
		tmp_C4D_ChEnv_Color[1] = 1
		tmp_C4D_ChEnv_Color[2] = 1
		tmp_C4D_ChEnv_Color[3] = 1
	DIM	tmp_C4D_ChFog_Color[3]
		tmp_C4D_ChFog_Color[1] = 1
		tmp_C4D_ChFog_Color[2] = 1
		tmp_C4D_ChFog_Color[3] = 1
	DIM	tmp_C4D_ChAlp_Color[3]
		tmp_C4D_ChAlp_Color[1] = 1
		tmp_C4D_ChAlp_Color[2] = 1
		tmp_C4D_ChAlp_Color[3] = 1
	DIM	tmp_C4D_ChAlp_Delta[3]
		tmp_C4D_ChAlp_Delta[1] = 0.1
		tmp_C4D_ChAlp_Delta[2] = 0.1
		tmp_C4D_ChAlp_Delta[3] = 0.1
	DIM	tmp_C4D_ChSpe_Color[3]
		tmp_C4D_ChSpe_Color[1] = 1
		tmp_C4D_ChSpe_Color[2] = 1
		tmp_C4D_ChSpe_Color[3] = 1
	DIM	tmp_C4D_ChGlo_Color[3]
		tmp_C4D_ChGlo_Color[1] = 1
		tmp_C4D_ChGlo_Color[2] = 1
		tmp_C4D_ChGlo_Color[3] = 1
	DIM	tmp_C4D_GKRGB_Color_3[3]
		tmp_C4D_GKRGB_Color_3[1] = 0
		tmp_C4D_GKRGB_Color_3[2] = 0
		tmp_C4D_GKRGB_Color_3[3] = 0
	DIM	tmp_C4D_GKRGB_Color_4[3]
		tmp_C4D_GKRGB_Color_4[1] = 1
		tmp_C4D_GKRGB_Color_4[2] = 1
		tmp_C4D_GKRGB_Color_4[3] = 1
	
	define material	"builtInMatLampBulb" 0,
		0.941176, 0.968627, 0.952941,
		0.8, 0.1, 1, 0.88,
		79.52, 0.04,
		1, 1, 1,
		0, 0, 0, 0,
	ADDITIONAL_DATA		C4D_VER_MAIN= 1,
	C4D_VER_SUB						= 0,
	C4D_ChCol_State					= 1,
	C4D_ChCol_Color					= tmp_C4D_ChCol_Color,
	C4D_ChCol_Brightness			= 1,
	C4D_ChCol_MixMode				= "Normal",
	C4D_ChCol_MixStrength			= 1,
	C4D_ChDif_State					= 0,
	C4D_ChDif_Brightness			= 1,
	C4D_ChDif_Luminance				= 1,
	C4D_ChDif_Specular				= 1,
	C4D_ChDif_Reflection			= 1,
	C4D_ChDif_Texture				= "1",
	C4D_ShNoise_BlendMode_1			= "Normal",
	C4D_ShNoise_BlendStre_1			= 1,
	C4D_ShNoise_BlurOffset_1		= 0,
	C4D_ShNoise_BlurScale_1			= 0,
	C4D_ShNoise_Color1_1			= tmp_C4D_ShNoise_Color1_1,
	C4D_ShNoise_Color2_1			= tmp_C4D_ShNoise_Color2_1,
	C4D_ShNoise_Seed_1				= 665,
	C4D_ShNoise_Noise_1				= "Turbulence",
	C4D_ShNoise_Octaves_1			= 5,
	C4D_ShNoise_Space_1				= "Texture",
	C4D_ShNoise_GlobalScale_1		= 0.01,
	C4D_ShNoise_RelativeScale_1		= tmp_C4D_ShNoise_RelativeScale_1,
	C4D_ShNoise_Absolute_1			= 0,
	C4D_ShNoise_Cycles_1			= 0,
	C4D_ShNoise_LowClip_1			= 0,
	C4D_ShNoise_HighClip_1			= 1,
	C4D_ShNoise_Brightness_1		= 0,
	C4D_ShNoise_Contrast_1			= 0,
	C4D_ChDif_MixMode				= "Normal",
	C4D_ChDif_MixStrength			= 0.1,
	C4D_ChLum_State					= 0,
	C4D_ChLum_Color					= tmp_C4D_ChLum_Color,
	C4D_ChLum_Brightness			= 1,
	C4D_ChLum_MixMode				= "Normal",
	C4D_ChLum_MixStrength			= 1,
	C4D_ChTra_State					= 1,
	C4D_ChTra_Color					= tmp_C4D_ChTra_Color,
	C4D_ChTra_Brightness			= 0.95,
	C4D_ChTra_Refraction			= 1,
	C4D_ChTra_InternalReflections	= 1,
	C4D_ChTra_ExitReflection		= 0,
	C4D_ChTra_FresnelReflectivity	= 0.5,
	C4D_ChTra_Additive				= 0,
	C4D_ChTra_MixMode				= "Normal",
	C4D_ChTra_MixStrength			= 1,
	C4D_ChTra_AbsorptionColor		= tmp_C4D_ChTra_AbsorptionColor,
	C4D_ChTra_AbsorptionDistance	= 100,
	C4D_ChTra_Blurriness			= 0,
	C4D_ChTra_MinSamples			= 10,
	C4D_ChTra_MaxSamples			= 80,
	C4D_ChTra_Accuracy				= 0.5,
	C4D_ChRef_State					= 1,
	C4D_ChRef_Color					= tmp_C4D_ChRef_Color,
	C4D_ChRef_Brightness			= 0.1,
	C4D_ChRef_Additive				= 1,
	C4D_ChRef_MixMode				= "Normal",
	C4D_ChRef_MixStrength			= 1,
	C4D_ChRef_Blurriness			= 0,
	C4D_ChRef_MinSamples			= 5,
	C4D_ChRef_MaxSamples			= 128,
	C4D_ChRef_Accuracy				= 0.5,
	C4D_ChEnv_State					= 0,
	C4D_ChEnv_Color					= tmp_C4D_ChEnv_Color,
	C4D_ChEnv_Brightness			= 1,
	C4D_ChEnv_MixMode				= "Normal",
	C4D_ChEnv_MixStrength			= 1,
	C4D_ChEnv_TilesX				= 1,
	C4D_ChEnv_TilesY				= 1,
	C4D_ChEnv_Exclusive				= 0,
	C4D_ChFog_State					= 0,
	C4D_ChFog_Color					= tmp_C4D_ChFog_Color,
	C4D_ChFog_Brightness			= 1,
	C4D_ChFog_Distance				= 10,
	C4D_ChBum_State					= 0,
	C4D_ChBum_Strength				= 1,
	C4D_ChBum_MipFalloff			= 1,
	C4D_ChNor_State					= 0,
	C4D_ChNor_Strength				= 1,
	C4D_ChNor_Method				= "Tangent",
	C4D_ChNor_FlipX					= 0,
	C4D_ChNor_FlipY					= 0,
	C4D_ChNor_FlipZ					= 0,
	C4D_ChNor_SwapYZ				= 0,
	C4D_ChAlp_State					= 0,
	C4D_ChAlp_Color					= tmp_C4D_ChAlp_Color,
	C4D_ChAlp_Delta					= tmp_C4D_ChAlp_Delta,
	C4D_ChAlp_Invert				= 0,
	C4D_ChAlp_Soft					= 1,
	C4D_ChAlp_ImageAlpha			= 0,
	C4D_ChAlp_PreMultiplied			= 0,
	C4D_ChSpe_State					= 1,
	C4D_ChSpe_Color					= tmp_C4D_ChSpe_Color,
	C4D_ChSpe_Brightness			= 1,
	C4D_ChSpe_MixMode				= "Normal",
	C4D_ChSpe_MixStrength			= 1,
	C4D_ChSpe_Mode					= "Plastic",
	C4D_ChSpe_Width					= 0.45,
	C4D_ChSpe_Height				= 0.5,
	C4D_ChSpe_Falloff				= -0.05,
	C4D_ChSpe_InnerWidth			= 0,
	C4D_ChGlo_State					= 0,
	C4D_ChGlo_Color					= tmp_C4D_ChGlo_Color,
	C4D_ChGlo_Brightness			= 1,
	C4D_ChGlo_InnerStrength			= 1,
	C4D_ChGlo_OuterStrength			= 5,
	C4D_ChGlo_Radius				= 10,
	C4D_ChGlo_Random				= 0,
	C4D_ChGlo_Frequency				= 1,
	C4D_ChGlo_UseMatColor			= 1,
	C4D_ChDis_State					= 0,
	C4D_ChDis_Strength				= 1,
	C4D_ChDis_Height				= 0.5,
	C4D_ChDis_Type					= "IntensityCentered",
	C4D_ChDis_SubDivision			= 0,
	C4D_ChDis_Level					= 4,
	C4D_ChDis_RoundGeometry			= 0,
	C4D_ChDis_RoundContour			= 1,
	C4D_ChDis_MapRounded			= 1,
	C4D_ChDis_MapResult				= 0,
	C4D_ChDis_KeepEdges				= 0,
	C4D_ChDis_BestDistribution		= 1,
	C4D_ChGra_State					= 0,
	C4D_ChGra_Color					= "2",
	C4D_GradientRGB_Interpol_2		= "SmoothKnot",
	C4D_GradientRGB_Knots_2			= "3,4",
	C4D_GKRGB_Color_3				= tmp_C4D_GKRGB_Color_3,
	C4D_GKRGB_Intensity_3			= 1,
	C4D_GKRGB_Position_3			= 0,
	C4D_GKRGB_Bias_3				= 0.5,
	C4D_GKRGB_Color_4				= tmp_C4D_GKRGB_Color_4,
	C4D_GKRGB_Intensity_4			= 1,
	C4D_GKRGB_Position_4			= 1,
	C4D_GKRGB_Bias_4				= 0.5,
	C4D_ChGra_MixStrength			= 0.5,
	C4D_ChGra_Density				= 1,
	C4D_ChGra_Length				= 0.1,
	C4D_ChGra_Width					= 0.005,
	C4D_ChGra_Crinkle				= 0.1,
	C4D_ChGra_Bend					= 0.6,
	C4D_ChGra_Wetness				= 0.05,
	C4D_ChIll_GenerateGI			= 1,
	C4D_ChIll_GenGIStrength			= 1,
	C4D_ChIll_GenGISaturat			= 1,
	C4D_ChIll_ReceiveGI				= 1,
	C4D_ChIll_RecGIStrength			= 1,
	C4D_ChIll_RecGISaturat			= 1,
	C4D_ChIll_GIPortal				= 0,
	C4D_ChIll_GILight				= 0,
	C4D_ChIll_GenerateCaustics		= 1,
	C4D_ChIll_GenCausticsStrength	= 1,
	C4D_ChIll_ReceiveCaustics		= 1,
	C4D_ChIll_RecCausticsStrength	= 1,
	C4D_ChIll_Radius				= 0.1,
	C4D_ChIll_CausticsSamples		= 100,
	C4D_ChIll_Model					= "Blinn",
	C4D_ChIll_DiffuseFalloff		= 0,
	C4D_ChIll_DiffuseLevel			= 1,
	C4D_ChIll_Roughness				= 0.5
	
	
If gs_detlevel_3D_m=0 Then End
If gs_detlevel_3D_m=1 Then gs_resol=6

if GLOB_CONTEXT > 20 & GLOB_CONTEXT < 40 then gs_resol = 12

if not(gs_shadow) then shadow off

mul A/0.58, B/0.58, 1

!!---- Geometry Hotspot Editing
unID=1

hotspot	0,0,0,unID,ZZYZX,1+256 : unID=unID+1
hotspot	0,0,1,unID,ZZYZX,3 : unID=unID+1
hotspot	0,0,-ZZYZX,unID,ZZYZX,2 : unID=unID+1

!!---- Geometry Hotspot Editing

!!---- Geometry ----!!

ADDZ zzyzx
if gs_detlevel_3D_m=1 then !!---- Simple 3D
	resol gs_resol
	pen gs_cont_pen
	material matFrame

	addz -2*zzyzx
	addz 1 1/2"
	rotz -90
	roty -90

	revolve 7,360,1+2,
			-1 1/2",1 5/8",0,
			-2 5/8",11/16",0,
			-8 9/32",11/16",0,
			-8 9/32",1 3/8",0,
			-11 41/64",1 3/8",0,
			-11 41/64",2 1/2",0,
			-14 3/4",2 1/2",0
	del 2

	!!---- Arms ----!!

	!Curve calculations

	gamma0=360/gs_resol

	!Curve_1

	dx= 2 23/32"
	dy=-10 31/64"
	alphac=134.5574
	betac=88.1023
	r=27/64"
	na=int(betac/gamma0)+1
	gamma=betac/na

	alphac=alphac+gamma
	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!Curve_2

	dx= 2 1/2"
	dy=-10 23/32"
	alphac=46.4551
	betac=120.9827
	r=3/4"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!Curve_3

	dx= 2 29/64"
	dy=-10 35/64"
	alphac=285.4724
	betac=105.4724
	r=59/64"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!Curve_4

	dx= 2 27/32"
	dy=-9 35/64"
	alphac=180
	betac=146.1962
	r=1 5/16"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!Curve_5

	dx= 7 29/32"
	dy=-11 7/32"
	alphac=213.8038
	betac=146.1962
	r=1 31/32"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac+gamma
	next i

	for i=1 to 5 step 1
		rotx 90
		roty -90

		tube 5,(nsp/4)+2,1+2+16+32,
			 5/32",5/32",1,
			-5/32",5/32",1,
			-5/32",-5/32",1,
			 5/32",-5/32",1,
			 5/32",5/32",-1,
			 use (nsp),
			 9 7/8",-10 25/64",0,0,
			 9 7/8",-9 13/32",0,0

		del 2
		rotz 72
	next i
	del 5

	!!Candles!!

	resol gs_resol
	pen gs_cont_pen

	for i=1 to 5 step 1
		add 0,-9 7/8",-7 29/32"
		rotz -90
		roty -90

		material matFrame
		revolve 2,360,1+2,
				-1 1/2",1 5/8",0,
				-2 31/64",31/64",0

		material matCandle
		revolve 2,360,1+2,
				3 1/64",1/2",0,
				-1 1/2",1/2",0

		material "builtInMatLampBulb"
		revolve 3,360,0,
				3 1/64",3/32",0,
				3 55/64",3/4",1,
				6 13/32",0",0
		del 3
		rotz 72
	next i
	del 5

	!!Chain!!

	if abs(zzyzx)>eps then
		material matFrame

		addz -1 1/2"
		cylind zzyzx,5/32"
		del 1
	endif
	del 3
endif

!!!!!!!!!!!!!!!!!!!!!!!Complex 3D!!!!!!!!!!!!!!!!!!!!!!!

if gs_detlevel_3D_m=2 then
	pen gs_cont_pen
	resol gs_resol
	material matFrame

	addz 1 1/2"
	addz -2*zzyzx
	rotz -90
	roty -90
	revolve 9,360,2,
			-1 1/2",1 37/64",0,
			-1 21/32",1 5/8",0,
			-1 21/32",1 17/32",1,
			 0,-1,800,
			-1 63/64",1",1001,
			-2 21/64",31/64",1000,
			-2 31/64",31/64",0,
			-2 31/64",11/32",0,
			-2 5/8",11/32",0

	revolve 6,360,2,
			-3 49/64",5/16",1,
			 0,1,800,
			-3 5/16",17/32",1001,
			-2 25/32",19/32",1000,
			-2 25/32",11/16",0,
			-2 5/8",41/64",0

	addx -1 1/8"
	revolve 6,360,2,
			-3 49/64",5/16",1,
			 0,1,800,
			-3 5/16",17/32",1001,
			-2 25/32",19/32",1000,
			-2 25/32",11/16",0,
			-2 5/8",41/64",0
	del 1

	revolve 6,360,2,
			-8 5/64",0",1,
			 0,1,800,
			-7 5/64",45/64",1001,
			-5 1/32",19/32",1000,
			-5 1/32",11/16",0,
			-4 57/64",41/64",0

	revolve 16,360,1+2,
			-15 19/64",5/32",0,
			-14 3/4"-0.00001,5/32",0,
			-14 3/4",5/32",1,
			-10 7/8",0",900,
			-14 3/16",2 1/64",3001,
			-12 31/64",2 1/64",1001,
			-11 59/64",1/4",1000,
			-11 41/64"-0.00001,1/4",0,
			-11 41/64",1/4",1,
			-10 19/64",0",900,
			-9 5/16",61/64",3001,
			-8 27/64",19/32",1000,
			-8 27/64",11/16",0,
			-8 9/32",41/64",0,
			-8 9/32",7/16",0,
			-8 5/64",7/16",0
	del 2

	!!---- Rings ----!!

	!!!!!!!!!!Bottom ring

	!!!!!!!!!!Curve calculation

	gamma0=360/gs_resol

	dx=0"
	dy=-15 1/2"
	betac=180
	r=27/64"
	na=int(betac/gamma0)+1
	gamma=betac/na

	alphac=-gamma
	for i=1 to na+3 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac+gamma
	next i

	cutpolya 6,1,0,
			 5/32",0,79,
			 0,1,800,
			-5/32",0,1079,
			 0,-1,800,
			 5/32",0,1079,
			 5/32",0,-1

	rotx 90
	tube 6,(nsp/4),0,
		 5/64",0,1,
		 0,1,800,
		-5/64",0,1001,
		 0,-1,800,
		 5/64",0,1001,
		 5/64",0,-1,
		 get (nsp)
	del 1

	cutend

	alphac=180-gamma
	for i=1 to na+3 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac+gamma
	next i

	rotx 90
	tube 6,(nsp/4),0,
		 5/64",0,1,
		 0,1,800,
		-5/64",0,1001,
		 0,-1,800,
		 5/64",0,1001,
		 5/64",0,-1,
		 get (nsp)
	del 1

	!!!!!!!!!!!!Top ring

	addz -3/4"
	rotz 90
	revolve 6,360,0,
			 5/64",43/64",1,
			 0,1,800,
			-5/64",43/64",1001,
			 0,-1,800,
			 5/64",43/64",1001,
			 5/64",43/64",-1
	del 2


	!!!!!!!!!!!!!!Chain!!!!!!!!!!!
	!Chain element

	if abs(zzyzx)>eps then
		addz -1 1/2"
		gamma0=360/gs_resol
		r=3/4"
		alphac=-gamma0
		k=0.65

		for i=1 to gs_resol+3 step 1
			put k*r*cos(alphac),r*sin(alphac),0,0
			alphac=alphac+gamma0
		next i

		addz zzyzx
		cutplane 1,1,0,0
		del 1

		cn=int(zzyzx/1 1/2")+2
		rotz 90
		addz 17/32"
		for i=1 to cn step 1
			rotx 90
			tube 6,(nsp/4),0,
				 5/64",0,1,
				 0,1,800,
				-5/64",0,1001,
				 0,-1,800,
				 5/64",0,1001,
				 5/64",0,-1,
				 use (nsp)

			del 1

			addz 1 11/32"
			rotz 90
		next i

		rotx 90
		tube 6,(nsp/4),0,
			 5/64",0,1,
			 0,1,800,
			-5/64",0,1001,
			 0,-1,800,
			 5/64",0,1001,
			 5/64",0,-1,
			 get (nsp)
		del 1
		del 2*cn+2

		cutend
	endif

	!!!!!!!!!!!!!Arms!!!!!!!!!!!!
	!!!!!!!!!!!!!Curve calculations

	gamma0=360/gs_resol

	!!!!!!!!!!!Curve_1

	dx= 2 23/32"
	dy=-10 31/64"
	alphac=134.5574
	betac=88.1023
	r=27/64"
	na=int(betac/gamma0)+1
	gamma=betac/na
	alphac=alphac+gamma

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!!!!!!!!!!!!Curve_2

	dx= 2 1/2"
	dy=-10 23/32"
	alphac=46.4551
	betac=120.9827
	r=3/4"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!!!!!!!!!!!!Curve_3

	dx= 2 29/64"
	dy=-10 35/64"
	alphac=285.4724
	betac=105.4724
	r=59/64"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!!!!!!!!!!!!!Curve_4

	dx= 2 27/32"
	dy=-9 35/64"
	alphac=180
	betac=146.1962
	r=1 5/16"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac-gamma
	next i

	!!!!!!!!!!!!!!Curve_5

	dx= 7 29/32"
	dy=-11 7/32"
	alphac=213.8038
	betac=146.1962
	r=1 31/32"
	na=int(betac/gamma0)+1
	gamma=betac/na

	for i=1 to na+1 step 1
		put dx+r*cos(alphac),dy+r*sin(alphac),0,0
		alphac=alphac+gamma
	next i

	for i=1 to 5 step 1
		rotx 90
		roty -90

		tube 6,(nsp/4)+2,1+2+16+32,
			 5/32",0,1,
			 0,1,800,
			-5/32",0,1001,
			 0,-1,800,
			 5/32",0,1001,
			 5/32",0,-1,
			 use (nsp),
			 9 7/8",-10 25/64",0,0,
			 9 7/8",-9 13/32",0,0

		del 2

		rotz 72
	next i
	del 5

	for i=1 to nsp
		n = get (1)
	next i

	!!!!!!!!!!!!!!Candles!!!!!!!!!!!!!!

	resol gs_resol
	pen gs_cont_pen

	for i=1 to 5 step 1
		add 0,-9 7/8",-7 29/32"
		rotz -90
		roty -90

		material matFrame
		revolve 7,360,1+2,
				-1 1/2",1 37/64",0,
				-1 21/32",1 5/8",0,
				-1 21/32",1 17/32",1,
				 0,-1,800,
				-1 63/64",1",1001,
				-2 21/64",31/64",1000,
				-2 31/64",31/64",0

		material matCandle
		revolve 2,360,1+2,
				3 1/64",1/2",0,
				-1 1/2",1/2",0

		material "builtInMatLampBulb"
		revolve 4,360,0,
				3 1/64",3/32",1,
				3 55/64",-1/8",900,
				3 55/64",3/4",3001,
				6 13/32",0.0001,1001

		del 3
		rotz 72
	next i
	del 9
EndIf

!!---- Light Cone ----!!

resol 36
addz -zzyzx

If gs_light_switch Then

	for k=1 to 5
		rotz 72
		add 0,-9 7/8",-4"

		lightUnID = k * 1000

		! ======================================================================
		! Non Visible Omni Light
		! ======================================================================

		call	"lightMacro_m" parameters		gs_light_switch						= gs_light_switch,
													gs_color_red						= gs_color_red,
													gs_color_green						= gs_color_green,
													gs_color_blue						= gs_color_blue,
													gs_light_intensity						= gs_light_intensity,
													iColorPreset			= iColorPreset,
													iLightGroupType			= LIGHTGROUP_BUILTIN_OMNI,
													iC4dDetAreaShape		= AREASHAPE_SPHERE,
													c4dDetAreaX				= 0.03,
													c4dDetAreaY				= 0.03,
													c4dDetAreaZ				= 0.03,
													bGenShadow				= bGenShadow,
													iShadowQuality			= iShadowQuality,
													iShadowQualityGroupType	= 2,
													iC4dGenVisibility		= 1,
													bDetShowFalloff 		= 1,
													iFalloffType			= FALLOFFTYPE_OMNI,
													c4dDetRadius			= c4dDetRadius,
													c4dPhoPhotometric		= c4dPhoPhotometric,
													iC4dPhoUnit				= iC4dPhoUnit,
													photoIntensityLumen		= photoIntensityLumen,
													photoIntensityCandela	= photoIntensityCandela,
													bShowIllumination3D		= 0,
													gs_resol				= gs_resol,
													gs_cont_pen				= gs_cont_pen,
													penIllumination			= penIllumination,
													lightUnID				= lightUnID

		del 1
	Next k

	call "lightMacro_m" parameters		iLightGroupType		= LIGHTGROUP_BUILTIN_FALLOFF,
										iFalloffType		= FALLOFFTYPE_OMNI,
										c4dDetAreaX			= 0.1,
										c4dDetAreaY			= 0.1,
										c4dDetRadius		= c4dDetRadius,
										c4dDetFalloffAngle	= 90,
										c4dPhoPhotometric	= c4dPhoPhotometric,
										bShowIllumination3D	= bShowIllumination3D,
										penIllumination		= penIllumination,
										iModelType			= 1,
										gs_resol			= gs_resol,
										lightUnID			= unID + 1000

EndIf
del TOP

END






