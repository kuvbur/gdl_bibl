
hideparameter all

call "GetPlanViewGlobals" parameters all returned_parameters gs_symbtype_2D_m

!!ArchiFM!!!

call "FM_types" parameters all

values "A" range (0, )
values "ZZYZX" range (0, )

values "gs_detlevel_3D" stDetailLevel
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DET3D_SIMPLE
	if gs_detlevel_3D = stDetailLevel[1] then gs_detlevel_3D_m = DET3D_OFF
	if gs_detlevel_3D = stDetailLevel[3] then gs_detlevel_3D_m = DET3D_DETAILED

	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetailLevel[2]
	if gs_detlevel_3D_m = 0 then gs_detlevel_3D = stDetailLevel[1]
	if gs_detlevel_3D_m = 2 then gs_detlevel_3D = stDetailLevel[3]

	parameters gs_detlevel_3D = gs_detlevel_3D
endif

call "lightMacro_m" parameters all	iLightGroupType		= LIGHTGROUP_BUILTIN_OMNI,
									bShow3D				= gs_detlevel_3D_m,
									bEnable3DModelTypes = 0,
									bEnableSymbolic2D	= 1

if gs_detlevel_3D_m = DET3D_SIMPLE then
	lock "gs_resol"
	hideparameter "gs_resol"
endif

if gs_detlevel_3D_m = DET3D_OFF then
	lock "gs_resol", "gs_shadow"
	hideparameter "gs_resol", "gs_shadow"
endif

values "gs_resol" range [3, ]


IF GLOB_UI_BUTTON_ID = 1 THEN parameters gs_ui_current_page = 1
IF GLOB_UI_BUTTON_ID = 2 THEN parameters gs_ui_current_page = 2
IF GLOB_UI_BUTTON_ID = 3 THEN parameters gs_ui_current_page = 3

!!2D symbol styles!!



if gs_cont_pen=0 then parameters gs_cont_pen=10
if gs_fill_pen=0 then parameters gs_fill_pen=91



parameters b=a
lock "b"

Dot_in_mm = 25.4 / 72


!!! Synhronized mm and point in marker width
if GLOB_MODPAR_NAME = "fsz" then
	parameters fsz_point = fsz / Dot_in_mm
	fsz_point = fsz / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "fsz_point" then
	parameters fsz = fsz_point * Dot_in_mm
	fsz = fsz_point * Dot_in_mm
endif

! --- Bottom, Top Level Calculation  ---

ac_toplevel = 0
if gs_detlevel_3D_m = 1 then
	ac_bottomlevel = -ZZYZX + 1 1/2" - 14 3/4"
else
	ac_bottomlevel = -ZZYZX + 1 1/2" - 15 1/2" - 27/64" - 5/64"
endif
parameters	ac_bottomlevel	= ac_bottomlevel,
			ac_toplevel		= ac_toplevel

values "gs_ui_current_page" pageValues


