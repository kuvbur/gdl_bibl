
hideparameter all

call "FM_types" parameters all

values "gs_detlevel_3D" stDetailLevel
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DET3D_SIMPLE
	if gs_detlevel_3D = stDetailLevel[1] then gs_detlevel_3D_m = DET3D_OFF
	if gs_detlevel_3D = stDetailLevel[3] then gs_detlevel_3D_m = DET3D_DETAILED

	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetailLevel[2]
	if gs_detlevel_3D_m = 0 then gs_detlevel_3D = stDetailLevel[1]
	if gs_detlevel_3D_m = 2 then gs_detlevel_3D = stDetailLevel[3]

	parameters gs_detlevel_3D = gs_detlevel_3D
endif


if gs_detlevel_3D_m = 1 then
	lock "gs_resol"
endif

if gs_detlevel_3D_m = 0 then
	lock "gs_resol", "gs_shadow"
	hideparameter "gs_resol", "gs_shadow"
endif


call "lightMacro_m" parameters all	iLightGroupType		= LIGHTGROUP_BUILTIN_OMNI,
									bShow3D				= gs_detlevel_3D_m,
									bEnable3DModelTypes = 0,
									bEnableSymbolic2D	= 0


if zzyzx-lampShadeHeight - 0.1 < EPS then
	lampShadeHeight = zzyzx - 0.1
	parameters lampShadeHeight = lampShadeHeight
endif

if gs_cont_pen=0 then parameters gs_cont_pen=10
if gs_fill_pen=0 then parameters gs_fill_pen=91

values "gs_resol" range [3, ]

values "A" range (0,)
values "A2" range (0, )
values "B" range (0,)
values "ZZYZX" range (0, )
values "upperDiameter" range (0, )
values "upperRadius" range (0,)
values "lampShadeHeight" range (0, ZZYZX - 0.1)

if GLOB_MODPAR_NAME = "A2" then
	A = A2 * 2
	B = A2 * 2
	parameters	A = A,
				B = B
else
	A2	= A/2
	B	= A
	parameters	A2	= A2,
				B	= B
endif

if GLOB_MODPAR_NAME = "B" then
	parameters A=B
endif

if GLOB_MODPAR_NAME = "upperDiameter" then parameters upperRadius=upperDiameter/2
if GLOB_MODPAR_NAME = "upperRadius" then parameters upperDiameter=upperRadius*2

values "gs_ui_current_page" pageValues

