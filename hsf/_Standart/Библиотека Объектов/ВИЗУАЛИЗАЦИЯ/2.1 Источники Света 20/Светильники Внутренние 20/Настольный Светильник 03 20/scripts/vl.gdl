
hideparameter all

call "FM_types" parameters all

values "gs_detlevel_3D" stDetailLevel
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DET3D_SIMPLE
	if gs_detlevel_3D = stDetailLevel[1] then gs_detlevel_3D_m = DET3D_OFF
	if gs_detlevel_3D = stDetailLevel[3] then gs_detlevel_3D_m = DET3D_DETAILED

	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetailLevel[2]
	if gs_detlevel_3D_m = 0 then gs_detlevel_3D = stDetailLevel[1]
	if gs_detlevel_3D_m = 2 then gs_detlevel_3D = stDetailLevel[3]

	parameters gs_detlevel_3D = gs_detlevel_3D
endif

call "lightMacro_m" parameters all	iLightGroupType		= LIGHTGROUP_BUILTIN_NONVIS_AREA,
									bShow3D				= gs_detlevel_3D_m,
									bEnable3DModelTypes = 1,
									bEnableSymbolic2D	= 0

if gs_cont_pen=0 then parameters gs_cont_pen=10
if gs_fill_pen=0 then parameters gs_fill_pen=91

values "gs_resol" range [3, ]

if gs_detlevel_3D_m = DET3D_SIMPLE then
	lock "gs_resol"
endif

if gs_detlevel_3D_m = DET3D_OFF then
	lock "gs_resol", "gs_shadow"
endif

if GLOB_MODPAR_NAME = "ala" or GLOB_MODPAR_NAME = "aua" then
	if 0.212*cos(aua) < 0.536*cos(ala) then
		A = 0.536*cos(ala) + 0.503*cos(aua) + 0.08
	else
		A = 0.715*cos(aua) + 0.08
	endif
	parameters A = A

	if ala < 0 then
		ZZYZX = 0.273 + 0.378*sin(ala)
	else
		ZZYZX = 0.273 + 0.378*sin(ala) + 0.506*sin(aua)
	endif
	parameters ZZYZX = ZZYZX

endif

parameters B=0.094
lock "A"
lock "B"
lock "ZZYZX"

if (gs_light_switch) then lock "matGlass"


values "ala" range [0, 90)
values "aua" range [-15, 15]

! --- Bottom, Top Level Calculation  ---

ac_bottomlevel	= 0
ac_toplevel		= ZZYZX
parameters	ac_bottomlevel	= ac_bottomlevel,
			ac_toplevel		= ac_toplevel

values "gs_ui_current_page" pageValues

