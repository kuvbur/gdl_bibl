
call "GetPlanViewGlobals" parameters all returned_parameters gs_symbtype_2D_m

if GLOB_PREVIEW_MODE = 3 then				! in case of 2D-3D Favorite Preview
	gs_symbtype_2D_m = 1
endif

pen gs_cont_pen
fill gs_fill_type

unID = 200

if gs_symbtype_2D_m = 1 then					! Realistic Symbol

	hotspot2 0, 0, unID		: unID = unID + 1

	hotspot2 0,		0, unID, halfWidth, 1+128	: unID = unID + 1
	hotspot2 A/2,	0, unID, halfWidth, 2		: unID = unID + 1
	hotspot2 -1,	0, unID, halfWidth, 3		: unID = unID + 1

	for i = 2 to nBlades
		rot2 360/nBlades
		hotspot2 A/2, 0, unID		: unID = unID + 1
	next i
	del nBlades - 1

	drawindex 20
	poly2_B 2, 1+2+4+64,
		gs_fill_pen, gs_back_pen,
		0,		0,		900,
		0.145,	360,	4001

	poly2_B 2, 1+2+4+64,
		gs_fill_pen, gs_back_pen,
		0,		0,		900,
		0.06,	360,	4001

	drawindex 10
	poly2_B 2, 1+2+4+64,
		gs_fill_pen, gs_back_pen,
		0,		0,		900,
		0.02,	360,	4001

	for i = 1 to nBlades
		add2 0.02, 0
		mul2 (A-0.04)/2.174, (A-0.04) * cos(10)/2.174

		poly2_B 19, 1+2+4+64, gs_fill_pen, gs_back_pen,
			1.087,		0.034,		1,
			1.087,		-0.034,		1,
			1.037,		-0.034,		900,
			0,			-92.24,		4001,
			1.035,		-0.084,		1,
			0.132,		-0.048,		1,
			0.135,		-0.0,		900,
			0,			-77.86,		4001,
			0.087,		-0.008,		1,
			0,			-0.008,		1,
			0,			0.008,		1,
			0.087,		0.008,		1,
			0.135,		-0.0,		900,
			0,			-77.86,		4001,
			0.132,		0.048,		1,
			1.035,		0.084,		1,
			1.037,		0.034,		900,
			0,			-92.24,		4001,
			1.087,		0.034,		-1

		del 2

		rot2 360/nBlades
	next i

	del nBlades
else											! Electrical Symbol or RCP Symbol

	call "Lamp_symbol" parameters all	bWallLamp	= 0,
										bDirect		= 0,
										Symbol_unID	= unID,
										specSymbolRotation	=180
endif

