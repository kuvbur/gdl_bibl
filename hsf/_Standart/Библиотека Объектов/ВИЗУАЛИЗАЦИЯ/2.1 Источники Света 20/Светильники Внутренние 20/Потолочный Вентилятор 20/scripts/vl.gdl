
hideparameter all

call "GetPlanViewGlobals" parameters all returned_parameters gs_symbtype_2D_m

call "FM_types" parameters all

if gs_cont_pen = 0 then parameters gs_cont_pen = 10
if gs_fill_pen = 0 then parameters gs_fill_pen = 91

values "gs_resol" range [3, )

values "A" range [1, )
values "halfWidth" range [0.5, )

if bHanger then
	values "ZZYZX" range [0.42 + bShowLamps * 0.24, )
endif

if GLOB_MODPAR_NAME = "halfWidth" then
	A = 2 * halfWidth
	parameters A = A
else
	halfWidth = A/2
	parameters halfWidth = halfWidth
endif

if GLOB_MODPAR_NAME = "bHanger" | GLOB_MODPAR_NAME = "bShowLamps" then
	if not(bHanger) then
		if bShowLamps then
			ZZYZX = 0.51
		else
			ZZYZX = 0.27
		endif
		lock "ZZYZX"
	else
		ZZYZX = 1.2
	endif
else
	ZZYZX = ZZYZX
endif

parameters ZZYZX = ZZYZX

ac_bottomlevel	= -ZZYZX
ac_toplevel		= 0

parameters	ac_bottomlevel	= ac_bottomlevel,
			ac_toplevel		= ac_toplevel


values "nBlades" 3, 4, 5, 6

values "gs_detlevel_3D" stDetailLevel
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DET3D_SIMPLE
	if gs_detlevel_3D = stDetailLevel[1] then gs_detlevel_3D_m = DET3D_OFF
	if gs_detlevel_3D = stDetailLevel[3] then gs_detlevel_3D_m = DET3D_DETAILED

	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetailLevel[2]
	if gs_detlevel_3D_m = 0 then gs_detlevel_3D = stDetailLevel[1]
	if gs_detlevel_3D_m = 2 then gs_detlevel_3D = stDetailLevel[3]

	parameters gs_detlevel_3D = gs_detlevel_3D
endif


if gs_detlevel_3D_m = 1 then
	lock "gs_resol"
endif

if gs_detlevel_3D_m = 0 then
	lock "gs_resol", "gs_shadow"
	hideparameter "gs_resol", "gs_shadow"
endif


call "lightMacro_m" parameters all	iLightGroupType		= LIGHTGROUP_BUILTIN_SPOT,
									bShow3D				= gs_detlevel_3D_m,
									bEnable3DModelTypes = 1,
									bEnableSymbolic2D	= 1


values "gs_ui_current_page" pageValues


