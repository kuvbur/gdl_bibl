
hideparameter all

call "FM_types" parameters all

values "zzyzx" range [2.230, )
values "bd" range (0, )
values "td" range (0, )
values "lsl" range (0, )
values "linc" range [-90, 90]

values "gs_detlevel_3D" stDetailLevel
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DET3D_SIMPLE
	if gs_detlevel_3D = stDetailLevel[1] then gs_detlevel_3D_m = DET3D_OFF
	if gs_detlevel_3D = stDetailLevel[3] then gs_detlevel_3D_m = DET3D_DETAILED

	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetailLevel[2]
	if gs_detlevel_3D_m = 0 then gs_detlevel_3D = stDetailLevel[1]
	if gs_detlevel_3D_m = 2 then gs_detlevel_3D = stDetailLevel[3]

	parameters gs_detlevel_3D = gs_detlevel_3D
endif

call "lightMacro_m" parameters all	iLightGroupType		= LIGHTGROUP_BUILTIN_OMNI,
									bShow3D				= gs_detlevel_3D_m,
									bEnable3DModelTypes = 1


if gs_cont_pen<=0 then parameters gs_cont_pen=10
if gs_fill_pen<=0 then parameters gs_fill_pen=91

values "gs_resol" range [6, ]

if gs_detlevel_3D_m = DET3D_SIMPLE then
	lock "gs_resol"
endif

if gs_detlevel_3D_m = DET3D_OFF then
	lock "gs_resol", "gs_shadow"
endif

if ABS(linc) < EPS then
	_difIncl = 0
else
	if (linc > EPS) then
		_difIncl = 1.5 * td * sin(linc)
	else
		_difIncl = -0.5 * td * sin(linc)
	endif
endif

A = lsl * (2.5 * cos(linc) + (1 - sin(linc))) + bd/2 + _difIncl
parameters A = A
lock "A"


If GLOB_MODPAR_NAME="B" Then
	If B<0.05 Then parameters B=0.05, bd=0.05
	parameters B2=B/2, bd=B
EndIf

If GLOB_MODPAR_NAME="B2" Then
	If B2<0.05/2 Then parameters B2=0.05/2
	parameters B=B2*2, bd=B2*2
EndIf

If GLOB_MODPAR_NAME="bd" Then
	If bd<0.05 Then parameters B=0.05, bd=0.05
	parameters B2=bd/2, B=bd
EndIf

values "gs_ui_current_page" pageValues


! =============================================================================
! Onorm list Settings
! =============================================================================
if LibraryLangCode = "AUT" or LibraryLangCode = "CHE" or LibraryLangCode = "GER" then
	rrr = REQUEST ("Name_of_macro", "", LPName)
	call "Onorm_Light" parameters all sLibpartName = strsub(LPName,0,strlen(LPName)-4)
else
	hideparameter "gs_onorm_Title"
endif
