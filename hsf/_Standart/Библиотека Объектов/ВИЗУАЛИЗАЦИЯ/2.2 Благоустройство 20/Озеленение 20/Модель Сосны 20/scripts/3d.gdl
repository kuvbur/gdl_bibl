
IF iDetlevel3D = DETLEVEL3D_OFF then 1000:

IF gs_shadow=0 THEN SHADOW OFF


Hotspot 0,0,zzyzx

material mat1
cone zzyzx,b/40,0.01,90,90

material mat2

mul a/4,b/4,1
addz zzyzx/10

for i=1 to 20
	for u=1 to 15
	addz rnd(zzyzx/40)
	rotx rnd(-10)
	roty -5+rnd(10)
	 IF iDetlevel3D = DETLEVEL3D_SIMPLE then
	  poly_              7,
		0.004473,     0.0,    1,
	   -0.371208,     0.968098,    1,
	   -0.096696,     1.588733,    1,
		0.0,     2.0,    1,
		0.122117,     1.401747,    1,
		0.325017,     0.669717,    1,
		0.004473,     0.0,     -1
	 Endif

	 IF iDetlevel3D = DETLEVEL3D_DETAILED then
	  poly_            12,
		0.004473,     0.0,    1,
		0.374927,     0.863797,    1,
		0.168713,     0.910164,    1,
		0.298441,     1.451448,    1,
		0.08681,     1.36078,    1,
		0.16937,     1.864474,    1,
		0.045462,     1.76638,    1,
		0.0,     2.0,    1,
	   -0.083608,     1.544379,    1,
	   -0.259144,     1.554704,    1,
	   -0.109422,     1.059073,    1,
	   -0.367564,     1.152004,    1
	 Endif
		del 3
		rotz 24+rnd(14)
	next u
  del 15
  del 1
  rotz rnd(50)
  addz zzyzx/20
  mul 1-i/21,1-i/21,1-i/42
next i

1000:
END
