
if gs_detlevel_3D_m = DLEV3D_OFF then end
if gs_detlevel_3D_m = DLEV3D_SIMPLE then gs_resol = 4

if gs_shadow=0 then SHADOW OFF

! --- Hotspots

unID=1

HOTSPOT	0, 0, 0, unID, zzyzx, 1 : unID=unID+1
HOTSPOT	0, 0, -1, unID, zzyzx, 3 : unID=unID+1
HOTSPOT	0, 0, zzyzx, unID, zzyzx, 2 : unID=unID+1

for NN=1 to 4
	HOTSPOT 0, 0, 0, unID, temp_RR, 1+128, A:	unID=unID+1
	HOTSPOT -1, 0, 0, unID, temp_RR, 3+128, A: unID=unID+1
	HOTSPOT temp_RR, 0, 0, unID, temp_RR, 2, A: unID=unID+1

	HOTSPOT 0, 0, zzyzx, unID, temp_RR, 1+128, A:	unID=unID+1
	HOTSPOT -1, 0, zzyzx, unID, temp_RR, 3+128, A: unID=unID+1
	HOTSPOT temp_RR,  0, zzyzx, unID, temp_RR, 2, A: unID=unID+1

	ROTz 90
next NN
del 4

! --- 3D MODEL -----------------------------------------------------------------

pen gs_cont_pen

alfa=atn(0.045/(2*rad))
r=rad

rotx 90

material rmat

resol 2*gs_resol
rotz 90
addx zzyzx-0.10
for i=1 to 2
	revolve 4, 360, 0,
			0.00, r-0.02, 1,
			0.02, r-0.02, 1,
			0.02, r, 1,
			0.00, r, 1
	addx -0.26
next i
del 4

material hmat

resol gs_resol
addy zzyzx-0.44
roty -alfa
for j=1 to 2
	for i=1 to num_m
		addz -0.01
		prism_      34,      0.02,
					r,     0.05,      79,
					r+0.05,     0.05,    900,
					0.0,      90.0,   4001,
					r+0.05,     0.00,      79,
					r+0.24,     0.00,      79,
					r+0.24,     0.05,    900,
					0.0,      90.0,   4001,
					r+0.29,     0.05,      79,
					r+0.29,     0.39,      79,
					r+0.24,     0.39,    900,
					0.0,      90.0,   4001,
					r+0.24,     0.44,      79,
					r+0.05,     0.44,      79,
					r+0.05,     0.39,    900,
					0.0,      90.0,   4001,
					r,     0.39,      79,
					r,     0.05,     -1,
					r+0.24,     0.42,      79,
					r+0.24,     0.39,    900,
					0.0,     -90.0,   4001,
					r+0.27,     0.39,      79,
					r+0.27,     0.05,      79,
					r+0.24,     0.05,    900,
					0.0,     -90.0,   4001,
					r+0.24,     0.02,      79,
					r+0.05,     0.02,      79,
					r+0.05,     0.05,    900,
					0.0,     -90.0,   4001,
					r+0.02,     0.05,      79,
					r+0.02,     0.39,      79,
					r+0.05,     0.39,    900,
					0.0,     -90.0,   4001,
					r+0.05,     0.42,      79,
					r+0.24,     0.39,     -1
		del 1
		roty 360/num_m
	next i
	del num_m
	roty +2*alfa
next j
del 5

material pmat

for i=1 to 4
	addx r-0.04
	cylind zzyzx, 0.02
	del 1
	rotz 90
next i
del 4
