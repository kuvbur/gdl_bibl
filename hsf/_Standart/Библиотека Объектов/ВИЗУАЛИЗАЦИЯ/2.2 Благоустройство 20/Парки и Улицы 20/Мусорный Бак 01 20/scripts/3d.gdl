
IF gs_detlevel_3D_m = DLEV3D_OFF THEN END

IF gs_shadow=0 THEN SHADOW OFF

a=a-0.024

resol gs_resol

!!***************** body+cover

material mat

group "realbody"

	roty -90

	revolve 15, 360, 0,
		0,	0,	1,
		0,	a/2-0.040,	0,
		0.025,	a/2-0.040,	1,
		0.0275,	a/2-0.045,	1,
		mag-0.005, a/2-0.02,	0,
		mag-0.005,	a/2-0.005,	0,
		mag-0.01,	a/2-0.005,	0,
		mag-0.01,	a/2,	0,
		mag,	a/2,	0,
		mag,	a/2-0.025,	0,
		0.1,	a/2-0.05,	1,
		0.07,	a/2-0.055,	1,
		0.05,	a/2-0.065,	1,
		0.01,	a/2-0.07,	0,
		0.01,	0,	1

	addx mag

	material matfed
	revolve 15, 360, 0,
		fed-0.005,	0,	1,
		fed-0.005,	a/2-0.12,	1,
		fed*2/3-0.005,	a/2-0.12,	1,
		fed*2/3-0.005,	a/2-0.04,	1,
		0,	a/2-0.04,	0,
		0,	a/2-0.01,	0,
		fed/3-0.005,	a/2-0.01,	1,
		fed/3,	a/2-0.017,	1,
		fed/3,	a/2-0.03,	0,
		fed*2/3-0.005,	a/2-0.03,	1,
		fed*2/3,	a/2-0.037,	1,
		fed*2/3,	a/2-0.1,	0,
		fed-0.005,	a/2-0.1,	1,
		fed-0.001,	a/2-0.12,	1,
		fed,	0,	1

	del 1
	del 1

endgroup


!!****************** handle on top

add 0.12, 0, mag+fed-0.015
rotz 90
sweep  15,  5, 0, 0.95,    1+2+4+16+32,
		-0.025, 0,     0,
		-0.0170886522104, 0.002774302417723,     1,
		-0.004993561753491, 0.004706245805118,     1,
		0.00725325555043, 0.004508548214846,     1,
		0.01927968635478, 0.002187216588148,     1,
		0.025,            0,     0,
		0.025, 0.003202228644819,     0,
		0.01775625905161, 0.005327193965545,     0,
		0.01775625905161, 0.007484308900421,     0,
		0.01138115322327, 0.009037780274066,     1,
		-0.001714869014952, 0.009883470560714,     1,
		-0.01475878582592, 0.008442212515298,     1,
		-0.01813835714722, 0.007390137441531,     0,
		-0.01813835714722, 0.005327193965545,     0,
		-0.025, 0.003202228644819,     0,

		0, 0, 0,
		0, -0.057, 0.001,
		0, -0.076, 0.012,
		0, -0.09,  0.022,
		0, -0.12,  0.023

del 2


!!***************** cutting with body+cover

material mat

group "cutbody"

	roty -90
	revolve 10, 360, 0,
		0,	0,	1,
		0,	a/2-0.040,	0,
		0.025,	a/2-0.040,	1,
		0.0275,	a/2-0.045,	1,
		mag-0.005, a/2-0.02,	0,
		mag-0.005,	a/2-0.005,	0,
		mag-0.01,	a/2-0.005,	0,
		mag-0.01,	a/2,	0,
		mag,	a/2,	0,
		mag,	0,	0

	del 1

endgroup


! === handles on front ===

resol max(gs_resol/2,6)

group "handle"

rotx 90

dx=a*0.29

for i=1 to 2

		add dx,mag-0.11,0.3*a
		PRISM_  20,         0.007,
				0,            0,     15,
				0.02,            0,     15,
				0.1,         0.04,     79,
				0.101241324402, 0.04064994611902,     79,
				0.1034605322739, 0.04236119751375,     79,
				0.1053488697055, 0.04443181255744,     79,
				0.1068489605195, 0.0467988766598,     79,
				0.1079152252155, 0.04939046777585,     79,
				0.1085152658803, 0.05212784172095,     79,
				0.108630850582, 0.05492782477295,     79,
				0.1082584673379, 0.05770534086368,     79,
				0.1074094308244, 0.06037599657221,     79,
				0.1061095385864, 0.06285864537625,     79,
				0.1043982871916, 0.06507785324818,     79,
				0.1023276721479, 0.06696619067978,     79,
				0.09996060804558, 0.06846628149373,     79,
				0.09736901692952, 0.06953254618974,     79,
				0.09511921746563,         0.07,     15,
				0.002,         0.07,     15,
				0,            0,     -1

		addz -0.07
		PRISM_  20,         0.007,
				0,            0,     15,
				0.02,            0,     15,
				0.1,         0.04,     79,
				0.101241324402, 0.04064994611902,     79,
				0.1034605322739, 0.04236119751375,     79,
				0.1053488697055, 0.04443181255744,     79,
				0.1068489605195, 0.0467988766598,     79,
				0.1079152252155, 0.04939046777585,     79,
				0.1085152658803, 0.05212784172095,     79,
				0.108630850582, 0.05492782477295,     79,
				0.1082584673379, 0.05770534086368,     79,
				0.1074094308244, 0.06037599657221,     79,
				0.1061095385864, 0.06285864537625,     79,
				0.1043982871916, 0.06507785324818,     79,
				0.1023276721479, 0.06696619067978,     79,
				0.09996060804558, 0.06846628149373,     79,
				0.09736901692952, 0.06953254618974,     79,
				0.09511921746563,         0.07,     15,
				0.002,         0.07,     15,
				0,            0,     -1

		del 2

		add dx+0.095,mag-0.055,0.3*a-0.07
		cylind 0.07+0.007, 0.005
		del 1

		mulz -1

	next i

	del 2
	del 1

endgroup


result_1=subGROUP("handle","cutbody")
result_2=ADDGROUP(result_1,"realbody")
placegroup result_2


for i=1 to 2

	rotx 90
	add -a/2+0.025, mag+fed-0.025, -0.02

	PRISM_  7,         0.007,
			0.10,	0,     15,
			0,	0.03,     15,
			-0.05, -0.005,     15,
			-0.05, -0.06,     15,
			0, -0.10,     15,
			0,	0,     15,
			0.10,	0,     -1

	del 2
	muly -1

next i


del 2



!!***************** handles on side


if iTrahsCanVolType = VOLUMETYPE_60L then dx2 = a/2*0.85
if iTrahsCanVolType = VOLUMETYPE_90L then dx2 = a/2*0.85
if iTrahsCanVolType = VOLUMETYPE_110L then dx2 = a/2*0.9



group "handle2"

	for i=1 to 2

		rotx -90
		roty 90
		add  dx2,-mag*0.7, 0.04
		PRISM_   7,   0.007,
				-0.1, 0.0415, 15,
				0, 0.0415,     79,
				0.05,         0.01,     14,
				0.05,        -0.01,     15,
				0, -0.01,     79,
				-0.1, -0.01,	15,
				-0.1, 0.0415, -1

		add  0,0, -0.08-0.007
		PRISM_   7,   0.007,
				-0.1, 0.0415, 15,
				0, 0.0415,     79,
				0.05,         0.01,     11,
				0.05,        -0.01,     15,
				0, -0.01,     79,
				-0.1, -0.01,	15,
				-0.1, 0.0415, -1

		add  0.05-0.0035, 0, 0.007

		prism_ 4, 0.08,
			-0.0035,	0.01,	15,
			-0.0035,	-0.01,	15,
			 0.0035, -0.01,	10,
			 0.0035,	0.01,	15

!			cylind 0.08, 0.007

		del 5

		muly -1

	next i

	del 2

endgroup

result_1=subGROUP("handle2","cutbody")
result_2=ADDGROUP(result_1,"realbody")
placegroup result_1








































