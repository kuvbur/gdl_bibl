
!!Pool.gsm


drawindex 10

pen gs_cont_pen
fill gs_fill_type


hotspot2 0, 0,1

	if deck_fill_pen<>0 then     !! Pool Deck Fill
		x1=1+2+4+64
	else
		x1=1
	endif

	if gs_fill_pen<>0 then     !! Pool Deck Fill
		x2=1+2+4+64
	else
		x2=1
	endif

if iPoolShape = POOL_RECT then
	hotspot2 -a/2, -b/2,2
	hotspot2 -a/2, b/2,3
	hotspot2 a/2, b/2,4
	hotspot2 a/2, -b/2,5
	hotspot2 -a/2-vb-pdn, -b/2-vb-pdn,6
	hotspot2 -a/2-vb-pdn, b/2+vb+pdn,7
	hotspot2 a/2+vb+pdn, b/2+vb+pdn,8
	hotspot2 a/2+vb+pdn, -b/2-vb-pdn,9



		poly2_b 10, x1, deck_fill_pen, gs_back_pen,
				-a/2-vb-pdn, -b/2-vb-pdn, 1,
				a/2+vb+pdn, -b/2-vb-pdn, 1,
				a/2+vb+pdn, b/2+vb+pdn, 1,
				-a/2-vb-pdn, b/2+vb+pdn, 1,
				-a/2-vb-pdn, -b/2-vb-pdn, -1,

				-a/2, -b/2, 1,
				a/2, -b/2, 1,
				a/2, b/2, 1,
				-a/2, b/2, 1,
				-a/2, -b/2, -1

		poly2_b 5, x2, gs_fill_pen, gs_back_pen,
				-a/2, -b/2, 15,
				a/2, -b/2, 15,
				a/2, b/2, 15,
				-a/2, b/2, 15,
				-a/2, -b/2, -1

endif

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

if ABS(a-b)<EPS and iPoolShape <> POOL_RECT then		!!a=b

	hotspot2 -a/2, 0,10
	hotspot2 a/2, 0,11
	hotspot2 0, b/2,12
	hotspot2 0, -b/2,13
	hotspot2 -a/2-vb-pdn, 0,14
	hotspot2 a/2+vb+pdn, 0,15
	hotspot2 0, b/2+vb+pdn,16
	hotspot2 0, -b/2-vb-pdn,17

	circle2 0,0,a/2+vb+pdn
	circle2 0,0,a/2

	if deck_fill_pen<>0 then
		poly2_b 3, 2+64, deck_fill_pen, gs_back_pen,
				0, 0, 901,
				a/2+vb+pdn, 360, 4001,
				a/2, 360, 4001
	endif
	if gs_fill_pen<>0 then
		poly2_b 2, 2+64, gs_fill_pen, gs_back_pen,
				0, 0, 901,
				a/2, 360, 4001
	endif

endif

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

if ABS(a-b)>EPS and iPoolShape <> POOL_RECT then			!!a<>b

	if a>b then
		hotspot2 -a/2, 0,18
		hotspot2 a/2, 0,19
		hotspot2 0, b/2,20
		hotspot2 0, -b/2,21
		hotspot2 -a/2-vb-pdn, 0,22
		hotspot2 a/2+vb+pdn, 0,23
		hotspot2 0, b/2+vb+pdn,24
		hotspot2 0, -b/2-vb-pdn,25


			poly2_b 14, x1, deck_fill_pen, gs_back_pen,
					as/2, -b/2-vb-pdn, 1,
					as/2, 0, 901,
					0, 180, 4001,
					-as/2, b/2+vb+pdn, 1,
					-as/2, 0, 901,
					0, 180, 4001,
					as/2, -b/2-vb-pdn, -1,

					as/2, -b/2, 1,
					as/2, 0, 901,
					0, 180, 4001,
					-as/2, b/2, 1,
					-as/2, 0, 901,
					0, 180, 4001,
					as/2, -b/2, -1

			poly2_b 7, x2, gs_fill_pen, gs_back_pen,
					as/2, -b/2, 1,
					as/2, 0, 901,
					0, 180, 4001,
					-as/2, b/2, 1,
					-as/2, 0, 901,
					0, 180, 4001,
					as/2, -b/2, -1

	endif                       !!!!a>b!!!!

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

	if b>a then
		hotspot2 -a/2, 0,26
		hotspot2 a/2, 0,27
		hotspot2 0, b/2,28
		hotspot2 0, -b/2,29
		hotspot2 -a/2-vb-pdn, 0,30
		hotspot2 a/2+vb+pdn, 0,31
		hotspot2 0, b/2+vb+pdn,32
		hotspot2 0, -b/2-vb-pdn,33

		poly2_b 14, x1, deck_fill_pen, gs_back_pen,
				-a/2-vb-pdn, -as/2, 1,
				0, -as/2, 901,
				0, 180, 4001,
				a/2+vb+pdn, as/2, 1,
				0, as/2, 901,
				0, 180, 4001,
				-a/2-vb-pdn, -as/2, -1,

				-a/2, -as/2, 1,
				0, -as/2, 901,
				0, 180, 4001,
				a/2, as/2, 1,
				0, as/2, 901,
				0, 180, 4001,
				-a/2, -as/2, -1

		poly2_b 7, x2, gs_fill_pen, gs_back_pen,
				-a/2, -as/2, 1,
				0, -as/2, 901,
				0, 180, 4001,
				a/2, as/2, 1,
				0, as/2, 901,
				0, 180, 4001,
				-a/2, -as/2, -1
	endif                       !!!!b>a!!!!

endif


!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!end!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


if ladder=1 then

drawindex 20
if iPoolShape = POOL_RECT then add2 -a/2+0.5, -b/2-vb/2
if ABS(a-b)<EPS and iPoolShape <> POOL_RECT then add2 -0.25, -b/2-vb/2		!!a=b
if a>b and iPoolShape <> POOL_RECT then add2 -0.25, -b/2-vb/2
if b>a and iPoolShape <> POOL_RECT then
	add2 a/2+vb/2, -0.25
	rot2 90
endif



	if ladder_fill_pen<>0 then
		add2 0.02, 0.3757
		poly2_b 4, 1+2+4+64, ladder_fill_pen, gs_back_pen,
				0, -0.015/2, 1,
				0, 0.015/2, 1,
				0.46, 0.015/2, 1,
				0.46, -0.015/2, 1
		del 1

		for x=1 to 2
			poly2_b 2, 1+2+4+64, ladder_fill_pen, gs_back_pen,
					0, 		0,		901,
					0.04,	360,	4001

			poly2_b 7, 1+2+4+64, ladder_fill_pen, gs_back_pen,
					0.02,	0,		1,
					0.02,	0.3757, 1,
					0,		0.3757,	901,
					0,		180,	4001,
					-0.02, 0, 1,
					0,		0,		901,
					0,		180,	4001


			add2 0.5, 0
		next x
		del 2
	else
		add2 0.02, 0.3757
		line2 0, -0.015/2,0.46, -0.015/2
		line2 0, 0.015/2,0.46, 0.015/2
		del 1
		for x=1 to 2
			poly2_b 2, 1, ladder_fill_pen, gs_back_pen,
					0, 0, 901,
					0.04, 360, 4001
			poly2_b 8, 1, ladder_fill_pen, gs_back_pen,
					0.02, 0, 1,
					0.02, 0.3757, 1,
					0, 0.3757, 901,
					0, 180, 4001,
					-0.02, 0, 1,
					0, 0, 901,
					0, 180, 4001,
					0.02, 0, -1
			add2 0.5, 0
		next x
		del 2

	endif

if b>a and iPoolShape <> POOL_RECT then
del 2
else
del 1
endif

endif



