
ui_dialog `Параметры Мужчины в Кресле-Коляске`,444,266

ui_current_page gs_ui_current_page

TABID_ROOT				= -1
TABID_REPRESENTATION	= 1
TABID_SURFACES			= 2
TABID_MIN_SPACE			= 3

FILE_DEPENDENCE "uiTab_2DRepr_flat(1)"
FILE_DEPENDENCE "uiTab_3DRepr_flat(1)"
FILE_DEPENDENCE "uiTab_MinSpace_flat(1)"

if TABID_REPRESENTATION > 0 then
	ui_page TABID_REPRESENTATION, TABID_ROOT, `Отображение`, "uiTab_2DRepr_flat(1)"
	gosub "representationPage"
endif

if TABID_SURFACES > 0 then
	ui_page TABID_SURFACES, TABID_ROOT, `Покрытия`, "uiTab_3DRepr_flat(1)"
	gosub "surfacesPage"
endif

if TABID_MIN_SPACE > 0 then
	ui_page TABID_MIN_SPACE, TABID_ROOT, `Минимальное Пространство`, "uiTab_MinSpace_flat(1)"
	gosub "minSpacePage"
endif

! ======================================================================
end
! ======================================================================

"representationPage":
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!! *** Page 1 *** !!!!!!!!!!!!!!!!!!!!
	
	pageStartY = 5

	UI_SEPARATOR	5,		pageStartY + 135,		440,	pageStartY + 135
	UI_SEPARATOR	220,	pageStartY ,			220,	pageStartY + 130
	
	
	x1 = 12
	x2 = 120
	
	yCurrent = pageStartY + 21
	
	UI_STYLE 0,1
	UI_OUTFIELD	`2D-отображение`,	x1,		pageStartY,		215-x1,	15
	
	UI_STYLE 0,0
	UI_OUTFIELD	`Тип 2D-символа`,	x1,		yCurrent,		x2-x1-2,	15
	UI_INFIELD{3} "iWMSymbViewType",		x2,		yCurrent-4,		215-x2,		22,
	8, "", 3, 1, 0, 0, 0, 0,
	1, stViewType[1], VIEWTYPE_FRONT,
	2, stViewType[2], VIEWTYPE_SIDE,
	3, stViewType[3], VIEWTYPE_TOP
	yCurrent = yCurrent + 27
	
	UI_OUTFIELD	`Пол`,			x1,		yCurrent,		x2-x1-2,	15
	UI_INFIELD{3} "iGender",			x2,		yCurrent-4,		215-x2,		22,
	8, "", 2, 1, 0, 0, 0, 0,
	1, stGender[1], GENDER_MALE,
	2, stGender[2], GENDER_FEMALE
	yCurrent = yCurrent + 27
	
	UI_OUTFIELD	`2D-детализация`,	x1,		yCurrent,		x2-x1-2,	15
	UI_INFIELD{3} "iDet2D",	x2,		yCurrent-4,		215-x2,		22,
	8, "", 2, 1, 0, 0, 0, 0,
	1, stDetlevel[1], DETLEVEL_2D_CONTOUR,
	2, stDetlevel[2], DETLEVEL_2D_DETAILED
	yCurrent = yCurrent + 27
	
	
	
	UI_STYLE 0,1
	UI_OUTFIELD	`3D-отображение`,	x1,	pageStartY + 139,	215-x1,	13
	
	yCurrent = pageStartY + 163
	UI_STYLE 0,0
	UI_OUTFIELD	`3D`,				x1,	yCurrent,	x2-x1-2,	13
	UI_INFIELD{3}	"gs_detlevel_3D",	x2,	yCurrent-4,	215-x2,		22,
	8, "", 2, 1, 0, 0, 0, 0,
	1, stDetail[1], stDetail[1],
	2, stDetail[2], stDetail[2]
	yCurrent = yCurrent + 24
	
	UI_OUTFIELD	`Аппроксимация`,		x1,	yCurrent,	x2-x1-2,	15
	UI_INFIELD	"gs_resol",			x2,	yCurrent-4,	215-x2,		22
	yCurrent = yCurrent + 24
	
	UI_INFIELD{3} "gs_shadow",		x1, yCurrent-2, x2-x1-2,	18,			! Shadow
				7, "",
				2,
				1, 20, 20, 20, 20,
				0, `Отбрасывание Теней`, 0,
				1, `Отбрасывание Теней`, 1
	
	x4 = 235
	x5 = 400
	
	yCurrent = pageStartY + 21
	
	UI_OUTFIELD	`Перо Контура`,			x4,		yCurrent,	x5-x4-2,	15
	UI_INFIELD	"gs_cont_pen",			x5,		yCurrent-4,	440-x5,		22
	yCurrent = yCurrent + 24
	
	UI_OUTFIELD	`Тип Штриховки`,			x4,		yCurrent,	x5-x4-2-75,	13
	UI_INFIELD	"gs_fill_type",			x5-75,		yCurrent-4,	440-x5+75,		22
	yCurrent = yCurrent + 24
	
	UI_OUTFIELD	`Перо Штриховки Контура`,		x4,		yCurrent,	x5-x4-2,	13, bDetailed*4
	UI_INFIELD	"gs_fill_pen",			x5,		yCurrent-4,	440-x5,		22
	yCurrent = yCurrent + 24
	
	UI_OUTFIELD	`Перо Штриховки Детализации`,	x4,		yCurrent,	x5-x4-2,	13, not(bDetailed)*4
	UI_INFIELD	"gs_detailed_fill_pen",	x5,		yCurrent-4,	440-x5,		22
	yCurrent = yCurrent + 24
	
	UI_OUTFIELD	`Перо Фона`,		x4,		yCurrent,	x5-x4-2,	13
	UI_INFIELD	"gs_back_pen",			x5,		yCurrent-4,	440-x5,		22
	yCurrent = yCurrent + 24

return

"surfacesPage":
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!! *** Page 2 *** !!!!!!!!!!!!!!!!!!!!
	
	x1=12
	x2=190
	
	UI_STYLE 0,1
	UI_OUTFIELD	`Покрытия`,	x1,	pageStartY,	x2-x1,	13
	
	UI_STYLE 0,0
	
	dim stMatPars[8]
	stMatPars[1] = "gs_frame_mat"
	stMatPars[2] = "gs_seat_mat"
	stMatPars[3] = "gs_wheel_mat"
	stMatPars[4] = "matHair"
	stMatPars[5] = "matSkin"
	stMatPars[6] = "matShirt"
	stMatPars[7] = "matTrousers"
	stMatPars[8] = "matShoes"
	
	dim stMatNames[8]
	stMatNames[1] = `Рама`
	stMatNames[2] = `Сидение`
	stMatNames[3] = `Колеса`
	stMatNames[4] = `Волосы`
	stMatNames[5] = `Кожа`
	stMatNames[6] = `Рубашка`
	stMatNames[7] = `Брюки`
	stMatNames[8] = `Обувь`
	
	yCurrent = pageStartY + 25
	for iMat = 1 to vardim1(stMatPars)
	UI_OUTFIELD	stMatNames[iMat],	x1,	yCurrent,		x2-x1-2,	13
	UI_INFIELD	stMatPars[iMat],	x2,	yCurrent-4,		370-x2,		23
	yCurrent = yCurrent + 26
	next iMat

return

"minSpacePage":
	!!!!!!!!!!!!!!!!!!!!!!!!!!!!! *** Page 3 *** !!!!!!!!!!!!!!!!!!!!
	
	UI_SEPARATOR	5,		pageStartY + 55,		440,	pageStartY + 55
	
	x1 = 12
	x2 = 150
	
	yCurrent = pageStartY + 5
	
	UI_STYLE 0,0
	UI_OUTFIELD	`Показ Мин. пр-ва`,	x1,		yCurrent,		x2-x1-2,	15
	UI_INFIELD{3} "iShowMinSpace",		x2,		yCurrent-4,		430-x2,		22,
	8, "", 3, 1, 0, 0, 0, 0,
	1, stMinimalSpace[1], MINIMALSPACE_ALWAYS,
	2, stMinimalSpace[2], MINIMALSPACE_NEVER,
	3, stMinimalSpace[3], MINIMALSPACE_BYMVO
	yCurrent = yCurrent + 27
	
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
	UI_OUTFIELD	`Мин. Пространство Спереди`,	x1,		yCurrent,		x2-x1-2,	15, (iShowMinSpace = MINIMALSPACE_NEVER)*4
	UI_INFIELD{3} "iMinSpaceFrontView",	x2,		yCurrent-4,		430-x2,		22,
		8, "", 6, 1, 0, 0, 0, 0,
		1, stMinimalSpaceType[1], MINSPACEVIEW_CLEARFLOORSPACE,
		2, stMinimalSpaceType[3], MINSPACEVIEW_PARALLEL,
		3, stMinimalSpaceType[4], MINSPACEVIEW_MINCLEAR1,
		4, stMinimalSpaceType[5], MINSPACEVIEW_MINCLEAR2,
		5, stMinimalSpaceType[6], MINSPACEVIEW_CLEARFORWARD,
		6, stMinimalSpaceType[8], MINSPACEVIEW_ADDFORWARD
	yCurrent = yCurrent + 27
	endif
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Side View
	UI_OUTFIELD	`Мин. Пр-во Вида Сбоку`,	x1,		yCurrent,		x2-x1-2,	15, (iShowMinSpace = MINIMALSPACE_NEVER)*4
	UI_INFIELD{3} "iMinSpaceSideView",	x2,		yCurrent-4,		430-x2,		22,
		8, "", 5, 1, 0, 0, 0, 0,
		1, stMinimalSpaceType[1], MINSPACEVIEW_CLEARFLOORSPACE,
		2, stMinimalSpaceType[2], MINSPACEVIEW_FORWARD,
		3, stMinimalSpaceType[7], MINSPACEVIEW_CLEARPARALLEL,
		4, stMinimalSpaceType[9], MINSPACEVIEW_ADDPARALLEL,
		5, stMinimalSpaceType[12], MINSPACEVIEW_REACHDIST
	yCurrent = yCurrent + 27
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
	UI_OUTFIELD	`Мин. Пр-во Вида Сверху`,	x1,		yCurrent,		x2-x1-2,	15, (iShowMinSpace = MINIMALSPACE_NEVER)*4
	UI_INFIELD{3} "iMinSpaceTopView",	x2,		yCurrent-4,		430-x2,		22,
		8, "", 11, 1, 0, 0, 0, 0,
		1, stMinimalSpaceType[1], MINSPACEVIEW_CLEARFLOORSPACE,
		2, stMinimalSpaceType[2], MINSPACEVIEW_FORWARD,
		3, stMinimalSpaceType[3], MINSPACEVIEW_PARALLEL,
		4, stMinimalSpaceType[4], MINSPACEVIEW_MINCLEAR1,
		5, stMinimalSpaceType[5], MINSPACEVIEW_MINCLEAR2,
		6, stMinimalSpaceType[6], MINSPACEVIEW_CLEARFORWARD,
		7, stMinimalSpaceType[7], MINSPACEVIEW_CLEARPARALLEL,
		8, stMinimalSpaceType[8], MINSPACEVIEW_ADDFORWARD,
		9, stMinimalSpaceType[9], MINSPACEVIEW_ADDPARALLEL,
		10, stMinimalSpaceType[10], MINSPACEVIEW_TURNING,
		11, stMinimalSpaceType[11], MINSPACEVIEW_TSHAPED
	yCurrent = yCurrent + 27
	endif
	
	
	
	x = 180
	y = pageStartY + 95
	
	if _iMinSpaceType = MINSPACEVIEW_CLEARFLOORSPACE then	! Clear Floor Space
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 1, x+13,y, 42,76, 1		! symbol_1_front.png
		ui_infield "gs_minimal_space_width", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Side View
		ui_pict 2, x,y, 67,76, 1		! symbol_1_side.png
		ui_infield "gs_minimal_space_length", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 3, x,y, 77,52, 1		! symbol_1_top.png
		ui_infield "gs_minimal_space_length", x+4,  y+60, 60,20
		ui_infield "gs_minimal_space_width",  x+85, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_FORWARD then	! Forward Approach
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Side View
		ui_pict 22, x,y, 72,76, 1		! symbol_2_side.png
		ui_infield "gs_minimal_space_length", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 23, x,y, 82,52, 1		! symbol_2_top.png
		ui_infield "gs_minimal_space_length", x+4,  y+60, 60,20
		ui_infield "gs_minimal_space_width",  x+90, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_PARALLEL then	! Parallel Approach
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 31, x+13,y, 47,76, 1		! symbol_3_front.png
		ui_infield "gs_minimal_space_width", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 33, x,y-5, 77,57, 1		! symbol_3_top.png
		ui_infield "gs_minimal_space_length", x+4,  y+60, 60,20
		ui_infield "gs_minimal_space_width",  x+90, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_MINCLEAR1 then	! Minimum Clear Width Single
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 41, x+9,y, 50,76, 1		! symbol_4_front.png
		ui_infield "gs_minimal_space_width", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 43, x-10,y-9, 97,70, 1		! symbol_4_top.png
		ui_infield "gs_minimal_space_length", x+4,  y+63, 60,20
		ui_infield "gs_minimal_space_width",  x+95, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_MINCLEAR2 then	! Minimum Clear Width Two
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 51, x-9,y, 92,76, 1		! symbol_5_front.png
		ui_infield "gs_minimal_space_width", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 53, x-10,y-20, 97,112, 1		! symbol_5_top.png
		ui_infield "gs_minimal_space_length", x+4,  y+100, 60,20
		ui_infield "gs_minimal_space_width",  x+95, y+14, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_CLEARFORWARD then	! Clear Floor Space in Alcoves Forward Approach
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 1, x+13,y, 42,76, 1		! symbol_1_front.png
		ui_infield "gs_minimal_space_width", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 63, x-23,y-15, 111,83, 1		! symbol_6_top.png
		ui_infield "gs_minimal_space_width",	x+4,  y+75, 60,20
		ui_infield "gs_minimal_space_length",	x+93, y+10, 60,20
		ui_infield "gs_minimal_space_depth",	x-90, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_CLEARPARALLEL then	! Clear Floor Space in Alcoves Parallel Approach
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Front View
		ui_pict 2, x,y, 67,76, 1		! symbol_1_side.png
		ui_infield "gs_minimal_space_length", x+4,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 73, x-35,y-5, 137,58, 1		! symbol_6_top.png
		ui_infield "gs_minimal_space_length",	x+4,  y+60, 60,20
		ui_infield "gs_minimal_space_width",	x+110, y+10, 60,20
		ui_infield "gs_minimal_space_depth",	x-105, y+10, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_ADDFORWARD then	! Additional Maneuvering for Alcoves Forward Approach
	if iWMSymbViewType = VIEWTYPE_FRONT then	! Front View
		ui_pict 81, x+13,y, 51,76, 1		! symbol_8_front.png
		ui_infield "gs_minimal_space_width",	 x+4,  y+80, 60,20
		ui_infield "gs_minimal_space_add_width", x+70,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 83, x-10,y-15, 111,82, 1		! symbol_8_top.png
		ui_infield "gs_minimal_space_width",	x+4,  y+75, 60,20
		ui_infield "gs_minimal_space_length",	x+110, y+10, 60,20
		ui_infield "gs_minimal_space_add_width",	x+70, y+75, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_ADDPARALLEL then	! Additional Maneuvering for Alcoves Parallel Approach
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Front View
		ui_pict 92, x,y, 84,76, 1		! symbol_9_side.png
		ui_infield "gs_minimal_space_length", x+4,  y+80, 60,20
		ui_infield "gs_minimal_space_add_length", x+70,  y+80, 60,20
	endif
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 93, x-25,y-5, 147,58, 1		! symbol_9_top.png
		ui_infield "gs_minimal_space_length",	x+4,  y+60, 60,20
		ui_infield "gs_minimal_space_width",	x+130, y+10, 60,20
		ui_infield "gs_minimal_space_add_length", x+70,  y+60, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_TURNING then	! Wheelchair Turning Space
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 103, x-13,y+5, 90,86, 1		! symbol_10_top.png
		ui_infield "gs_minimal_space_diameter",	x+85,  y+40, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_TSHAPED then	! T-Shaped Space for 180° Turns
	if iWMSymbViewType = VIEWTYPE_TOP then	! Top View
		ui_pict 113, x-59,y-5, 197,132, 1		! symbol_11_top.png
		ui_infield "gs_minimal_space_length",		x+150,  y+85, 60,20
		ui_infield "gs_minimal_space_length",		x-130,  y+85, 60,20
		ui_infield "gs_minimal_space_add_length",	x+150,  y+45, 60,20
		ui_infield "gs_minimal_space_width",		x+10,  y-30, 60,20
		ui_infield "gs_minimal_space_add_width",	x-60,  y-30, 60,20
		ui_infield "gs_minimal_space_add_width",	x+80,  y-30, 60,20
	endif
	endif
	if _iMinSpaceType = MINSPACEVIEW_REACHDIST then	! Reach Distance
	if iWMSymbViewType = VIEWTYPE_SIDE then	! Side View
		ui_pict 122, x+5,y, 63,85, 1		! symbol_12_side.png
		ui_infield "gs_minimal_space_r1",		x+80,  y+10, 60,20
		ui_infield "gs_minimal_space_r2",		x+80,  y+40, 60,20
	endif
	endif
return

