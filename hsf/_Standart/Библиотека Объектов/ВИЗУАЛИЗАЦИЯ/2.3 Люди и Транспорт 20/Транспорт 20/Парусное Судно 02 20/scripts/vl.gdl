
call "FM_types" parameters all

!=============================================================================
! String-Integer Parameter Link
!=============================================================================

! --- Strings For Localisation -----------------------------------------------

dim gs_detlevel_2d_str[2]
	gs_detlevel_2d_str[1] = `Детальный`
	gs_detlevel_2d_str[2] = `Простой`

dim gs_detlevel_3d_str[3]
	gs_detlevel_3d_str[1] = `Детальный`
	gs_detlevel_3d_str[2] = `Простой`
	gs_detlevel_3d_str[3] = `Откл.`

dim FlagCountry_str[45]
	FlagCountry_str[ 1] = `Австралия`
	FlagCountry_str[ 2] = `Австрия`
	FlagCountry_str[ 3] = "BEL"
	FlagCountry_str[ 4] = "BGR"
	FlagCountry_str[ 5] = "BIH"
	FlagCountry_str[ 6] = `Канада`
	FlagCountry_str[ 7] = "CHE"
	FlagCountry_str[ 8] = `Китай`
	FlagCountry_str[ 9] = "CZE"
	FlagCountry_str[10] = "DNK"
	FlagCountry_str[11] = "ESP"
	FlagCountry_str[12] = "EST"
	FlagCountry_str[13] = "EU"
	FlagCountry_str[14] = `Финляндия`
	FlagCountry_str[15] = `Франция`
	FlagCountry_str[16] = `Великобритания`
	FlagCountry_str[17] = `Германия`
	FlagCountry_str[18] = `Греция`
	FlagCountry_str[19] = "HRV"
	FlagCountry_str[20] = "HUN"
	FlagCountry_str[21] = "IRL"
	FlagCountry_str[22] = "ISL"
	FlagCountry_str[23] = `Италия`
	FlagCountry_str[24] = `Япония`
	FlagCountry_str[25] = `Корея`
	FlagCountry_str[26] = "LIE"
	FlagCountry_str[27] = "LTU"
	FlagCountry_str[28] = "LVA"
	FlagCountry_str[29] = "MCO"
	FlagCountry_str[30] = "MLT"
	FlagCountry_str[31] = `Нидерланды`
	FlagCountry_str[32] = `Норвегия`
	FlagCountry_str[33] = `Новая Зеландия`
	FlagCountry_str[34] = `Польша`
	FlagCountry_str[35] = "PRT"
	FlagCountry_str[36] = "ROM"
	FlagCountry_str[37] = `Россия`
	FlagCountry_str[38] = "SRB"
	FlagCountry_str[39] = "SVK"
	FlagCountry_str[40] = "SVN"
	FlagCountry_str[41] = `Швеция`
	FlagCountry_str[42] = "Turkey"
	FlagCountry_str[43] = `США`
	FlagCountry_str[44] = `Южная Африка`
	FlagCountry_str[45] = `Веселый Роджер`

! --- String Values ---
values "gs_detlevel_2d" gs_detlevel_2d_str
values "gs_detlevel_3d" gs_detlevel_3d_str
values "strFlagCountry" FlagCountry_str[ 1],
						FlagCountry_str[ 2],
						FlagCountry_str[ 6],
						FlagCountry_str[ 8],
						FlagCountry_str[14],
						FlagCountry_str[15],
						FlagCountry_str[17],
						FlagCountry_str[18],
						FlagCountry_str[23],
						FlagCountry_str[24],
						FlagCountry_str[25],
						FlagCountry_str[31],
						FlagCountry_str[33],
						FlagCountry_str[32],
						FlagCountry_str[34],
						FlagCountry_str[37],
						FlagCountry_str[44],
						FlagCountry_str[41],
						FlagCountry_str[42],
						FlagCountry_str[16],
						FlagCountry_str[43],
						FlagCountry_str[45]

! --- Integer Values ---
values "gs_detlevel_2d_m" 	1,2
values "gs_detlevel_3d_m" 	1,2,3
values "iFlagCountry" 		range[1,45]

! --- String-Integer Connection ----------------------------------------------

if GLOB_MODPAR_NAME = "gs_detlevel_2d" then
	gs_detlevel_2d_m = DETAILED_2D
	if gs_detlevel_2d = gs_detlevel_2d_str[ 2] then gs_detlevel_2d_m = SIMPLE_2D
	parameters gs_detlevel_2d_m = gs_detlevel_2d_m
else
	gs_detlevel_2d = gs_detlevel_2d_str[ 1]
	if gs_detlevel_2d_m = SIMPLE_2D then gs_detlevel_2d = gs_detlevel_2d_str[ 2]
	parameters gs_detlevel_2d = gs_detlevel_2d
endif

if GLOB_MODPAR_NAME = "gs_detlevel_3d" then
	gs_detlevel_3d_m = DETAILED_3D
	if gs_detlevel_3d = gs_detlevel_3d_str[ 2] then gs_detlevel_3d_m = SIMPLE_3D
	if gs_detlevel_3d = gs_detlevel_3d_str[ 3] then gs_detlevel_3d_m = OFF_3D
	parameters gs_detlevel_3d_m = gs_detlevel_3d_m
else
	gs_detlevel_3d = gs_detlevel_3d_str[ 1]
	if gs_detlevel_3d_m = SIMPLE_3D 	then gs_detlevel_3d = gs_detlevel_3d_str[ 2]
	if gs_detlevel_3d_m = OFF_3D		then gs_detlevel_3d = gs_detlevel_3d_str[ 3]
	parameters gs_detlevel_3d = gs_detlevel_3d
endif

if GLOB_MODPAR_NAME = "strFlagCountry" then
	iFlagCountry = FLAG_AUS
	if strFlagCountry = FlagCountry_str[ 2] then iFlagCountry = FLAG_AUT
	if strFlagCountry = FlagCountry_str[ 3] then iFlagCountry = FLAG_BEL
	if strFlagCountry = FlagCountry_str[ 4] then iFlagCountry = FLAG_BGR
	if strFlagCountry = FlagCountry_str[ 5] then iFlagCountry = FLAG_BIH
	if strFlagCountry = FlagCountry_str[ 6] then iFlagCountry = FLAG_CAN
	if strFlagCountry = FlagCountry_str[ 7] then iFlagCountry = FLAG_CHE
	if strFlagCountry = FlagCountry_str[ 8] then iFlagCountry = FLAG_CHN
	if strFlagCountry = FlagCountry_str[ 9] then iFlagCountry = FLAG_CZE
	if strFlagCountry = FlagCountry_str[10] then iFlagCountry = FLAG_DNK
	if strFlagCountry = FlagCountry_str[11] then iFlagCountry = FLAG_ESP
	if strFlagCountry = FlagCountry_str[12] then iFlagCountry = FLAG_EST
	if strFlagCountry = FlagCountry_str[13] then iFlagCountry = FLAG_EU
	if strFlagCountry = FlagCountry_str[14] then iFlagCountry = FLAG_FIN
	if strFlagCountry = FlagCountry_str[15] then iFlagCountry = FLAG_FRA
	if strFlagCountry = FlagCountry_str[16] then iFlagCountry = FLAG_GBR
	if strFlagCountry = FlagCountry_str[17] then iFlagCountry = FLAG_GER
	if strFlagCountry = FlagCountry_str[18] then iFlagCountry = FLAG_GRC
	if strFlagCountry = FlagCountry_str[19] then iFlagCountry = FLAG_HRV
	if strFlagCountry = FlagCountry_str[20] then iFlagCountry = FLAG_HUN
	if strFlagCountry = FlagCountry_str[21] then iFlagCountry = FLAG_IRL
	if strFlagCountry = FlagCountry_str[22] then iFlagCountry = FLAG_ISL
	if strFlagCountry = FlagCountry_str[23] then iFlagCountry = FLAG_ITA
	if strFlagCountry = FlagCountry_str[24] then iFlagCountry = FLAG_JPN
	if strFlagCountry = FlagCountry_str[25] then iFlagCountry = FLAG_KOR
	if strFlagCountry = FlagCountry_str[26] then iFlagCountry = FLAG_LTE
	if strFlagCountry = FlagCountry_str[27] then iFlagCountry = FLAG_LTU
	if strFlagCountry = FlagCountry_str[28] then iFlagCountry = FLAG_LVA
	if strFlagCountry = FlagCountry_str[29] then iFlagCountry = FLAG_MCO
	if strFlagCountry = FlagCountry_str[30] then iFlagCountry = FLAG_MLT
	if strFlagCountry = FlagCountry_str[31] then iFlagCountry = FLAG_NLD
	if strFlagCountry = FlagCountry_str[32] then iFlagCountry = FLAG_NOR
	if strFlagCountry = FlagCountry_str[33] then iFlagCountry = FLAG_NZL
	if strFlagCountry = FlagCountry_str[34] then iFlagCountry = FLAG_POL
	if strFlagCountry = FlagCountry_str[35] then iFlagCountry = FLAG_PRT
	if strFlagCountry = FlagCountry_str[36] then iFlagCountry = FLAG_ROM
	if strFlagCountry = FlagCountry_str[37] then iFlagCountry = FLAG_RUS
	if strFlagCountry = FlagCountry_str[38] then iFlagCountry = FLAG_SRB
	if strFlagCountry = FlagCountry_str[39] then iFlagCountry = FLAG_SVK
	if strFlagCountry = FlagCountry_str[40] then iFlagCountry = FLAG_SVN
	if strFlagCountry = FlagCountry_str[41] then iFlagCountry = FLAG_SWE
	if strFlagCountry = FlagCountry_str[42] then iFlagCountry = FLAG_TUR
	if strFlagCountry = FlagCountry_str[43] then iFlagCountry = FLAG_USA
	if strFlagCountry = FlagCountry_str[44] then iFlagCountry = FLAG_ZAF
	if strFlagCountry = FlagCountry_str[45] then iFlagCountry = FLAG_JR
	parameters iFlagCountry = iFlagCountry
else
	strFlagCountry = FlagCountry_str[ 1]
	if iFlagCountry = FLAG_AUT then strFlagCountry = FlagCountry_str[ 2]
	if iFlagCountry = FLAG_BEL then strFlagCountry = FlagCountry_str[ 3]
	if iFlagCountry = FLAG_BGR then strFlagCountry = FlagCountry_str[ 4]
	if iFlagCountry = FLAG_BIH then strFlagCountry = FlagCountry_str[ 5]
	if iFlagCountry = FLAG_CAN then strFlagCountry = FlagCountry_str[ 6]
	if iFlagCountry = FLAG_CHE then strFlagCountry = FlagCountry_str[ 7]
	if iFlagCountry = FLAG_CHN then strFlagCountry = FlagCountry_str[ 8]
	if iFlagCountry = FLAG_CZE then strFlagCountry = FlagCountry_str[ 9]
	if iFlagCountry = FLAG_DNK then strFlagCountry = FlagCountry_str[10]
	if iFlagCountry = FLAG_ESP then strFlagCountry = FlagCountry_str[11]
	if iFlagCountry = FLAG_EST then strFlagCountry = FlagCountry_str[12]
	if iFlagCountry = FLAG_EU  then strFlagCountry = FlagCountry_str[13]
	if iFlagCountry = FLAG_FIN then strFlagCountry = FlagCountry_str[14]
	if iFlagCountry = FLAG_FRA then strFlagCountry = FlagCountry_str[15]
	if iFlagCountry = FLAG_GBR then strFlagCountry = FlagCountry_str[16]
	if iFlagCountry = FLAG_GER then strFlagCountry = FlagCountry_str[17]
	if iFlagCountry = FLAG_GRC then strFlagCountry = FlagCountry_str[18]
	if iFlagCountry = FLAG_HRV then strFlagCountry = FlagCountry_str[19]
	if iFlagCountry = FLAG_HUN then strFlagCountry = FlagCountry_str[20]
	if iFlagCountry = FLAG_IRL then strFlagCountry = FlagCountry_str[21]
	if iFlagCountry = FLAG_ISL then strFlagCountry = FlagCountry_str[22]
	if iFlagCountry = FLAG_ITA then strFlagCountry = FlagCountry_str[23]
	if iFlagCountry = FLAG_JPN then strFlagCountry = FlagCountry_str[24]
	if iFlagCountry = FLAG_KOR then strFlagCountry = FlagCountry_str[25]
	if iFlagCountry = FLAG_LTE then strFlagCountry = FlagCountry_str[26]
	if iFlagCountry = FLAG_LTU then strFlagCountry = FlagCountry_str[27]
	if iFlagCountry = FLAG_LVA then strFlagCountry = FlagCountry_str[28]
	if iFlagCountry = FLAG_MCO then strFlagCountry = FlagCountry_str[29]
	if iFlagCountry = FLAG_MLT then strFlagCountry = FlagCountry_str[30]
	if iFlagCountry = FLAG_NLD then strFlagCountry = FlagCountry_str[31]
	if iFlagCountry = FLAG_NOR then strFlagCountry = FlagCountry_str[32]
	if iFlagCountry = FLAG_NZL then strFlagCountry = FlagCountry_str[33]
	if iFlagCountry = FLAG_POL then strFlagCountry = FlagCountry_str[34]
	if iFlagCountry = FLAG_PRT then strFlagCountry = FlagCountry_str[35]
	if iFlagCountry = FLAG_ROM then strFlagCountry = FlagCountry_str[36]
	if iFlagCountry = FLAG_RUS then strFlagCountry = FlagCountry_str[37]
	if iFlagCountry = FLAG_SRB then strFlagCountry = FlagCountry_str[38]
	if iFlagCountry = FLAG_SVK then strFlagCountry = FlagCountry_str[39]
	if iFlagCountry = FLAG_SVN then strFlagCountry = FlagCountry_str[40]
	if iFlagCountry = FLAG_SWE then strFlagCountry = FlagCountry_str[41]
	if iFlagCountry = FLAG_TUR then strFlagCountry = FlagCountry_str[42]
	if iFlagCountry = FLAG_USA then strFlagCountry = FlagCountry_str[43]
	if iFlagCountry = FLAG_ZAF then strFlagCountry = FlagCountry_str[44]
	if iFlagCountry = FLAG_JR  then strFlagCountry = FlagCountry_str[45]
	parameters strFlagCountry = strFlagCountry
endif

if not(bFlag) 	then lock "strFlagCountry"

if gs_detlevel_3d_m <> DETAILED_3D then
	hideparameter "bFlag", "strFlagCountry"
	lock "bFlag", "strFlagCountry"
endif

!=============================================================================
! Pen Settings
!=============================================================================

if gs_cont_pen<=0 then parameters gs_cont_pen=4
if gs_fill_pen<=0 then parameters gs_fill_pen=91


!=============================================================================
! Fixed Sizes
!=============================================================================

if bMast then
	if ABS(ZZYZX- 9.520)>EPS then parameters ZZYZX 	= 9.520
else
	if ABS(ZZYZX- 1.480)>EPS then parameters ZZYZX 	= 1.480
endif
lock "ZZYZX"


!=============================================================================
! Sail Options
!=============================================================================

values "angMast" range[-30, 30]
values "iWindSpeed" 0,1,2,3,4

if not(bMast) 	then lock "angMast", "bSailClosed", "iWindSpeed"
if bSailClosed 	then lock "iWindSpeed"
