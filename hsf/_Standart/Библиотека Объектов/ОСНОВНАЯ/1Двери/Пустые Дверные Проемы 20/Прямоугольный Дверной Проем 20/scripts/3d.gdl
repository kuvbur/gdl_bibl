
! Contact person: <SzL, NJ>

! =============================================================================

A = max(0.01, A)


! =============================================================================
! GS Door Opening Functions
! =============================================================================

call "GS Door Opening Functions",
	parameters all	iWindowShape			= iWindowShape,
					bParalellInCurvedWalls	= bParalellInCurvedWalls


! =============================================================================
! Preview in Door Settings Dialog and in Listing
! =============================================================================

pen WALL_VIEW_PEN

if (GLOB_PREVIEW_MODE = 1 | GLOB_PREVIEW_MODE = 3) | GLOB_FEEDBACK_MODE then
	if not(WIDO_REVEAL_SIDE) then
		addz -WIDO_SILL
	else
		addz WIDO_SILL - WALL_THICKNESS + WIDO_FRAME_THICKNESS
	endif

	cprism_ WALL_MAT_A, WALL_MAT_B, WALL_MAT_EDGE,
		 10, WALL_THICKNESS,
		 A/2+0.2,	-0.2,	8,
		 A/2+0.2,	 B+0.2,	8,
		-A/2-0.2,	 B+0.2,	8,
		-A/2-0.2,	-0.2,	8,
		 A/2+0.2,	-0.2,	-1,

		-A/2,		0,		15,
		 A/2,		0,		15,
		 A/2,		B,		15,
		-A/2,		B,		15,
		-A/2,		0,		-1
	
	del 1
	
	end
endif

if (GLOB_PREVIEW_MODE = 2) then		! IS but not surface
	extrude 5, 0, 0, WALL_THICKNESS, 16+32,
		-A/2,		0,		0,
		 A/2,		0,		0,
		 A/2,		B,		0,
		-A/2,		B,		0,
		-A/2,		0,		-1
	end
endif
