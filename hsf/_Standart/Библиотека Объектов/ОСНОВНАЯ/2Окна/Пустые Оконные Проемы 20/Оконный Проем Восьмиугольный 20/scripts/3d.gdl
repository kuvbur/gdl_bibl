
! Contact person: <SzL, NJ>

! =============================================================================
! GS Window Opening Functions
! =============================================================================

call "GS Window Opening Functions",
	parameters all	iWindowShape			= iWindowShape,
					gs_IsCurved				= 0,
					bParalellInCurvedWalls	= bParalellInCurvedWalls

UnID = 1
hotspot a/2, 0, 0, UnID : UnID = UnID + 1
hotspot a/2, ac_wallhole_height, 0, UnID : UnID = UnID + 1
hotspot -a/2, 0, 0, UnID : UnID = UnID + 1
hotspot -a/2, ac_wallhole_height, 0, UnID : UnID = UnID + 1

hotspot a/2, 0, -WALL_THICKNESS, UnID : UnID = UnID + 1
hotspot a/2, ac_wallhole_height, -WALL_THICKNESS, UnID : UnID = UnID + 1
hotspot -a/2, 0, -WALL_THICKNESS, UnID : UnID = UnID + 1
hotspot -a/2, ac_wallhole_height, -WALL_THICKNESS, UnID : UnID = UnID + 1


! =============================================================================
! Preview in Object Settings Dialog
! =============================================================================

pen WALL_VIEW_PEN

if GLOB_PREVIEW_MODE = 1 | GLOB_PREVIEW_MODE = 3 | GLOB_FEEDBACK_MODE then
	for i=22.5 to 337.5 step 45
		put A/2/cos(22.5)*cos(i),
			A/2/cos(22.5)*sin(i), 15
	next i

	cprism_ WALL_MAT_A, WALL_MAT_B, WALL_MAT_EDGE,
		 7+nsp/3,WALL_THICKNESS,
		 A/2+0.2,	-B/2-0.2,	8,
		 A/2+0.2,	 B+0.2-B/2,	8,
		-A/2-0.2,	 B+0.2-B/2,	8,
		-A/2-0.2,	-0.2-B/2,	8,
		 A/2+0.2,	-B/2-0.2,	-1,
		 A/2,		 0,			13,
		 get(nsp),
		 A/2,		 0,			-1
	end
endif

if GLOB_PREVIEW_MODE = 2 then
	for i=22.5 to 337.5 step 45
		put A/2/cos(22.5)*cos(i),	A/2/cos(22.5)*sin(i),	0
	next i

	addy A/2
	extrude 2+nsp/3, 0, 0, WALL_THICKNESS, 16+32,
		 A/2,		 0,			0,
		 get(nsp),
		 A/2,		 0,			-1
	del 1
	end
endif
