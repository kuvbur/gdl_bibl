
! Contact person: <SzL, NJ>

! =============================================================================
! GS Window Opening Functions
! =============================================================================

call "GS Window Opening Functions",
	parameters all	iWindowShape			= iWindowShape,
					gs_IsCurved				= 0,
					bParalellInCurvedWalls	= bParalellInCurvedWalls


! =============================================================================
! Preview in Object Settings Dialog
! =============================================================================

pen WALL_VIEW_PEN

if GLOB_PREVIEW_MODE # 0 | GLOB_FEEDBACK_MODE then

	if not(WIDO_REVEAL_SIDE) then
		addz -WIDO_SILL
	else
		addz WIDO_SILL - WALL_THICKNESS + WIDO_FRAME_THICKNESS
	endif

	if GLOB_PREVIEW_MODE = 1 | GLOB_PREVIEW_MODE = 3 then
		cprism_ WALL_MAT_A, WALL_MAT_B, WALL_MAT_EDGE, 10, WALL_THICKNESS,
			A/2+0.2,	-0.2,	8,
			A/2+0.2,	B+0.2,	8,
			-A/2-0.2,	B+0.2,	8,
			-A/2-0.2,	-0.2,	8,
			A/2+0.2,	-0.2,	-1,
			0,			0,		15,
			A/2,		B/2,	15,
			0,			B,		15,
			-A/2,		B/2,	15,
			0,			0,		-1
	else
		extrude 5, 0, 0, WALL_THICKNESS, 16+32,
			0,		0,		0,
			A/2,	B/2,	0,
			0,		B,		0,
			-A/2,	B/2,	0,
			0,		0,		-1
	endif
	del 1
	end
endif


! =============================================================================
! Hotspots
! =============================================================================

curvedWall	= abs(WIDO_ORIG_DIST) > EPS

if not(curvedWall) | (curvedWall & iTypeCurvedWallCut = CUT_PARALLEL) then
	del top
	if WIDO_REVEAL_SIDE then
		addz WIDO_FRAME_THICKNESS
	else
		mulz -1
	endif
	addz WIDO_SILL

	unID=1

	hotspot  0,	 0,	 0,unID:unID=unID+1
	hotspot  A/2,B/2,0,unID:unID=unID+1
	hotspot  0,	 B,	 0,unID:unID=unID+1
	hotspot -A/2,B/2,0,unID:unID=unID+1

	hotspot  0,	 0,	 -WALL_THICKNESS,unID:unID=unID+1
	hotspot  A/2,B/2,-WALL_THICKNESS,unID:unID=unID+1
	hotspot  0,	 B,	 -WALL_THICKNESS,unID:unID=unID+1
	hotspot -A/2,B/2,-WALL_THICKNESS,unID:unID=unID+1

	del 2
endif

