

! =============================================================================
! GS Skylight Functions
! =============================================================================

call "GS Skylight Functions",
	parameters all	bEnableLining			= bEnableLining,
					bEnableEdgeTypesUpper	= bEnableEdgeTypesUpper,
					bEnableEdgeTypesLower	= bEnableEdgeTypesLower,
	returned_parameters	iLoD2D,
		gs_opLinePen, gs_openedSashPen, gs_iSwingType, gs_swingLineType, gs_opline_style_m

if iLoD2D = SYMBS_OFF | iLoD2D = SYMBS_S_1 then end


! ==============================================================================
! Symbolic 2D
! ==============================================================================

pen gs_cont_pen

if abs(cos(ac_roofang)) < EPS then
	if (GLOB_PREVIEW_MODE = 1) then
		ac_roofang = 0
	else
		end
	endif
endif

mul2 1,cos(ac_roofang)
add2 0,b/2

unID=1

hotspot2 0,b/2,unID,Acosinus,1+128	: unID=unID+1
hotspot2 0,b/2+1,unID,Acosinus,3	: unID=unID+1
hotspot2 0,-b/2,unID,Acosinus,2		: unID=unID+1

hotspot2 0,0,unID,A2,1+128			: unID=unID+1
hotspot2 -1,0,unID,A2,3				: unID=unID+1
hotspot2 a/2,0,unID,A2,2			: unID=unID+1

hotspot2 0,0,unID,A2,1+128			: unID=unID+1
hotspot2 1,0,unID,A2,3				: unID=unID+1
hotspot2 -a/2,0,unID,A2,2			: unID=unID+1

hotspot2 0,-b/2,unID,Acosinus,1+128	: unID=unID+1
hotspot2 0,-b/2-1,unID,Acosinus,3	: unID=unID+1
hotspot2 0,b/2,unID,Acosinus,2		: unID=unID+1

mask=1+2+4+64

pen gs_cont_pen
fill gs_fill_type

if ac_skylight_function then
	for i = 1 to 4
		rot2 90*i
		poly2_b 4, mask, gs_fill_pen, gs_back_pen,
			a/2, b/2, 0,
			0, b/2, 0,
			0, 0, 900,
			a/2, 0, 3000
		del 1
	next i
endif

poly2_b 2, mask, gs_fill_pen, gs_back_pen,
		0, 0, 900,
		r, 360, 4000

circle2 0, 0, r

if iLoD2D = SYMBS_D_1 | iLoD2D = SYMBS_D_2 then
	circle2 0,0, r-gs_curb_thk
endif

hotspot2 0,0,unID : unID=unID+1
