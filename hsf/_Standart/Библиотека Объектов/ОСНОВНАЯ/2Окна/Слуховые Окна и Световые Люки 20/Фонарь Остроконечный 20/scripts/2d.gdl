

! =============================================================================
! GS Skylight Functions
! =============================================================================

call "GS Skylight Functions",
	parameters all	bEnableLining			= bEnableLining,
					bEnableEdgeTypesUpper	= bEnableEdgeTypesUpper,
					bEnableEdgeTypesLower	= bEnableEdgeTypesLower,
	returned_parameters	iLoD2D,
		gs_opLinePen, gs_openedSashPen, gs_iSwingType, gs_swingLineType, gs_opline_style_m

if iLoD2D = SYMBS_OFF | iLoD2D = SYMBS_S_1 then end


! ==============================================================================
! Symbolic 2D
! ==============================================================================

pen gs_cont_pen
fill gs_fill_type

if iLoD2D = SYMBS_D_1 | iLoD2D = SYMBS_D_2 then
	project2{3} 3, 270, 2 + 32 + 16, 4 + 8, parameters bCall3DFrom2DScript = 1
endif

hotspot2 0,0
hotspot2 0,b*cos(ac_roofang)
hotspot2 -a/2,0
hotspot2 a/2,0
hotspot2 -a/2,b*cos(ac_roofang)
hotspot2 a/2,b*cos(ac_roofang)

if gs_back_pen<>0 then
	mask=7
else
	mask=5
endif

if abs(b*cos(ac_roofang)) > EPS then
	poly2_b 5, mask, gs_fill_pen, gs_back_pen,
		-A/2,	0,					1,
		 A/2,	0,					1,
		 A/2,	B*cos(ac_roofang),	1,
		-A/2,	B*cos(ac_roofang),	1,
		-A/2,	0,					-1
else
	line2 -A/2, 0, A/2, 0
endif
