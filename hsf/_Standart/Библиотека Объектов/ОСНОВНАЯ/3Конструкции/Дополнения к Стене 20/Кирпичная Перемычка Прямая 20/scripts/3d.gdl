
! Masonry Arch

IF gs_detlevel_3D_m = DLEV3D_OFF THEN END

IF gs_shadow=0 THEN SHADOW OFF
IF gs_shadow=1 THEN SHADOW ON

!!---- Hotspot Editing
unID=1

hotspot 0,0,0,unID,A2,1+128,A : unID=unID+1
hotspot -1,0,0,unID,A2,3,A : unID=unID+1
hotspot A2,0,0,unID,A2,2,A : unID=unID+1

hotspot 0,0,0,unID,A2,1+128,A : unID=unID+1
hotspot 1,0,0,unID,A2,3,A : unID=unID+1
hotspot -A2,0,0,unID,A2,2,A : unID=unID+1

hotspot 0,-B,0,unID,A2,1+128,A : unID=unID+1
hotspot -1,-B,0,unID,A2,3,A : unID=unID+1
hotspot A2,-B,0,unID,A2,2,A : unID=unID+1

hotspot 0,-B,0,unID,A2,1+128,A : unID=unID+1
hotspot 1,-B,0,unID,A2,3,A : unID=unID+1
hotspot -A2,-B,0,unID,A2,2,A : unID=unID+1

hotspot A2,0,0,unID,B,1+128 : unID=unID+1
hotspot A2,1,0,unID,B,3 : unID=unID+1
hotspot A2,-B,0,unID,B,2 : unID=unID+1

hotspot -A2,0,0,unID,B,1+128 : unID=unID+1
hotspot -A2,1,0,unID,B,3 : unID=unID+1
hotspot -A2,-B,0,unID,B,2 : unID=unID+1

hotspot 0,0,zzyzx,unID,A2,1+128,A : unID=unID+1
hotspot -1,0,zzyzx,unID,A2,3,A : unID=unID+1
hotspot A2,0,zzyzx,unID,A2,2,A : unID=unID+1

hotspot 0,0,zzyzx,unID,A2,1+128,A : unID=unID+1
hotspot 1,0,zzyzx,unID,A2,3,A : unID=unID+1
hotspot -A2,0,zzyzx,unID,A2,2,A : unID=unID+1

hotspot 0,-B,zzyzx,unID,A2,1+128,A : unID=unID+1
hotspot -1,-B,zzyzx,unID,A2,3,A : unID=unID+1
hotspot A2,-B,zzyzx,unID,A2,2,A : unID=unID+1

hotspot 0,-B,zzyzx,unID,A2,1+128,A : unID=unID+1
hotspot 1,-B,zzyzx,unID,A2,3,A : unID=unID+1
hotspot -A2,-B,zzyzx,unID,A2,2,A : unID=unID+1

hotspot A2,0,zzyzx,unID,B,1+128 : unID=unID+1
hotspot A2,1,zzyzx,unID,B,3 : unID=unID+1
hotspot A2,-B,zzyzx,unID,B,2 : unID=unID+1

hotspot -A2,0,zzyzx,unID,B,1+128 : unID=unID+1
hotspot -A2,1,zzyzx,unID,B,3 : unID=unID+1
hotspot -A2,-B,zzyzx,unID,B,2 : unID=unID+1

hotspot 0,0,0,unID,zzyzx,1+256 : unID=unID+1
hotspot 0,0,-1,unID,zzyzx,3 : unID=unID+1
hotspot 0,0,zzyzx,unID,zzyzx,2 : unID=unID+1

hotspot 0,-B,0,unID,zzyzx,1+256 : unID=unID+1
hotspot 0,-B,-1,unID,zzyzx,3 : unID=unID+1
hotspot 0,-B,zzyzx,unID,zzyzx,2 : unID=unID+1
!!---- Hotspot Editing

PEN gs_cont_pen
!!!!if nb*tb>a then nb=int((a+0.002)/(tb+0.002))

nb=INT(a/(tb+gs_mor_th))
gs_mor_th2=(a-(nb*tb))/(nb-1)
dx=tb+gs_mor_th2		!!(a-nb*tb)/(nb-1)


material gs_brick_mat

rotx 90
for i=0 to nb-1 step 1
	prism_ 5, b,
			-a/2+i*dx, 0, 15,
			-a/2+tb+i*dx, 0, 15,
			-a/2+tb+i*dx, lb, 15,
			-a/2+i*dx, lb, 15,
			-a/2+i*dx, 0, -1

next i

if (a-nb*tb)<0.0001 then end

material gs_mortar_mat
for i=1 to nb-1 step 1
	prism_ 5, b-mft,
			-a/2+tb+(i-1)*dx, 0, 15,
			-a/2+tb+(i-1)*dx, lb, 15,
			-a/2+i*dx, lb, 15,
			-a/2+i*dx, 0, 15,
			-a/2+tb+(i-1)*dx, 0, -1
next i




