
!!Architrave 02.gsm

pen gs_cont_pen
if gs_detlevel_3D_m = DLEV3D_OFF then end

IF gs_shadow=0 THEN SHADOW OFF
IF gs_shadow=1 THEN SHADOW ON

c=zzyzx

!!---- Hotspot Editing
unID=1
hotspot 0, 0, 0, unID : unID=unID+1

!!---- Width Editing
hotspot 0, 0, 0, unID, A2, 1+128, A : unID=unID+1
hotspot -1, 0, 0, unID, A2, 3, A : unID=unID+1
hotspot A2, 0, 0, unID, A2, 2, A : unID=unID+1

hotspot 0, 0, 0, unID, A2, 1+128, A : unID=unID+1
hotspot 1, 0, 0, unID, A2, 3, A : unID=unID+1
hotspot -A2, 0, 0, unID, A2, 2, A : unID=unID+1

hotspot 0, 0, zzyzx, unID, A2, 1+128, A : unID=unID+1
hotspot -1, 0, zzyzx, unID, A2, 3, A : unID=unID+1
hotspot A2, 0, zzyzx, unID, A2, 2, A : unID=unID+1

hotspot 0, 0, zzyzx, unID, A2, 1+128, A : unID=unID+1
hotspot 1, 0, zzyzx, unID, A2, 3, A : unID=unID+1
hotspot -A2, 0, zzyzx, unID, A2, 2, A : unID=unID+1

!!---- Height Editing
hotspot A2, 0, 0, unID, zzyzx, 1+128 : unID=unID+1
hotspot A2, 0, -1, unID, zzyzx, 3 : unID=unID+1
hotspot A2, 0, zzyzx, unID, zzyzx, 2 : unID=unID+1

hotspot -A2, 0, 0, unID, zzyzx, 1+128 : unID=unID+1
hotspot -A2, 0, -1, unID, zzyzx, 3 : unID=unID+1
hotspot -A2, 0, zzyzx, unID, zzyzx, 2 : unID=unID+1

!!---- Jamb Trim Width Editing
hotspot A2, 0, -isw, unID, ijw, 1+128 : unID=unID+1
hotspot A2-1, 0, -isw, unID, ijw, 3 : unID=unID+1
hotspot A2+ijw, 0, -isw, unID, ijw, 2 : unID=unID+1

hotspot -A2, 0, -isw, unID, ijw, 1+128 : unID=unID+1
hotspot -A2+1, 0, -isw, unID, ijw, 3 : unID=unID+1
hotspot -A2-ijw, 0, -isw, unID, ijw, 2 : unID=unID+1

hotspot A2, 0, zzyzx+ihw, unID, ijw, 1+128 : unID=unID+1
hotspot A2-1, 0, zzyzx+ihw, unID, ijw, 3 : unID=unID+1
hotspot A2+ijw, 0, zzyzx+ihw, unID, ijw, 2 : unID=unID+1

hotspot -A2, 0, zzyzx+ihw, unID, ijw, 1+128 : unID=unID+1
hotspot -A2+1, 0, zzyzx+ihw, unID, ijw, 3 : unID=unID+1
hotspot -A2-ijw, 0, zzyzx+ihw, unID, ijw, 2 : unID=unID+1

!!---- Sill Trim Width Editing
hotspot A2+ijw, 0, 0, unID, isw, 1+128 : unID=unID+1
hotspot A2+ijw, 0, 1, unID, isw, 3 : unID=unID+1
hotspot A2+ijw, 0, -isw, unID, isw, 2 : unID=unID+1

hotspot -A2-ijw, 0, 0, unID, isw, 1+128 : unID=unID+1
hotspot -A2-ijw, 0, 1, unID, isw, 3 : unID=unID+1
hotspot -A2-ijw, 0, -isw, unID, isw, 2 : unID=unID+1

!!---- Head Trim Width Editing
hotspot A2+ijw, 0, zzyzx, unID, ihw, 1+128 : unID=unID+1
hotspot A2+ijw, 0, zzyzx-1, unID, ihw, 3 : unID=unID+1
hotspot A2+ijw, 0, zzyzx+ihw, unID, ihw, 2 : unID=unID+1

hotspot -A2-ijw, 0, zzyzx, unID, ihw, 1+128 : unID=unID+1
hotspot -A2-ijw, 0, zzyzx-1, unID, ihw, 3 : unID=unID+1
hotspot -A2-ijw, 0, zzyzx+ihw, unID, ihw, 2 : unID=unID+1

!!---- Top Height Editing
if iFrameType <> FRAMETYPE_2 then
	hotspot 0, 0, zzyzx+ihw, unID, th, 1+128 : unID=unID+1
	hotspot 0, 0, zzyzx+ihw-1, unID, th, 3 : unID=unID+1
	hotspot 0, 0, zzyzx+ihw+th, unID, th, 2 : unID=unID+1
endif

ADD -a/2-ijw,0,0		!! Drag to Origo

if iFrameType = FRAMETYPE_1 and st = 1 then goto 20
if iFrameType = FRAMETYPE_2 and st = 1 then goto 10
if iFrameType = FRAMETYPE_3 and st = 1 then goto 30
if iFrameType = FRAMETYPE_1 and st = 0 then goto 50
if iFrameType = FRAMETYPE_2 and st = 0 then goto 40
if iFrameType = FRAMETYPE_3 and st = 0 then goto 60

end

10:
rotx 90
addx ijw
material gs_trim_mat
prism_ 10,b,
-ijw,-isw,15,
a+ijw,-isw,15,
a+ijw,c+ihw,15,
-ijw,c+ihw,15,
-ijw,-isw,-1,
0,0,15,
a,0,15,
a,c,15,
0,c,15,
0,0,-1
del 3
end


20:

rotx 90
addx ijw
material gs_trim_mat
prism_ 11,b,
-ijw,-isw,15,
a+ijw,-isw,15,
a+ijw,c+ihw,15,
a/2,c+ihw+th,15,
-ijw,c+ihw,15,
-ijw,-isw,-1,
0,0,15,
a,0,15,
a,c,15,
0,c,15,
0,0,-1
del 3
end



30:
RESOL gs_resol

if th>a/2+ijw then th=a/2+ijw-0.01
m=(((a/2+ijw)*(a/2+ijw))-(th*th))/(2*th)
alfa=2*ATN((a/2+ijw)/m)

rotx 90
addx ijw
material gs_trim_mat
prism_ 13,b,
-ijw,-isw,15,
a+ijw,-isw,15,
a+ijw,c+ihw-0.0001,15,
a+ijw,c+ihw,79,

a/2,c+ihw-m,900,
0,alfa,4000,

-ijw,c+ihw,15,
-ijw,-isw,-1,
0,0,15,
a,0,15,
a,c,15,
0,c,15,
0,0,-1
del 3
end

40:
rotx 90
addx ijw
material gs_trim_mat
prism_ 9,b,
-ijw,0,15,
0,0,15,
0,c,15,
a,c,15,
a,0,15,
a+ijw,0,15,
a+ijw,c+ihw,15,
-ijw,c+ihw,15,
-ijw,0,-1
del 3
end


50:
rotx 90
addx ijw
material gs_trim_mat
prism_ 10,b,
-ijw,0,15,
0,0,15,
0,c,15,
a,c,15,
a,0,15,
a+ijw,0,15,
a+ijw,c+ihw,15,
a/2,c+ihw+th,15,
-ijw,c+ihw,15,
-ijw,0,-1
del 3
end


60:
RESOL gs_resol

if th>a/2+ijw then th=a/2+ijw-0.01
m=(((a/2+ijw)*(a/2+ijw))-(th*th))/(2*th)
alfa=2*ATN((a/2+ijw)/m)

rotx 90
addx ijw
material gs_trim_mat
prism_ 12,b,
-ijw,0,15,
0,0,15,
0,c,15,
a,c,15,
a,0,15,
a+ijw,0,15,
a+ijw,c+ihw-0.0001,15,
a+ijw,c+ihw,79,

a/2,c+ihw-m,900,
0,alfa,4000,

-ijw,c+ihw,15,
-ijw,0,-1
del 3
end
