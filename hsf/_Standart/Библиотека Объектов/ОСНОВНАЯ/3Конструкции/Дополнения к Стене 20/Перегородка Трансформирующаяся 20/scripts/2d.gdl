
!! Movable Wall.gsm

pen gs_cont_pen

!!---- Hotspot Editing
unID=1

hotspot2 0,0,unID,a,1+256 : unID=unID+1
hotspot2 0,0,unID,a,3 : unID=unID+1
hotspot2 a,0,unID,a,2 : unID=unID+1

1:
!!nu=int (a/pw)
!!pw2=a-(nu*pw)
!!if a<=pw then pw=a
!!if nu<1 then nu=1

line_type gs_line_type
add2 0,-0.03
rect2 0,0,a,0.06
line_type gs_axis_line
line2 0,0.03,a,0.03
hotspot2 0,0.03
hotspot2 a,0.03
del 1

!fill gs_fill_type

line_type 1
if iPanelPosition = POS_PARKED then goto 10
if iPanelPosition = POS_PARTLYCLOSED then goto 20
if iPanelPosition = POS_CLOSED then goto 30


10:
rot2 90
add2 -pw/2,-pt
hotspot2 0,pt
hotspot2 pw,pt

for t=1 to np

	 !! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR

	hotspot2 pw/2,pt/2
	hotspot2 0,pt/2
	hotspot2 pw,pt/2
	add2 0,-pt-0.03
next t

end


20:
mul2 1,-1
rot2 90
add2 -pw/2,-pt


nn=np-3
if nn<1 then nn=1
for t=1 to nn

		 !! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR

hotspot2 pw/2,pt/2
hotspot2 0,pt/2
hotspot2 pw,pt/2
add2 0,-pt-0.03
next t

if np>=2 then
add2 0,pt-pt*cos(30)
add2 pw*(1-cos(30))/2,0
add2 -pt*sin(30)/2,0
rot2 -30

	!! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR

hotspot2 pw/2,pt/2
hotspot2 0,pt/2
hotspot2 pw,pt/2
del 3
endif


if np>=3 then
add2  0,-pw*sin(30)-pt*cos(45)-0.03
add2 pw*(1-cos(45))/2,0
add2 -pt*sin(45)/2,0
rot2 -45

	 !! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR

hotspot2 pw/2,pt/2
hotspot2 0,pt/2
hotspot2 pw,pt/2
del 3
endif

if np>=4 then
add2 0,-pw*sin(45)-pt*cos(60)-0.03
add2 pw*(1-cos(60))/2,0
add2 -pt*sin(60)/2,0
rot2 -60

		!! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR
hotspot2 pw/2,pt/2
hotspot2 0,pt/2
hotspot2 pw,pt/2
del 3
endif



if np<2 then al=0
if np>=2 then al=30
if np>=3 then al=45
if np>=4 then al=60


if pw2 >0 and a>pw then
	add2 0, -pw*sin(al)-pt*cos(al+15)-0.03+sin(al+15)*(pw-pw2)/2
	add2 pw*(1-cos(al+15))/2,0
	add2 -pt*sin(al+15)/2,0
	rot2 -(al+15)
	add2 (pw-pw2)/2,0

	 !! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw,0,1,
			pw,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw,pt     !! CONTOUR

	hotspot2 0,pt/2
	hotspot2 pw2,pt/2
	hotspot2 pw2/2,pt/2
endif

end
30:
add2 0,-pt/2

hotspot2 0,pt
hotspot2 0,0

for t=1 to np

		!! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw-0.01,0,1,
			pw-0.01,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw-0.01,pt     !! CONTOUR

hotspot2 pw,pt
hotspot2 pw,0
add2 pw,0
next t
if pw2 >0 and a>pw then

	  !! FILL
		FILL gs_fill_type
		poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
			0,0,1,
			pw2,0,1,
			pw2,pt,1,
			0,pt,1,
			0,0,-1


	rect2 0,0,pw2,pt     !! CONTOUR

hotspot2 pw2,pt
hotspot2 pw2,0
endif


end

