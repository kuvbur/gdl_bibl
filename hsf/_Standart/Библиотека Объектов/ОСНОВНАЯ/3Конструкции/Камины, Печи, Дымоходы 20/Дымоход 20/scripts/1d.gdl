
! ==============================================================================
! prefabChimney_m
! ==============================================================================

EPS = 0.0001

! iSymbolType
SYMBOL_STYLE1	= 1
SYMBOL_STYLE2	= 2

dim	stSymbolType[2]
	stSymbolType[1]	= `Стиль 1`
	stSymbolType[2]	= `Стиль 2`


_flueRadius		= flueDia/2
_instFullThk	= bInstallArea * installAreaDist + flueThickness
_flueFullRadius	= _flueRadius + flueThickness
_unitHeight		= _flueFullRadius * 2

clDoorProfileThk = 0.005
clDoorWidth1 = _unitHeight - 6 * clDoorProfileThk
clDoorHeight = _unitHeight - 6 * clDoorProfileThk

coneHeight = 0
blockHeight = ZZYZX
if bShowCap then
	coneHeight = 0.15
	blockHeight = ZZYZX - coneHeight - 0.00
endif

nPrefabUnit = (int(ZZYZX/_unitHeight))
nSmokeConMax = nPrefabUnit - 2 - 2 * bBottomDoor - bTopDoor

_nPrefabUnitMIN = nSmokeCon + 1 + bTopDoor + bBottomDoor

! ==============================================================================
! MEP
! ==============================================================================

isavailable = 0
isInArchiCAD = APPLICATION_QUERY ("MEPMODELER", "IsAvailable()", isavailable)
isMEPEnabled = (isavailable OR isInArchiCAD = 0)
if isMEPEnabled then
	bShowMEP = 1
	reqBMep = 0
	success = LIBRARYGLOBAL ("LibraryGlobals13", "showMepConnect", reqBMep)
	if success > 0 then
		bShowMEP = reqBMep
	endif
else
	bShowMEP = 0
endif

dim zSmokePos[10]
zSmokePos[1] = ConPosZ_1
zSmokePos[2] = ConPosZ_2
zSmokePos[3] = ConPosZ_3
zSmokePos[4] = ConPosZ_4
zSmokePos[5] = ConPosZ_5
zSmokePos[6] = ConPosZ_6
zSmokePos[7] = ConPosZ_7
zSmokePos[8] = ConPosZ_8
zSmokePos[9] = ConPosZ_9
zSmokePos[10] = ConPosZ_10

dim smokeAngle[10]
smokeAngle[1] = smokeAngle_1
smokeAngle[2] = smokeAngle_2
smokeAngle[3] = smokeAngle_3
smokeAngle[4] = smokeAngle_4
smokeAngle[5] = smokeAngle_5
smokeAngle[6] = smokeAngle_6
smokeAngle[7] = smokeAngle_7
smokeAngle[8] = smokeAngle_8
smokeAngle[9] = smokeAngle_9
smokeAngle[10] = smokeAngle_10
