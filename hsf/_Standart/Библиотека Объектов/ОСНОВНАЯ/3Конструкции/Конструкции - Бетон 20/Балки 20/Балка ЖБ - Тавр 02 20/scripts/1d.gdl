
!iObjectCode
PRE_BEAM_INV_T 	= 8

rrr = request("Working_length_unit", "", w_units_form)
bMetricDimension = strstr(w_units_form, "m")             ! m, cm, mm

! const values for parameter: gs_detlevel_3D_m
DLEV3D_OFF      = 0
DLEV3D_SIMPLE   = 1
DLEV3D_DETAILED = 2


! const values for parameter: iDet2D
DETLEVEL_2D_SIMPLE   = 1
DETLEVEL_2D_DETAILED = 2

EPS=0.0001

! *** Cross-section Data ***
PUT zzyzx, itee_w1, itee_w2, itee_h1

if NSP>0 then
	zz= GET (1)
	w1= GET (1)
	w2= GET (1)
	h1= GET (1)
	zzyzx= zz
	PARAMETERS zzyzx=zz
	PARAMETERS b=w1
	b= MAX (w1, w2)
	PUT 4
	PUT -w1/2+0.001, 0, 1,
		-w1/2+0.001, zz-h1, 1,
		-w2/2, zz-h1, 1,
		-w2/2, zz, 1
endif

! *** Contour mirroring ***
DIM xy[][3]

IF NSP>0 THEN
	nn= GET (1)
	FOR w=1 TO nn
		xx= GET (1)
		yy= GET (1)
		msk= GET (1)
		PUT xx, yy, msk
		xy[w][1]= -xx
		xy[w][2]= yy
		xy[w][3]= msk
	NEXT w

	FOR w=nn TO 1 STEP -1
		PUT xy[w][1], xy[w][2], xy[w][3]
	NEXT w
ENDIF
