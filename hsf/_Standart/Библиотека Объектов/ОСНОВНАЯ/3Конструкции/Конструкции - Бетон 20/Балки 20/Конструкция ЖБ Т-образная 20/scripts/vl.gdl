
hideparameter all ”A”, ”B”, ”Zzyzx” 

call "FM_types" parameters all

if GLOB_MODPAR_NAME = "bTopping" then
	if not(bTopping) then
		parameters dtee_top_th = 0
		lock "dtee_top_th"
	else
		parameters dtee_top_th = 0.030
	endif
endif

values{2} "gs_detlevel_3D_m" 	DLEV3D_DETAILED, `Детальный`,
								DLEV3D_OFF, `Откл.`
values{2} "iDet2D" 	DETLEVEL_2D_DETAILED, `Детальный`,
					DETLEVEL_2D_SIMPLE, `Простой`

VALUES "a" RANGE (0.3, )
VALUES "b" RANGE [stee_th+0.1, )
VALUES "stee_th" RANGE [0.05, b/2]
VALUES "stee_h4" RANGE [0.02, ZZYZX-0.1)
VALUES "stee_h2" RANGE [0.02, b/6]
VALUES "zzyzx" RANGE [MAX (0.15, stee_h4+stee_h2+(b/2-stee_th/2-stee_h2)/14), )
VALUES "stee_th2" RANGE [0.05/2, b/4]

if LibraryLangCode = "USA" then
	VALUES "stee_sectype" "10STxx",
		"Custom"

	if stee_sectype="10STxx" then
		VALUES "stee_type" "10ST12", "10ST16",
				"10ST20", "10ST24", "10ST28", "10ST32",
				"10ST36", "10ST40", "10ST44", "10ST48"
	else
		lock "stee_type"
	endif

	if GLOB_MODPAR_NAME = "stee_type" or GLOB_MODPAR_NAME = "stee_sectype" then
		if stee_sectype="10STxx" then
			if stee_type="10ST12" then zzyzx = 12"
			if stee_type="10ST16" then zzyzx = 16"
			if stee_type="10ST20" then zzyzx = 20"
			if stee_type="10ST24" then zzyzx = 24"
			if stee_type="10ST28" then zzyzx = 28"
			if stee_type="10ST32" then zzyzx = 32"
			if stee_type="10ST36" then zzyzx = 36"
			if stee_type="10ST40" then zzyzx = 40"
			if stee_type="10ST44" then zzyzx = 44"
			if stee_type="10ST48" then zzyzx = 48"
			b = 10'
			stee_th = 8"
			stee_h2 = 3"
			stee_h4 = 1.5"
			parameters zzyzx = zzyzx, b = b, stee_th = stee_th, stee_h2 = stee_h2, stee_h4 = stee_h4
		endif
	endif

	! set back to custom if main parameters are changed
	if stee_sectype <> "Custom" then
		if GLOB_MODPAR_NAME = "ZZYZX" or GLOB_MODPAR_NAME = "B" or GLOB_MODPAR_NAME = "stee_th" or \
			GLOB_MODPAR_NAME = "stee_h2" or GLOB_MODPAR_NAME = "stee_h4" then
			stee_sectype = "Custom"
			parameters stee_sectype = stee_sectype
		endif
	endif
else
	hideparameter "stee_sectype", "stee_type"
endif

VALUES "pos_2Dx" RANGE (zzyzx, a)

VALUES "dtee_top_th" RANGE [0,)

if not(axis) then
	parameters only_axis=0
	lock "only_axis", "axis_line_type", "axis_pen"
endif
if not(showsect) then
	lock "cross_fill"
endif
if axis and only_axis then
	lock	"gs_fill_type",
				"gs_fill_pen",
				"gs_back_pen",
				"showsect",
				"cross_fill",
				"iDet2D",
				"DetailLineType",
				"gs_cont_pen"
endif

if iDet2D = DETLEVEL_2D_SIMPLE then
	lock "DetailLineType"
endif

FOR w=1 TO NSP/3
	PUT GET (2)
	qq= GET (1)
NEXT w
IF NSP>0 THEN
	PUT 1
	PUT GET (NSP-1)
ENDIF

IF GLOB_MODPAR_NAME ="stee_th" THEN PARAMETERS stee_th2=stee_th/2
IF GLOB_MODPAR_NAME ="stee_th2" THEN PARAMETERS stee_th=stee_th2*2

IF gs_cont_pen = 0 then parameters gs_cont_pen = 10
IF gs_fill_pen = 0 then parameters gs_fill_pen = 19

es_length=a
es_surface = b*(stee_h4+zzyzx-stee_h4-stee_h2-((b-stee_th)/2-stee_h2)/14)/2! + stee_h2^2 + (stee_h2+zzyzx-stee_h4-((b-stee_th)/2-stee_h2)/14)*stee_th
es_volume = es_surface*es_length
PARAMETERS es_length=es_length,
		   es_surface = es_surface,
		   es_volume = es_volume

CALL "Precast_quantity_calc" parameters A = A,
	bMetricDimension = bMetricDimension,
	es_density		= es_density,
	es_density_us	= es_density_us,
	es_volume		= es_volume,
	es_surface		= es_surface
