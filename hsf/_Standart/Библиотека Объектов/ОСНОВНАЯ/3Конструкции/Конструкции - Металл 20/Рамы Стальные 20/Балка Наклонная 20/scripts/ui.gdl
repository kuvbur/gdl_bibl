
! =============================================================================
! Tabpage Structure Definition
! =============================================================================

TABID_ROOT 			= -1
_idxTab 			= 1
TABID_DIMENSION 	= _idxTab : _idxTab = _idxTab + 1
TABID_SEGMENT	 	= _idxTab : _idxTab = _idxTab + 1
TABID_REPRES 		= _idxTab : _idxTab = _idxTab + 1
TABID_DESCRIPTIONS 	= _idxTab : _idxTab = _idxTab + 1

! =============================================================================
! Display actual tabpages
! =============================================================================

ui_dialog `Параметры Стальной Рамы`
ui_current_page gs_ui_current_page

ui_page TABID_DIMENSION, TABID_ROOT , `Размеры`, "uiTab_Dimension_flat(1)"
gosub "dimensionPage"

ui_page TABID_SEGMENT, TABID_DIMENSION , `Сегменты`, "uiTab_Segments_flat(1)"
gosub "segmentPage"

ui_page TABID_REPRES, TABID_ROOT, `Отображение и Покрытия`, "uiTab_2DRepr_flat(1)"
gosub "AppearancePage"

ui_page TABID_DESCRIPTIONS, TABID_ROOT, `Описание`, "uiTab_Descriptions_flat(1)"
gosub "descriptionPage"

! =============================================================================
end
! =============================================================================

! --------------------------------------------------------------------------------
! Subroutines
! --------------------------------------------------------------------------------

! --------------------------------------------------------------------------------
"dimensionPage":
! --------------------------------------------------------------------------------
	x1 = 0
	x2 = 170
	x3 = 180
	x4 = x2 + 70
	x5 = x2 + 200	!200 (Style Guide => fillTypeInfLenght)
	x6 = 400
	x7 = 408
	xEnd = 444
	
	outfieldHeight		= 15
	infieldHeight 		= 19
	
	dy 					= 24
	yEnd 				= 266
	pageStartY			= 0
	yCurrent 			= pageStartY + 1
	
	ui_style 0, 0

	ui_outfield	`Количество Сегментов` ,x1,    yCurrent+4, 	x2 - 2,	outfieldHeight	
	ui_infield "numofbeam", 	 x3,   yCurrent, 	x4 - x3, infieldHeight

		UI_PICT_BUTTON UI_FUNCTION, "", "uiFunctionSegment_flat(1)", x4+5, yCurrent-1, xEnd-x7, infieldHeight+2, 1 
	yCurrent = yCurrent + dy

	ui_infield{3} "sp", 	 x1,   yCurrent, 	x4-x1, infieldHeight,
			7, "",
			0, 0,
			0, 0, 0, 0,
			"", `Торцевая Пластина 1`, 0,
			"", `Торцевая Пластина 1`, 1

	yCurrent = yCurrent + dy

	ui_infield{3} "ep", 	 x1,   yCurrent, 	xEnd-x1, infieldHeight,
			7, "",
			0, 0,
			0, 0, 0, 0,
			"", `Торцевая Пластина 2`, 0,
			"", `Торцевая Пластина 2`, 1

	yCurrent = yCurrent + dy

	ui_separator 0, yCurrent, xEnd, yCurrent

	uiPictX = 315
	uiPictY = 3
	uiPictWdt = 32
	uiPictHgt = 39
	uiPictMargin = 5
	uiPictInfWdt = 90
	infieldHeight 		= 19

	uiPicLeftStart = uiPictX - uiPictInfWdt - uiPictMargin
	uiPicLeftEND = uiPicLeftStart - uiPictMargin

	uiPicTop = uiPictY - uiPictMargin - infieldHeight + 3

	uiPicBelow = uiPictY + uiPictHgt + uiPictMargin

	uiPicRightStart = uiPictX + uiPictWdt  + uiPictMargin


	UI_PICT 1, uiPictX, uiPictY, uiPictWdt , uiPictHgt, 1 !"PreCol"

	ui_infield "dw", uiPicRightStart, uiPictY-2, uiPictInfWdt, infieldHeight UI_TOOLTIP `Толщина Стенки`

	ui_infield "dp", uiPicRightStart, uiPictY+20, uiPictInfWdt, infieldHeight UI_TOOLTIP `Толщина Полки`

	uiPictX = 70
	uiPictY = yCurrent + 50
	uiPictWdt = 214
	uiPictHgt = 83
	uiPictMargin = 5
	uiPictInfWdt = 90

	uiPicLeftStart = uiPictX - uiPictInfWdt - uiPictMargin
	uiPicLeftEND = uiPicLeftStart - uiPictMargin

	uiPicTop = uiPictY - uiPictMargin - infieldHeight + 3

	uiPicBelow = uiPictY + uiPictHgt + uiPictMargin

	uiPicRightStart = uiPictX + uiPictWdt  + uiPictMargin

	UI_PICT 2, uiPictX, uiPictY, uiPictWdt , uiPictHgt, 1 !"PreCol"

	ui_infield "ang", uiPicRightStart, uiPictY-5, uiPictInfWdt, infieldHeight UI_TOOLTIP `Угол Крыши`

	ui_infield "rh", uiPicRightStart, uiPictY+25, uiPictInfWdt, infieldHeight UI_TOOLTIP `Высота Наклона Справа`




return
! ------------------------------------------------------------------------------
"segmentPage":
! ------------------------------------------------------------------------------

	uiPictX = 45
	uiPictY = 5
	uiPictWdt = 355
	uiPictHgt = 66
	uiPictMargin = 5
	uiPictInfWdt = 90

	xEnd = 444
	yEnd = 266


	uiPicLeftStart = uiPictX - uiPictInfWdt - uiPictMargin
	uiPicLeftEND = uiPicLeftStart - uiPictMargin

	uiPicTop = uiPictY - uiPictMargin - infieldHeight + 3

	uiPicBelow = uiPictY + uiPictHgt + uiPictMargin

	uiPicRightStart = uiPictX + uiPictWdt  + uiPictMargin

	UI_PICT 3, uiPictX, uiPictY, uiPictWdt , uiPictHgt, 1 !"PreCol"

	listFieldPosY = uiPictY + uiPictHgt + uiPictMargin 
	dim stSectNames[11]
		stSectNames[1] = "numofbeam"
		stSectNames[2] = "hs"
		stSectNames[3] = "h1"
		stSectNames[4] = "h2"
		stSectNames[5] = "h3"
		stSectNames[6] = "h4"
		stSectNames[7] = "h5"
		stSectNames[8] = "h6"
		stSectNames[9] = "h7"
		stSectNames[10] = "h8"
		stSectNames[11] = "he"

	dim	stSectLenNames[8]
		stSectLenNames[1] = "b1p"
		stSectLenNames[2] = "b2p"
		stSectLenNames[3] = "b3p"
		stSectLenNames[4] = "b4p"
		stSectLenNames[5] = "b5p"
		stSectLenNames[6] = "b6p"
		stSectLenNames[7] = "b7p"
		stSectLenNames[8] = "b8p"

	call "ui_steelFrameSect_m" parameters all bShowIconColumn = 0,
										listfieldID = TABID_SEGMENT,
										listFieldPosY = listFieldPosY,
										listFieldHeight = yEnd-listFieldPosY,
										stDescHeader = "",
										sectNum = numofbeam,
										stSectNames= stSectNames,
										stSectLenNames= stSectLenNames
return


! ------------------------------------------------------------------------------
"AppearancePage":
! ------------------------------------------------------------------------------

	dim st2DParamNames[10][2]
		st2DParamNames[1][1] = "gs_detlevel_2D" 		: st2DParamNames[1][2] = "ui_list_detailLevel2D_flat(1)"
		st2DParamNames[2][1] = "DetailLineType" 		: st2DParamNames[2][2] = "ui_list_contLineType_flat(1)"
		st2DParamNames[3][1] = "axis" 					: st2DParamNames[3][2] = "ui_list_axis2D_flat(1)"
		st2DParamNames[4][1] = "only_axis" 				: st2DParamNames[4][2] = "ui_list_axis2D_flat(1)"
		st2DParamNames[5][1] = "axis_line_type" 		: st2DParamNames[5][2] = "ui_list_axisLineType_flat(1)"
		st2DParamNames[6][1] = "axis_pen" 				: st2DParamNames[6][2] = "ui_list_axisLinePen_flat(1)"
		st2DParamNames[7][1] = "gs_cont_pen" 			: st2DParamNames[7][2] = "ui_list_contourPen_flat(1)"
		st2DParamNames[8][1] = "gs_fill_type" 			: st2DParamNames[8][2] = "ui_list_fillType_flat(1)"
		st2DParamNames[9][1] = "gs_fill_pen" 			: st2DParamNames[9][2] = "ui_list_fillPen_flat(1)"
		st2DParamNames[10][1] = "gs_back_pen" 			: st2DParamNames[10][2] = "ui_list_fillBgPen_flat(1)"

	dim st3DParamNames[2][2]
		st3DParamNames[1][1] = "gs_detlevel_3D"		: st3DParamNames[1][2] = "ui_list_detailLevel3D_flat(1)"
		st3DParamNames[2][1] = "gs_shadow"			: st3DParamNames[2][2] = "ui_list_shadow_flat(1)"

	dim stSurfaceParamNames[1][2]
		stSurfaceParamNames[1][1] = "gs_ibeam_mat"		: stSurfaceParamNames[1][2] = "ui_list_surface_flat(1)"	


	call "ui_structure_Representation" parameters all bDraw2DGroupList = 1,
										bShowIconColumn = 1,
										listfieldID = TABID_REPRES,
										listFieldPosY = 0,
										listFieldHeight = 265,
										stDescHeader = "",
										stValueHeader = "",
										st2DParamNames = st2DParamNames,
										st3DParamNames = st3DParamNames,
										stSurfaceParamNames = stSurfaceParamNames

	! --------------------------------------------------------------------------------
	! image list for archive
	! --------------------------------------------------------------------------------
	file_dependence "ui_list_detailLevel2D_flat(1)"
	file_dependence "ui_list_contLineType_flat(1)"
	file_dependence "ui_list_contourPen_flat(1)"
	file_dependence "ui_list_fillType_flat(1)"
	file_dependence "ui_list_fillPen_flat(1)"
	file_dependence "ui_list_fillBgPen_flat(1)"
	file_dependence "ui_list_detailLevel3D_flat(1)"
	file_dependence "ui_list_shadow_flat(1)"
	file_dependence "ui_list_surface_flat(1)"
	file_dependence "ui_list_axis2D_flat(1)"
	file_dependence "ui_list_axisLineType_flat(1)"
	file_dependence "ui_list_axisLinePen_flat(1)"

return

! ------------------------------------------------------------------------------
"descriptionPage":
! ------------------------------------------------------------------------------

	dim stParamNames[16]
		stParamNames[1] = "gs_list_cost"
		stParamNames[2] = "gs_list_manufacturer"
		stParamNames[3] = "gs_list_note"
		stParamNames[4] = "gs_list_location"
		stParamNames[5] = "gs_list_accessories"
		stParamNames[6] = "FM_Type"
		stParamNames[7] = "FM_InventoryNumber"
		stParamNames[8] = "FM_SerialNumber"
		stParamNames[9] = "FM_ProductionYear"
		stParamNames[10] = "FM_ObjectWeight"
		stParamNames[11] = "FM_ObjectWeightUnit"
		stParamNames[12] = "gs_list_custom1"
		stParamNames[13] = "gs_list_custom2"
		stParamNames[14] = "gs_list_custom3"
		stParamNames[15] = "gs_list_custom4"
		stParamNames[16] = "gs_list_custom5"

	call "ui_structure_listing" parameters all listfieldID = TABID_DESCRIPTIONS,
										bProp = 0,
										listFieldPosY = 0,
										listFieldHeight = 265,
										stDescHeader = "",
										stValueHeader = "",
										stParamNames = stParamNames
return
