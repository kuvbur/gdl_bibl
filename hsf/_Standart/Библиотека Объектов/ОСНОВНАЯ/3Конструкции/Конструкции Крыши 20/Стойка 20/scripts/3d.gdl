
! ==============================================================================
! 2D Display Options
! ==============================================================================

!gs_2D_projection_type:
!	0 - Normal 3D
!	1 - View Edges
!	2 - View Polygons
!	3 - Overhead Edges
!	4 - Cut Lines
!	5 - Cut Polygons
!	6 - Bottom Range Cut Lines
!	7 - Top Range Cut Lines

if gs_2D_projection then
	if AC_symb_show_projection_to = 1 | (AC_symb_show_projection_to = 2 & gs_bottom_range_height < gs_cutplane_height) then
		addz gs_bottom_range_height
		cutplane{2} 180, 2
		del 1
	endif
	if gs_2D_projection_type <> 6 then
		addz gs_cutplane_height
		cutplane{2} 180 * (gs_2D_projection_type = 3), 1
		del 1
	endif
	if AC_symb_show_projection_to <> 3 then
		addz gs_top_range_height
		cutplane{2} 0, 2
		del 1
	endif
endif

! ==============================================================================

if not(gs_2D_projection) & gs_detlevel_3D_m = 0 then goto 100	! END

if	not(gs_shadow)	then shadow off
if		gs_shadow	then shadow on

pen gs_cont_pen
material mat1

ZZ1 = A/2 * tan(schneid1)
ZZ2 = A/2 * tan(schneid2)

rotx 90
addz -B/2

base

prism 4, B,
	-A/2,	-A/2 * tan(schneid1),
	 A/2,	 A/2 * tan(schneid1),
	 A/2,	ZZYZX + A/2 * tan(schneid2),
	-A/2,	ZZYZX - A/2 * tan(schneid2)

vert 1, 1, 0

vert 1, 0, 0
vert 0, 1, 0
vert 0, 0, 1

coor 2, -1, -2, -3, -4
body 1

del 2


unID = 1

!!! *** HEIGHT

HOTSPOT 0,0,0,unID, ZZYZX,1+256 : unID=unID+1
HOTSPOT 0,0,-1,unID, ZZYZX,3 : unID=unID+1
HOTSPOT 0,0,ZZYZX,unID, ZZYZX,2 : unID=unID+1

!!! *** 1. Cutting Angle
L1=(a/2)/COS(schneid1)

	ROTy 90
		HOTSPOT 0, 0, 0, unID, temp_schneid1, 6, schneid1 : unID=unID+1
		HOTSPOT L1, 0, 0, unID, temp_schneid1, 4+128, schneid1 : unID=unID+1
		HOTSPOT L1*COS(temp_schneid1), 0, L1*SIN(temp_schneid1), unID, temp_schneid1, 5, schneid1 : unID=unID+1
	DEL 1

	ROTy -90
		HOTSPOT 0, 0, 0, unID, temp_schneid1, 6, schneid1 : unID=unID+1
		HOTSPOT L1, 0, 0, unID, temp_schneid1, 4+128, schneid1 : unID=unID+1
		HOTSPOT L1*COS(temp_schneid1), 0, L1*SIN(temp_schneid1), unID, temp_schneid1, 5, schneid1 : unID=unID+1
	DEL 1

!!! *** 2. Cutting Angle
L2=(a/2)/COS(schneid2)

	ADDz ZZYZX
	ROTy 90
		HOTSPOT 0, 0, 0, unID, temp_schneid2, 6, schneid2 : unID=unID+1
		HOTSPOT L2, 0, 0, unID, temp_schneid2, 4+128, schneid2 : unID=unID+1
		HOTSPOT L2*COS(temp_schneid2), 0, L2*SIN(temp_schneid2), unID, temp_schneid2, 5, schneid2 : unID=unID+1
	DEL 1

	ROTy -90
		HOTSPOT 0, 0, 0, unID, temp_schneid2, 6, schneid2 : unID=unID+1
		HOTSPOT L2, 0, 0, unID, temp_schneid2, 4+128, schneid2 : unID=unID+1
		HOTSPOT L2*COS(temp_schneid2), 0, L2*SIN(temp_schneid2), unID, temp_schneid2, 5, schneid2 : unID=unID+1
	DEL 2


D=1
E=1


HOTSPOT A/2, B/2,ZZ1*(D),unID=unID+1
HOTSPOT A/2, -B/2,ZZ1*(D),unID=unID+1

HOTSPOT -A/2, B/2,-ZZ1*(D),unID=unID+1
HOTSPOT -A/2, -B/2,-ZZ1*(D),unID=unID+1

HOTSPOT A/2, B/2,ZZYZX+ZZ2*(E),unID=unID+1
HOTSPOT A/2, -B/2,ZZYZX+ZZ2*(E),unID=unID+1

HOTSPOT -A/2, B/2,ZZYZX-ZZ2*(E),unID=unID+1
HOTSPOT -A/2, -B/2,ZZYZX-ZZ2*(E),unID=unID+1


100:
! ==============================================================================

if gs_2D_projection then
	if AC_symb_show_projection_to = 1 | (AC_symb_show_projection_to = 2 & gs_bottom_range_height < gs_cutplane_height) then cutend
	if gs_2D_projection_type <> 6 then cutend
	if AC_symb_show_projection_to <> 3 then cutend
endif

END
