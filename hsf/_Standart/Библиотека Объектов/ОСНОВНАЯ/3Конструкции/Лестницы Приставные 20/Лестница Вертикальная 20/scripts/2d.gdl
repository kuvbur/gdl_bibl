

cutplaneHeight	= GLOB_CSTORY_ELEV - GLOB_HSTORY_ELEV + GLOB_CUTPLANES_INFO[1]


PEN gs_cont_pen
FILL gs_fill_type

! --- CHECK for VISIBILITY ---

bShowTop = 1
if ((cutplaneHeight < ac_toplevel) & bStorySensitive) then bShowTop = 0


! --- HOTSPOTS -----------------------------------------------------------------
unID=1

HOTSPOT2 0,0,unID :unID=unID+1
HOTSPOT2 -a/2+0.013,-WallDist-sr_d/2,unID :unID=unID+1
HOTSPOT2 a/2-0.013,-WallDist-sr_d/2,unID :unID=unID+1

HOTSPOT2 0,0,unID,temp_RR,1+128, A:unID=unID+1
HOTSPOT2 -a/2,0,unID,temp_RR,2, A:unID=unID+1
HOTSPOT2 0,-1,unID,temp_RR,3, A:unID=unID+1

HOTSPOT2 0,0,unID,temp_RR,1+128, A:unID=unID+1
HOTSPOT2 a/2,0,unID,temp_RR,2, A:unID=unID+1
HOTSPOT2 0,1,unID,temp_RR,3, A:unID=unID+1


if iHeadConnType = HEADCONNTYPE_PLATFORM then
	if bShowTop then
		! --- Wall Thickness
		HOTSPOT2 -a/2, 0, unID, wallThickness, 1+256 : unID=unID+1
		HOTSPOT2  -a/2, -1, unID, wallThickness, 3 : unID=unID+1
		HOTSPOT2 -a/2, wallThickness,  unID, wallThickness, 2 : unID=unID+1

		HOTSPOT2 a/2, 0, unID, wallThickness, 1+256 : unID=unID+1
		HOTSPOT2  a/2, -1, unID, wallThickness, 3 : unID=unID+1
		HOTSPOT2 a/2, wallThickness,  unID, wallThickness, 2 : unID=unID+1

		HOTSPOT2 -a/2,wallThickness+WallDist+sr_d/2,unID :unID=unID+1
		HOTSPOT2 a/2,wallThickness+WallDist+sr_d/2,unID :unID=unID+1
	endif
endif


! --- SHAPE --------------------------------------------------------------------

if iHeadConnType = HEADCONNTYPE_PARAPET then
	if not(bShowTop) then
		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist+sr_d/2,1,
			-a/2,-WallDist+sr_d/2,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist+sr_d/2,1,
			a/2,-WallDist+sr_d/2,1
	else
		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-s_corr,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist+sr_d/2,1,
			-a/2-s_corr,-WallDist+sr_d/2,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+s_corr,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist+sr_d/2,1,
			a/2+s_corr,-WallDist+sr_d/2,1

		LINE2 -a/2-s_corr+sr_w,-WallDist-sr_d/2,-a/2-s_corr+sr_w,-WallDist+sr_d/2
		LINE2 a/2+s_corr-sr_w,-WallDist-sr_d/2,a/2+s_corr-sr_w,-WallDist+sr_d/2
	endif
endif

if iHeadConnType = HEADCONNTYPE_PLATFORM then
	if not(bShowTop) then
		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist+sr_d/2,1,
			-a/2,-WallDist+sr_d/2,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist+sr_d/2,1,
			a/2,-WallDist+sr_d/2,1
	else
		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2,-WallDist-sr_d/2,1,
			-a/2+sr_w,-WallDist-sr_d/2,1,
			-a/2+sr_w,wallThickness+WallDist+sr_d/2,1,
			-a/2,wallThickness+WallDist+sr_d/2,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2,-WallDist-sr_d/2,1,
			a/2-sr_w,-WallDist-sr_d/2,1,
			a/2-sr_w,wallThickness+WallDist+sr_d/2,1,
			a/2,wallThickness+WallDist+sr_d/2,1
	endif
endif

! --- Connection ---------------------------------------------------------------

if iHeadConnType = HEADCONNTYPE_PARAPET then
	if not(bShowTop) then
		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-f_w,0,1,
			-a/2-f_w,-h_w,1,
			-a/2-h_w,-h_w,1,
			-a/2-h_w,-WallDist-sr_d/2,1,
			-a/2,-WallDist-sr_d/2,1,
			-a/2,0,1

		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+f_w,0,1,
			a/2+f_w,-h_w,1,
			a/2+h_w,-h_w,1,
			a/2+h_w,-WallDist-sr_d/2,1,
			a/2,-WallDist-sr_d/2,1,
			a/2,0,1
	else
		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-f_w,0,1,
			-a/2-f_w,-h_w,1,
			-a/2-h_w,-h_w,1,
			-a/2-h_w,-WallDist+sr_d/2,1,
			-a/2,-WallDist+sr_d/2,1,
			-a/2,0,1

		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+f_w,0,1,
			a/2+f_w,-h_w,1,
			a/2+h_w,-h_w,1,
			a/2+h_w,-WallDist+sr_d/2,1,
			a/2,-WallDist+sr_d/2,1,
			a/2,0,1
	endif
endif

if iHeadConnType = HEADCONNTYPE_PLATFORM then
	if not(bShowTop) then
		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-f_w,0,1,
			-a/2-f_w,-h_w,1,
			-a/2-h_w,-h_w,1,
			-a/2-h_w,-WallDist-sr_d/2,1,
			-a/2,-WallDist-sr_d/2,1,
			-a/2,0,1

		POLY2_B 6, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+f_w,0,1,
			a/2+f_w,-h_w,1,
			a/2+h_w,-h_w,1,
			a/2+h_w,-WallDist-sr_d/2,1,
			a/2,-WallDist-sr_d/2,1,
			a/2,0,1
	else
		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-f_w,0,1,
			-a/2-f_w,-h_w,1,
			-a/2,-h_w,1,
			-a/2,0,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+f_w,0,1,
			a/2+f_w,-h_w,1,
			a/2,-h_w,1,
			a/2,0,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			-a/2-f_w,wallThickness,1,
			-a/2-f_w,wallThickness+h_w,1,
			-a/2,wallThickness+h_w,1,
			-a/2,wallThickness,1

		POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
			a/2+f_w,wallThickness,1,
			a/2+f_w,wallThickness+h_w,1,
			a/2,wallThickness+h_w,1,
			a/2,wallThickness,1
	endif
endif

! --- STEPS --------------------------------------------------------------------

POLY2_B 4, 1+2+4+64,gs_fill_pen, gs_back_pen,
	a/2-h_w,-WallDist-rw/2,1,
	a/2-h_w,-WallDist+rw/2,1,
	-a/2+h_w,-WallDist+rw/2,1,
	-a/2+h_w,-WallDist-rw/2,1

! --- Landing PLATFORM ---------------------------------------------------------

if iHeadConnType = HEADCONNTYPE_PLATFORM then
	if bShowTop then
		RECT2 -a/2+h_w+1",-WallDist,a/2-h_w-1",wallThickness+WallDist
	endif
endif



