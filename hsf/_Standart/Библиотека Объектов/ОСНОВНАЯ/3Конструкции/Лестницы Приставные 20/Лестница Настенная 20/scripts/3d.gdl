

IF gs_detlevel_3D_m = DLEV3D_OFF THEN END
IF gs_shadow=0 THEN SHADOW OFF

PEN gs_cont_pen
MATERIAL mat_ladder
RESOL 8

! HOTSPOTS
unID=1
HOTSPOT -a/2,0,0,unID    		:unID=unID+1
HOTSPOT a/2,0,0,unID    		:unID=unID+1
HOTSPOT -a/2,0,zzyzx,unID    	:unID=unID+1
HOTSPOT a/2,0,zzyzx,unID    	:unID=unID+1

! EDITABLE HOTSPOTS

HOTSPOT 0,0,0,unID,zzyzx,1+128   :unID=unID+1
HOTSPOT 0,0,-0.1,unID,zzyzx,3    :unID=unID+1
HOTSPOT 0,0,zzyzx,unID,zzyzx,2   :unID=unID+1

! SIDE RAILs

IF iLadderType = LADDERTYPE_FLATBAR THEN
	ADDz 4"
	FOR c=1 to n_con+1
		ADDz (c-1)*dY_c
		PRISM_ 6,4",
			-a/2-f_w,0,15,
			-a/2-f_w,-h_w,15,
			-a/2-h_w,-h_w,15,
			-a/2-h_w,-7"-sr_d/2,15,
			-a/2,-7"-sr_d/2,15,
			-a/2,0,15
		DEL 1
	NEXT c

	PRISM_ 4,zzyzx-4",
		-a/2,-7"+sr_d/2,15,
		-a/2+h_w,-7"+sr_d/2,15,
		-a/2+h_w,-7"-sr_d/2,15,
		-a/2,-7"-sr_d/2,15

	FOR c=1 to n_con+1
		ADDz (c-1)*dY_c
		PRISM_ 6,4",
			a/2+f_w,0,15,
			a/2+f_w,-h_w,15,
			a/2+h_w,-h_w,15,
			a/2+h_w,-7"-sr_d/2,15,
			a/2,-7"-sr_d/2,15,
			a/2,0,15
		DEL 1
	NEXT c

	PRISM_ 4,zzyzx-4",
		a/2,-7"+sr_d/2,15,
		a/2-h_w,-7"+sr_d/2,15,
		a/2-h_w,-7"-sr_d/2,15,
		a/2,-7"-sr_d/2,15
	DEL 1
ENDIF


IF iLadderType = LADDERTYPE_LSTEEL THEN
	ADDz 4"

	FOR c=1 to n_con+1
		ADDz (c-1)*dY_c
		PRISM_ 6,4",
			-a/2-f_w,0,15,
			-a/2-f_w,-h_w,15,
			-a/2-h_w,-h_w,15,
			-a/2-h_w,-7"-sr_d/2+h_w,15,
			-a/2,-7"-sr_d/2+h_w,15,
			-a/2,0,15
		DEL 1
	NEXT c

	PRISM_ 6,zzyzx-4",
		-a/2,-7"+sr_d/2,15,
		-a/2+h_w,-7"+sr_d/2,15,
		-a/2+h_w,-7"-sr_d/2,15,
		-a/2-sr_w,-7"-sr_d/2,15,
		-a/2-sr_w,-7"-sr_d/2+h_w,15,
		-a/2,-7"-sr_d/2+h_w,15

	FOR c=1 to n_con+1
		ADDz (c-1)*dY_c
		PRISM_ 6,4",
			a/2+f_w,0,15,
			a/2+f_w,-h_w,15,
			a/2+h_w,-h_w,15,
			a/2+h_w,-7"-sr_d/2+h_w,15,
			a/2,-7"-sr_d/2+h_w,15,
			a/2,0,15
		DEL 1
	NEXT c

	PRISM_ 6,zzyzx-4",
		a/2,-7"+sr_d/2,15,
		a/2-h_w,-7"+sr_d/2,15,
		a/2-h_w,-7"-sr_d/2,15,
		a/2+sr_w,-7"-sr_d/2,15,
		a/2+sr_w,-7"-sr_d/2+h_w,15,
		a/2,-7"-sr_d/2+h_w,15
	DEL 1
ENDIF

! STEPS

ADDz -rw

IF iLadderType = LADDERTYPE_FLATBAR or iLadderType = LADDERTYPE_LSTEEL THEN
	FOR s=1 to n_st
		ADDz RungDist

		PRISM_ 4,rw,
			-a/2+h_w,-7"-sr_d/4,15,
			-a/2+h_w,-7"+sr_d/4,15,
			a/2-h_w,-7"+sr_d/4,15,
			a/2-h_w,-7"-sr_d/4,15

	NEXT s
	del n_st
ENDIF


IF iLadderType = LADDERTYPE_CONCRETE THEN
	FOR s=1 to n_st
		ADDz RungDist
		PRISM_ 12,rw,
			-a/2,0,15,
			-a/2+rw,0,15,
			-a/2+rw,-5"+rw/2,79,
			-a/2+rw+2",-7"+rw/2,1079,
			a/2-rw-2",-7"+rw/2,79,
			a/2-rw,-5"+rw/2,1079,
			a/2-rw,0,15,
			a/2,0,15,
			a/2,-5"+rw/2,79,
			a/2-rw-2",-7"-rw/2,1079,
			-a/2+2"+rw,-7"-rw/2,79,
			-a/2,-5"+rw/2,1079

		IF st>0.01 then
			MODEL WIRE
			PRISM_ 4,rw,
				-a/2,0,15,
				-a/2+rw,0,15,
				-a/2+rw,st,15,
				-a/2,st,15
			PRISM_ 4,rw,
				a/2,0,15,
				a/2-rw,0,15,
				a/2-rw,st,15,
				a/2,st,15
			MODEL SOLID
		ENDIF
	NEXT s
	del n_st
ENDIF
del 1
