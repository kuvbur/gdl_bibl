
! const values for parameter: gs_detlevel_3D_m
DLEV3D_OFF      = 0
DLEV3D_SIMPLE   = 1
DLEV3D_DETAILED = 2


! const values for parameter: iHandrailPos
HANDRAILPOS_LEFT  = 1
HANDRAILPOS_RIGHT = 2
HANDRAILPOS_BOTH  = 3
HANDRAILPOS_NONE  = 4

! Platform with Ladder

EPS = 0.0001

dim treed_mtr[3]
	treed_mtr[1] = `Простой`
	treed_mtr[2] = `Детальный`
	treed_mtr[3] = `Откл.`

dim stHandRailPosValues[4]
	stHandRailPosValues[1] = `Слева`
	stHandRailPosValues[2] = `Справа`
	stHandRailPosValues[3] = `Обе Стороны`
	stHandRailPosValues[4] = `Нет`

DETLEVEL2D_SCALE_SENSITIVE	= 0
DETLEVEL2D_50				= 3
DETLEVEL2D_100				= 2
DETLEVEL2D_200				= 1


! --- Basic Variables ---
alfa=60

f_w  =2"			!!! foot width
f_d  =2"			!!! foot depth
f_t  =1/4"			!!! foot thickness

st_w =7"			!!! depth of the steps
st_h =1"			!!! height of the steps
st_t =1/2"			!!! thickness of the steps

sr_w =(st_w+2")*sin(alfa)	!!! side rail width - calculated from stw & alfa
sr_d =2"			!!! side rail depth
sr_t =1/4"			!!! side rail thickness

plf_w =2"			!!! plate frame profile width
plf_h =5/4"			!!! plate frame profile height
plf_t =1/4"			!!! thickness of the plate frame profile
pl_h =1"			!!! height of the platform plate

gridDensity = 1"	!!! Step and Platform grid density in Detailed 3D

postDist = 0.9		!!! Prefered rail post distance


!!!********************* Calculated Variables

IF GLOB_MODPAR_NAME = "A" THEN
	zzyzx = (A - gs_platform_length + st_w - 5") * tan(alfa)
	PARAMETERS zzyzx = zzyzx
ELSE
	A = (zzyzx + 5" * tan(alfa)) / tan(alfa) + gs_platform_length - st_w
	PARAMETERS A = A
ENDIF

npY  = INT((st_w-2*st_t)/gridDensity)
npX  = INT((gs_ladder_width-2*sr_t-2*st_t)/gridDensity)
npYP = INT((gs_platform_length-2*plf_t-2*st_t)/gridDensity)
npXP = INT((B-2*plf_t-2*st_t)/gridDensity)
dpY  = (st_w-2*st_t)/npY
dpX  = (gs_ladder_width-2*sr_t-2*st_t)/npX
dpYP  = (gs_platform_length-2*plf_t-2*st_t)/npYP
dpXP  = (B-2*plf_t-2*st_t)/npXP

dx_0 = (st_w+1")-sr_w*tan(alfa/2)  !!!correction x value of A regarding to last step_width

s_corr=4"			!!! side correction - rail overhang

stepp_dis=vd_st
n_st=INT((zzyzx)/stepp_dis)+1
dY = zzyzx/n_st
dX=dY/tan(alfa)

ladderLength = A - gs_platform_length
_bShowRightRailOnCorner	= (B - gs_ladder_width) > EPS


