
TABID_ROOT				= -1
TABID_DIMENSIONS		= 1
TABID_REPRESENTATION	= 2

dim stRepresentation[15]
	stRepresentation[ 1]	= `2D-отображение`
	stRepresentation[ 2]	= `Перо Контура`
	stRepresentation[ 3]	= `Тип Штриховки`
	stRepresentation[ 4]	= `Перо Штриховки`
	stRepresentation[ 5]	= `Перо Фона`
	stRepresentation[ 6]	= `3D-отображение`
	stRepresentation[ 7]	= `3D-детализация`
	stRepresentation[ 8]	= `Аппроксимация`
	stRepresentation[ 9]	= `Отбрасывание Теней`
	stRepresentation[10]	= `2D-символ`
	stRepresentation[11]	= `2D-детализация`
	stRepresentation[12]	= `Линия Всхода`
	stRepresentation[13]	= `Тип Линии Всхода`
	stRepresentation[14]	= `Зависит от Этажа`
	stRepresentation[15]	= `Тип Линии Проекции`

dim stDimension[5]
	stDimension[1]	= `Крепеж Верха`
	stDimension[2]	= `Перила`
	stDimension[3]	= `Расположение`
	stDimension[4]	= `Диаметр`
	stDimension[5]	= `Конструкция`

dim stTooltip[7]
	stTooltip[1]	= `Длина Лестницы`
	stTooltip[2]	= `Ширина Лестницы`
	stTooltip[3]	= `Высота Лестницы`
	stTooltip[4]	= `Высота Перил`
	stTooltip[5]	= `Ширина Двери (0=Нет)`
	stTooltip[6]	= `Высота Подступенка`
	stTooltip[7]	= `Наклон Лестницы`


! ======================================================================

ui_dialog `Параметры Лестницы`,444,266
ui_current_page gs_ui_current_page




pageStartY	= 5
yStart		= pageStartY + 2
xHalfLevel 	= 222
xEndLevel	= 444
hRow		= 16
lineSpace	= 25
hBox		= 20

! ======================================================================

if TABID_DIMENSIONS > 0 then
	ui_page TABID_DIMENSIONS, TABID_ROOT, `Размеры`, "uiTab_Dimension_flat(1)"
	gosub "dimensionPage"
endif

if TABID_REPRESENTATION > 0 then
	ui_page TABID_REPRESENTATION, TABID_ROOT, `Отображение`, "uiTab_2DRepr_flat(1)"
	gosub "representationPage"
endif

! ======================================================================
end
! ======================================================================

"dimensionPage":
! ======================================================================
! Page 1
! ======================================================================

	pageStartY	= 5
	yStart		= pageStartY + 2
	x1			= 5
	x2			= 216
	x5			= 320
	wBox1		= 94
	wBox2		= 90


	ui_style 0, 1
	ui_outfield stDimension[5], x1, yStart, 100,	hRow			! Structure
	ui_style 0, 0

	ui_pict "ship_ladder_graphic_b(1)", 100, pageStartY + 48, 112, 148, 1
	ui_infield "hr_h", x2, pageStartY + 69, wBox2, hRow								ui_tooltip stTooltip[4]		!Handrail Height
	ui_infield "ZZYZX", x2, pageStartY + 132, wBox2, hRow							ui_tooltip stTooltip[3]		!Ladder Height
	ui_infield "alfa", x2, pageStartY + 156, wBox2, hRow							ui_tooltip stTooltip[7]		!Ladder Angle
	ui_infield "B", 47, pageStartY + 202, wBox2, hRow								ui_tooltip stTooltip[2]		!Ladder Width
	ui_infield "A", 143, pageStartY + 202, wBox2, hRow								ui_tooltip stTooltip[1]		!Ladder Length
	ui_infield "vd_st", x1, pageStartY + 156, wBox2, hRow							ui_tooltip stTooltip[6]		!Riser Height
	ui_infield "door_w", 80, pageStartY + 25, wBox2, hRow							ui_tooltip stTooltip[5]		!Door Width (0=No)


	! ------ Top Connection -------
	ui_separator 313, pageStartY - 4, 313, pageStartY + 231

	ui_style 0, 1
	ui_outfield stDimension[1], x5, yStart, xEndLevel-x5,	hRow		! Top Connection
	ui_style 0, 0
	y1 = yStart + 20

	ui_infield{3} "iTopConnType", x5, y1, 120, 77,
			2, "connection_ladder(1)", 2, 1,
			25, 57, 25, 57,
			2, stTopConnDesc[1], TOPCONNTYPE_WALL,
			1, stTopConnDesc[2], TOPCONNTYPE_STRINGER	ui_tooltip stDimension[1]
	y1 = y1 + 82

	ui_separator 316, y1, 444, y1
	y1 = y1 + 9

	ui_style 0, 1
	ui_outfield stDimension[2], x5, y1, xEndLevel-x5,	hRow			! Handrail
	ui_style 0, 0
	y1 = y1 + lineSpace


	ui_outfield stDimension[3], x5+5, y1, xEndLevel-x5-5,	hRow		! Position
	y1 = y1 + lineSpace - 2
	ui_infield{3} "iHandrailPos", 440-wBox1, y1-1, wBox1, hBox,
		8, "", 4, 1,
		0, 0, 0, 0,
		1, stHandRailPosValues[1], HANDRAILPOS_LEFT,
		2, stHandRailPosValues[2], HANDRAILPOS_RIGHT,
		3, stHandRailPosValues[3], HANDRAILPOS_BOTH,
		4, stHandRailPosValues[4], HANDRAILPOS_NONE	ui_tooltip stDimension[3]
	y1 = y1 + lineSpace - 1

	iFlag = 4 * ( iHandrailPos = HANDRAILPOS_NONE)
	ui_outfield stDimension[4], x5+5, y1, xEndLevel-x5-5, hRow, iFlag	! Diameter
	y1 = y1 + lineSpace - 1
	ui_infield{3} "hr_d", 440-wBox1, y1-1, wBox2, hRow					ui_tooltip stDimension[4]
return

"representationPage":
! ======================================================================
! Page 2
! ======================================================================

	pageStartY 	= 5
	x1			= 10
	wDescript1	= 200
	wBox1		= 120
	wBox2		= 90
	wPenBox		= 40
	hPenBox		= 22
	hLineBox	= 27
	wFillBox	= 120
	hFillBox	= 22

	! ------ 1. Column - 2D Symbol -------
	wColumn = xHalfLevel - x1 - 13
	xEnd = xHalfLevel - 13

	ui_style 0, 1
	ui_outfield stRepresentation[10], x1, yStart, wColumn,	hRow					! 2D Symbol
	ui_style 0, 0
	y1 = yStart + lineSpace

	ui_outfield stRepresentation[11], x1, y1, wColumn,	hRow						! 2D Detail Level
	y1 = y1 + lineSpace
	dim stDetail2d[]
	call "2dDetailLevel" parameters gs_detlevel_2D	= gs_detlevel_2D,
								gs_detlevel_2D_m	= gs_detlevel_2D_m,
								enable2dDetLevels	= 2+4+8+16,
			returned_parameters	stDetail2d
	ui_infield{3} "gs_detlevel_2D_m", xEnd-wBox1, y1-3, wBox1, hBox,
			8, "", 4, 1, 0, 0, 0, 0,
			1, stDetail2d[1], DETLEVEL2D_SCALE_SENSITIVE,
			2, stDetail2d[2], DETLEVEL2D_50,
			3, stDetail2d[3], DETLEVEL2D_100,
			4, stDetail2d[4], DETLEVEL2D_200 									ui_tooltip stRepresentation[11]
	y1 = y1 + lineSpace

	ui_infield{3} "walkl", x1, y1-1, wColumn, hRow,									! Walking Line
		7, "",
		2,
		1, 20, 20, 20, 20,
		0, stRepresentation[12], 0,
		1, stRepresentation[12], 1													ui_tooltip stRepresentation[12]
	y1 = y1 + lineSpace

	iFlag = 4*not(walkl)
	ui_outfield stRepresentation[13], x1, y1, wColumn,	hRow, iFlag					! Walking Line Type
	y1 = y1 + lineSpace
	ui_infield "gs_wLineType1",	xEnd-wBox1, y1-4, wBox1, hLineBox				ui_tooltip stRepresentation[13]
	y1 = y1 + lineSpace + 6

	ui_infield{3} "bStorySensitive", x1, y1-1, wColumn, hRow,						! Story Sensitive
		7, "",
		2,
		1, 20, 20, 20, 20,
		0, stRepresentation[14], 0,
		1, stRepresentation[14], 1													ui_tooltip stRepresentation[14]
	y1 = y1 + lineSpace

	iFlag = 4*not(bStorySensitive)
	ui_outfield stRepresentation[15], x1, y1, wColumn,	hRow, iFlag					! Overhead Line Type
	y1 = y1 + lineSpace
	ui_infield "gs_LineTypeStUp",	xEnd-wBox1, y1-4, wBox1, hLineBox			ui_tooltip stRepresentation[15]
	y1 = y1 + lineSpace


	! ------ 2. Column - 2D Representation -------
	ui_separator xHalfLevel-1, pageStartY - 4, xHalfLevel-1, pageStartY + 231

	wColumn = xEndLevel - xHalfLevel - x1 - 5
	xEnd = xEndLevel - 5
	x1 = xHalfLevel + x1

	ui_style 0, 1
	ui_outfield stRepresentation[1], x1, yStart, wColumn,	hRow					! 2D Representation
	ui_style 0, 0
	y1 = yStart + lineSpace

	ui_outfield stRepresentation[2], x1, y1, wColumn-wPenBox-2,	hRow				! Contour Pen
	ui_infield "gs_cont_pen",	xEnd-wPenBox, y1-4, wPenBox, hPenBox 			 ui_tooltip stRepresentation[2]
	y1 = y1 + lineSpace

	ui_outfield stRepresentation[3], x1, y1, wColumn-wFillBox-2,	hRow			! Fill Type
	ui_infield "gs_fill_type",	xEnd-wFillBox, y1-4, wFillBox, hFillBox 		ui_tooltip stRepresentation[3]
	y1 = y1 + lineSpace

	ui_outfield stRepresentation[4], x1, y1, wColumn-wPenBox-2,	hRow				! Fill Pen
	ui_infield "gs_fill_pen",	xEnd-wPenBox, y1-4, wPenBox, hPenBox 			ui_tooltip stRepresentation[4]
	y1 = y1 + lineSpace

	ui_outfield stRepresentation[5], x1, y1, wColumn-wPenBox-2,	hRow				! Fill Background Pen
	ui_infield "gs_back_pen",	xEnd-wPenBox, y1-4, wPenBox, hPenBox 			ui_tooltip stRepresentation[5]
	y1 = y1 + lineSpace

	ui_separator xHalfLevel+2, y1-3, xEndLevel, y1-3


	! ------ 2. Column - 3D Representation -------

	y1 = y1 + 6
	ui_style 0,1
	ui_outfield stRepresentation[6], x1, y1,	wDescript1,	hRow					!3D Representation
	ui_style 0,0
	y1 = y1 + lineSpace

	ui_outfield stRepresentation[7], x1 , y1, wColumn-wBox2-2, hRow					! 3D Detail Level
	ui_infield{3} "gs_detlevel_3D_m", xEnd-wBox2, y1-3, wBox2, hBox,
			8, "", 4, 1, 0, 0, 0, 0,
			1, treed_mtr[1], DLEV3D_SIMPLE,
			2, treed_mtr[2], DLEV3D_DETAILED,
			3, treed_mtr[3], DLEV3D_OFF	ui_tooltip stRepresentation[7]
	y1 = y1 + lineSpace

	iFlag = (gs_detlevel_3D_m = DLEV3D_OFF) * 4

	ui_outfield stRepresentation[8], x1 , y1, wColumn-wBox2-2, hRow, iFlag			! Resolution
	ui_infield "gs_resol", xEnd-wBox2, y1-2, wBox2,	hRow						ui_tooltip stRepresentation[8]
	y1 = y1 + lineSpace

	ui_infield{3} "gs_shadow", x1+1, y1-1, wDescript1, hRow,							! Shadow
		7, "",
		2,
		1, 20, 20, 20, 20,
		0, stRepresentation[9], 0,
		1, stRepresentation[9], 1													ui_tooltip stRepresentation[9]
	y1 = y1 + lineSpace
return

