
call "FM_types" parameters all

VALUES "gs_ui_current_page" 1, 2

values{2} "gs_detlevel_3D_m" 	DLEV3D_SIMPLE, `Простой`,
								DLEV3D_DETAILED, `Детальный`,
								DLEV3D_OFF, `Откл.`

values{2} "iTopConnType" 	TOPCONNTYPE_WALL, stTopConnDesc[1],
							TOPCONNTYPE_STRINGER, stTopConnDesc[2]

values{2} "iHandrailPos" 	HANDRAILPOS_LEFT, stHandRailPosValues[1],
							HANDRAILPOS_RIGHT, stHandRailPosValues[2],
							HANDRAILPOS_BOTH, stHandRailPosValues[3],
							HANDRAILPOS_NONE, stHandRailPosValues[4]
!!!!values "A" Range[0.7,)
values "A" range [zzyzx / tan(75) + 5", zzyzx / tan(60) + 5"]
VALUES "B" RANGE (0,]
VALUES "ZZYZX" RANGE (0.992,]
values "alfa" range [60, 75]

VALUES "hr_h" RANGE (0,]
VALUES "hr_d" RANGE (0,]
VALUES "vd_st" RANGE (0,zzyzx]
VALUES "door_w" 0, RANGE [B/2,]

IF GLOB_MODPAR_NAME="b_temp" THEN
  PARAMETERS b=2*b_temp
  b=2*b_temp
ELSE
  PARAMETERS b_temp=b/2
  b_temp=b/2
ENDIF

if GLOB_MODPAR_NAME = "ZZYZX" | GLOB_MODPAR_NAME = "alfa" then
	a = zzyzx / tan(alfa) + 5"
	parameters a = a
else if GLOB_MODPAR_NAME = "A" then	
	alfa = atn(zzyzx / (a - 5"))
	parameters alfa = alfa
endif


IF iHandrailPos = HANDRAILPOS_NONE THEN lock	"iTopConnType",
												"hr_d",
												"hr_h",
												"door_w",
												"gs_resol"

if gs_cont_pen<=0 then parameters gs_cont_pen=2
if gs_fill_pen<=0 then parameters gs_fill_pen=91


! ----- 3D Representation -----
if gs_detlevel_3D_m = DLEV3D_OFF then
	hideparameter "gs_resol", "gs_shadow"
	lock "gs_resol", "gs_shadow"
endif
values "gs_resol" range [3,)


! ----- 2D Representation -----
call "2dDetailLevel" parameters gs_detlevel_2D	= gs_detlevel_2D,
							gs_detlevel_2D_m	= gs_detlevel_2D_m,
							enable2dDetLevels	= 2+4+8+16

if not(walkl) then
	hideparameter "gs_wLineType1"
	lock "gs_wLineType1"
endif

if not(bStorySensitive) then
	hideparameter "gs_LineTypeStUp"
	lock "gs_LineTypeStUp"
endif

ac_bottomlevel = 0
ac_toplevel = ZZYZX + EPS

parameters ac_toplevel = ac_toplevel, ac_bottomlevel = ac_bottomlevel

