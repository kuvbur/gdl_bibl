

tranWidth = 0
tranX = 0
call "CW Transformation" parameters A = A, AC_PanelCoords = AC_PanelCoords, ac_originIsFrameCenter = ac_originIsFrameCenter returned_parameters tranWidth, tranX
mul2 tranWidth, 1
add2 -tranX, 0

! --- setting detail level ---

if gs_detlevel_2d_m = 0 then end

if gs_detlevel_2d_m < 0 then
	if GLOB_SCALE > 150 then gs_detlevel_2d_m = 200
	if GLOB_SCALE <= 150 and GLOB_SCALE > 75 then gs_detlevel_2d_m = 100
	if GLOB_SCALE <= 75 then gs_detlevel_2d_m = 50
endif

pen gs_cont_pen


if gs_detlevel_2d_m = 200 then
	line2 leftSide_X, 0, rightSide_X, 0
endif

if gs_detlevel_2d_m = 100 then
	add2 0, AC_clampWidth / 2
	fill internalFill_1
	poly2_b 	5, 1+2+64,
				internalFillPen_1, internalFillPenBg_1,
				leftSide_X, 0, 1,
				rightSide_X, 0, 0,
				rightSide_X, -panelThk, 1,
				leftSide_X, -panelThk, 0,
				leftSide_X, 0, -1
	del 1
endif
if gs_detlevel_2d_m = 50 then
	add2 0, AC_clampWidth / 2
	fill coatingFill
	poly2_b 	5, 1+2+64,
				coatingFillPen, coatingFillPenBg,
				leftSide_X, 0, 1,
				rightSide_X, 0, 0,
				rightSide_X, -coatingThk, 1,
				leftSide_X, -coatingThk, 0,
				leftSide_X, 0, -1
	add2 0, -coatingThk
	if abs (coatingThk - AC_clampWidth) > eps then
		fill internalFill_1
		poly2_b 	5, 1+2+64,
				internalFillPen_1, internalFillPenBg_1,
				leftSide_X, 0, 1,
				rightSide_X, 0, 0,
				rightSide_X, -AC_clampWidth + coatingThk, 0,
				leftSide_X, -AC_clampWidth + coatingThk, 0,
				leftSide_X, 0, -1
	endif
	del 2
	add2 0, -AC_clampWidth / 2
	fill internalFill_1
	thk = panelThk - AC_clampWidth
	angleDiff = 0
	endstat = 0
	if abs (panelBackAngle - 90) > eps then
		endstat = 1
		angleDiff = thk / tan (panelBackAngle)
	endif
	if abs(thk) < eps then
		line2 leftSide_X, 0, rightSide_X, 0
	else
		poly2_b 	5, 1+2+64,
					internalFillPen_1, internalFillPenBg_1,
					leftSide_X, 0, 0,
					rightSide_X, 0, endstat,
					rightSide_X - angleDiff, -thk, 1,
					leftSide_X + angleDiff, -thk, endstat,
					leftSide_X, 0, -1
	endif
	del 1
endif


end
