
unID = 1

tranWidth = 0
tranX = 0
call "CW Transformation" parameters A = A, AC_PanelCoords = AC_PanelCoords, ac_originIsFrameCenter = ac_originIsFrameCenter returned_parameters tranWidth, tranX
mul2 tranWidth, 1
add2 -tranX, 0


! --- setting detail level ---

if gs_detlevel_2d_m = 0 then end

if gs_detlevel_2d_m < 0 then
	if GLOB_SCALE > 150 then gs_detlevel_2d_m = 200
	if GLOB_SCALE <= 150 and GLOB_SCALE > 75 then gs_detlevel_2d_m = 100
	if GLOB_SCALE <= 75 then gs_detlevel_2d_m = 50
endif

! --- moving to center ---

add2 (leftSide_X + rightSide_X) / 2, 0

fill fillCover
poly2_b 5, 2+64, fillPenCover, fillPenBgCover,
	-panelWidth/2, offsetPanel, 0,
	-panelWidth/2, panelDepth-frameThk, 0,
	 panelWidth/2, panelDepth-frameThk, 0,
	 panelWidth/2, offsetPanel, 0,
	-panelWidth/2, offsetPanel, -1

fill fillFrame
pen penFrame
poly2_b 5, 1+2+64, fillPenFrame, fillPenBgFrame,
	-panelWidth/2 - frameWidth, panelDepth, 			1,
	-panelWidth/2 - frameWidth, panelDepth-frameThk, 	1,
	-panelWidth/2, 				panelDepth-frameThk, 	1,
	-panelWidth/2, 				panelDepth, 			1,
	-panelWidth/2 - frameWidth, panelDepth, 			-1

poly2_b 5, 1+2+64, fillPenFrame, fillPenBgFrame,
	panelWidth/2 + frameWidth, 	panelDepth, 			1,
	panelWidth/2 + frameWidth, 	panelDepth-frameThk, 	1,
	panelWidth/2, 				panelDepth-frameThk, 	1,
	panelWidth/2, 				panelDepth, 			1,
	panelWidth/2 + frameWidth,	panelDepth, 			-1


if gs_detlevel_2d_m = 50 then
	fill fillFrameCover
	pen penFrameCover
	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2, 									offsetPanel, 			0,
		-panelWidth / 2 - frameWidth / 2 + thkGlass / 2, 	offsetPanel,		 	0,
		-panelWidth / 2 - frameWidth / 2 + thkGlass / 2, 	panelDepth-frameThk, 	0,
		-panelWidth / 2, 									panelDepth-frameThk, 	1,
		-panelWidth / 2, 									offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2 - frameWidth, 						offsetPanel, 			0,
		-panelWidth / 2 - frameWidth / 2 - thkGlass / 2, 	offsetPanel,		 	0,
		-panelWidth / 2 - frameWidth / 2 - thkGlass / 2, 	panelDepth-frameThk, 	0,
		-panelWidth / 2 - frameWidth, 						panelDepth-frameThk, 	1,
		-panelWidth / 2 - frameWidth, 						offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		panelWidth / 2, 									offsetPanel, 			0,
		panelWidth / 2 + frameWidth / 2 - thkGlass / 2, 	offsetPanel,		 	0,
		panelWidth / 2 + frameWidth / 2 - thkGlass / 2, 	panelDepth-frameThk, 	0,
		panelWidth / 2, 									panelDepth-frameThk, 	1,
		panelWidth / 2, 									offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		panelWidth / 2 + frameWidth, 						offsetPanel, 			0,
		panelWidth / 2 + frameWidth / 2 + thkGlass / 2, 	offsetPanel,		 	0,
		panelWidth / 2 + frameWidth / 2 + thkGlass / 2, 	panelDepth-frameThk, 	0,
		panelWidth / 2 + frameWidth, 						panelDepth-frameThk, 	1,
		panelWidth / 2 + frameWidth, 						offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2, panelDepth, 1,
		 panelWidth / 2, panelDepth, 0,
		 panelWidth / 2, panelDepth - frameThk / 2 + thkGlass / 2, 0,
		-panelWidth / 2, panelDepth - frameThk / 2 + thkGlass / 2, 0,
		-panelWidth / 2, panelDepth, -1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2, panelDepth - frameThk, 1,
		 panelWidth / 2, panelDepth - frameThk, 0,
		 panelWidth / 2, panelDepth - frameThk / 2 - thkGlass / 2, 0,
		-panelWidth / 2, panelDepth - frameThk / 2 - thkGlass / 2, 0,
		-panelWidth / 2, panelDepth - frameThk, -1

	fill fillGlass
	pen penGlass
	poly2_b 5, 1+2+64, fillPenGlass, fillPenBgGlass,
		-panelWidth / 2 - frameWidth / 2 - thkGlass / 2,	offsetPanel,			1,
		-panelWidth / 2 - frameWidth / 2 - thkGlass / 2,	panelDepth-frameThk,	0,
		-panelWidth / 2 - frameWidth / 2 + thkGlass / 2,	panelDepth-frameThk,	1,
		-panelWidth / 2 - frameWidth / 2 + thkGlass / 2,	offsetPanel,			0,
		-panelWidth / 2 - frameWidth / 2 - thkGlass / 2,	offsetPanel,			-1

	poly2_b 5, 1+2+64, fillPenGlass, fillPenBgGlass,
		panelWidth / 2 + frameWidth / 2 - thkGlass / 2,	offsetPanel,			1,
		panelWidth / 2 + frameWidth / 2 - thkGlass / 2,	panelDepth - frameThk,	0,
		panelWidth / 2 + frameWidth / 2 + thkGlass / 2,	panelDepth - frameThk,	1,
		panelWidth / 2 + frameWidth / 2 + thkGlass / 2,	offsetPanel,			0,
		panelWidth / 2 + frameWidth / 2 - thkGlass / 2,	offsetPanel,			-1

	poly2_b 5, 1+2+64, fillPenGlass, fillPenBgGlass,
		-panelWidth / 2, panelDepth - frameThk / 2 - thkGlass / 2, 0,
		-panelWidth / 2, panelDepth - frameThk / 2 + thkGlass / 2, 1,
		 panelWidth / 2, panelDepth - frameThk / 2 + thkGlass / 2, 0,
		 panelWidth / 2, panelDepth - frameThk / 2 - thkGlass / 2, 1,
		-panelWidth / 2, panelDepth - frameThk / 2 - thkGlass / 2, -1
else
	fill fillFrameCover
	pen penFrameCover
	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2, 				offsetPanel, 			0,
		-panelWidth / 2 - frameWidth, 	offsetPanel,		 	1,
		-panelWidth / 2 - frameWidth, 	panelDepth - frameThk, 	0,
		-panelWidth / 2, 				panelDepth - frameThk, 	1,
		-panelWidth / 2, 				offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		panelWidth / 2, 				offsetPanel, 			0,
		panelWidth / 2 + frameWidth, 	offsetPanel,		 	1,
		panelWidth / 2 + frameWidth, 	panelDepth - frameThk, 	0,
		panelWidth / 2, 				panelDepth - frameThk, 	1,
		panelWidth / 2, 				offsetPanel, 			-1

	poly2_b 5, 1+2+64, fillPenFrameCover, fillPenBgFrameCover,
		-panelWidth / 2, panelDepth, 				1,
		 panelWidth / 2, panelDepth,				0,
		 panelWidth / 2, panelDepth - frameThk, 	1,
		-panelWidth / 2, panelDepth - frameThk, 	0,
		-panelWidth / 2, panelDepth, 				-1

	pen penGlass
	line2 -panelWidth / 2 - frameWidth / 2, offsetPanel, -panelWidth / 2 - frameWidth / 2, panelDepth-frameThk
	line2  panelWidth / 2 + frameWidth / 2, offsetPanel,  panelWidth / 2 + frameWidth / 2, panelDepth-frameThk
	line2 -panelWidth / 2, panelDepth - frameThk / 2, panelWidth / 2, panelDepth - frameThk / 2
endif
end

