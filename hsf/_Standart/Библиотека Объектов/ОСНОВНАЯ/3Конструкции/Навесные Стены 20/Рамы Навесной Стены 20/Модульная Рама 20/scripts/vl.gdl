
call "FM_types" parameters all

values "gs_frameType_txt" stCWFrameType
values "gs_frameType" FRAMETYPE_TYPE1, FRAMETYPE_TYPE2, FRAMETYPE_TYPE3, FRAMETYPE_CUSTOM

if GLOB_MODPAR_NAME = "gs_frameType_txt" then
	gs_frameType = FRAMETYPE_TYPE1
	if gs_frameType_txt = stCWFrameType[2]	then gs_frameType = FRAMETYPE_TYPE2
	if gs_frameType_txt = stCWFrameType[3]	then gs_frameType = FRAMETYPE_TYPE3
	if gs_frameType_txt = stCWFrameType[4]	then gs_frameType = FRAMETYPE_CUSTOM
	parameters gs_frameType = gs_frameType
else
	gs_frameType_txt = stCWFrameType[1]
	if gs_frameType = FRAMETYPE_TYPE2 then gs_frameType_txt = stCWFrameType[2]
	if gs_frameType = FRAMETYPE_TYPE3 then gs_frameType_txt = stCWFrameType[3]
	if gs_frameType = FRAMETYPE_CUSTOM then gs_frameType_txt = stCWFrameType[4]
	parameters gs_frameType_txt = gs_frameType_txt
endif


values "gs_capType_txt" stCapType
values "gs_capType" CAPTYPE_TYPE1, CAPTYPE_TYPE2, CAPTYPE_TYPE3, CAPTYPE_CUSTOM

if GLOB_MODPAR_NAME = "gs_capType_txt" then
	gs_capType = CAPTYPE_TYPE1
	if gs_capType_txt = stCapType[2]		then gs_capType = CAPTYPE_TYPE2
	if gs_capType_txt = stCapType[3]		then gs_capType = CAPTYPE_TYPE3
	if gs_capType_txt = stCapType[4]		then gs_capType = CAPTYPE_CUSTOM
	parameters gs_capType = gs_capType
else
	gs_capType_txt = stCapType[1]
	if gs_capType = CAPTYPE_TYPE2	then gs_capType_txt = stCapType[2]
	if gs_capType = CAPTYPE_TYPE3	then gs_capType_txt = stCapType[3]
	if gs_capType = CAPTYPE_CUSTOM	then gs_capType_txt = stCapType[4]
	parameters gs_capType_txt = gs_capType_txt
endif


values "gs_detlevel_3D" st3dDetLevelValues
values "gs_detlevel_3D_m" DETLEV_DETAILED, DETLEV_SIMPLE, DETLEV_OFF

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	gs_detlevel_3D_m = DETLEV_DETAILED
	if gs_detlevel_3D = st3dDetLevelValues[2] then gs_detlevel_3D_m = DETLEV_SIMPLE
	if gs_detlevel_3D = st3dDetLevelValues[3] then gs_detlevel_3D_m = DETLEV_OFF
	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = st3dDetLevelValues[1]
	if gs_detlevel_3D_m = DETLEV_SIMPLE then gs_detlevel_3D = st3dDetLevelValues[2]
	if gs_detlevel_3D_m = DETLEV_OFF	then gs_detlevel_3D = st3dDetLevelValues[3]
	parameters gs_detlevel_3D = gs_detlevel_3D
endif

! =========Cutplanes

values "gs_cutdir_top_tmp" stCutModeColValues[1], stCutModeColValues[2]
values "iCutDirTop" CUTMODE_ALONG_X, CUTMODE_ALONG_Y

if GLOB_MODPAR_NAME = "gs_cutdir_top_tmp" then
	iCutDirTop = CUTMODE_ALONG_X
	if gs_cutdir_top_tmp = stCutModeColValues[2] then iCutDirTop = CUTMODE_ALONG_Y
	parameters iCutDirTop = iCutDirTop
else
	gs_cutdir_top_tmp = stCutModeColValues[1]
	if iCutDirTop = CUTMODE_ALONG_Y then gs_cutdir_top_tmp = stCutModeColValues[2]
	parameters gs_cutdir_top_tmp = gs_cutdir_top_tmp
endif

values "gs_cutdir_bot_tmp" stCutModeColValues[1], stCutModeColValues[2]
values "iCutDirBottom" CUTMODE_ALONG_X, CUTMODE_ALONG_Y

if GLOB_MODPAR_NAME = "gs_cutdir_bot_tmp" then
	iCutDirBottom = CUTMODE_ALONG_X
	if gs_cutdir_bot_tmp = stCutModeColValues[2] then iCutDirBottom = CUTMODE_ALONG_Y
	parameters iCutDirBottom = iCutDirBottom
else
	gs_cutdir_bot_tmp = stCutModeColValues[1]
	if iCutDirBottom = CUTMODE_ALONG_Y then gs_cutdir_bot_tmp = stCutModeColValues[2]
	parameters gs_cutdir_bot_tmp = gs_cutdir_bot_tmp
endif

values "gs_cutdir_top" RANGE [-90,90]
values "gs_cutdir_bot" RANGE [-90,90]
values "gs_cutang1" RANGE [-45,45]
values "gs_cutang2" RANGE [-45,45]
values "gs_cutang3" RANGE [-45,45]
values "gs_cutang4" RANGE [-45,45]
values "gs_gasketIN" RANGE [0,NEG_DEPTH_SEG-AC_clampWidth/2-0.008)
values "gs_gasketOUT" RANGE [0,POZ_DEPTH_SEG-AC_clampWidth/2-0.008)

if gs_frameType <> FRAMETYPE_CUSTOM then lock "gs_CustomFrameName"
if gs_capType <> CAPTYPE_CUSTOM then lock "gs_CustomCapName"

IF iCutDirTop = CUTMODE_ALONG_Y Then
	parameters gs_cutdir_top = 0.00
				gs_cutdir_top = 0.00
Else
	parameters gs_cutdir_top = 90.00
				gs_cutdir_top = 90.00
Endif

IF iCutDirBottom = CUTMODE_ALONG_Y Then
	parameters gs_cutdir_bot = 0.00
				gs_cutdir_bot = 0.00
Else
	parameters gs_cutdir_bot = 90.00
				gs_cutdir_bot = 90.00
Endif

IF NOT(GS_Cutting) Then
	hideparameter "gs_cutang1","gs_cutang2","gs_cutang3","gs_cutang4","gs_cutdir_top","gs_cutdir_bot","gs_cutdir_bot_tmp","gs_cutdir_top_tmp"
	Lock "gs_cutang1","gs_cutang2","gs_cutang3","gs_cutang4","gs_cutdir_top","gs_cutdir_bot","gs_cutdir_bot_tmp","gs_cutdir_top_tmp"

Endif
! =========Cutplanes

PARAMETERS FRAME_WIDTH = FRAME_WIDTH
PARAMETERS FRAME_DEPTH = FRAME_DEPTH
PARAMETERS A = A
PARAMETERS B = B

! =========Parameter settings

IF NOT(gs_debug) Then hideparameter "gs_debug"
LOCK "A","B", "ZZYZX"

if gs_frameType = FRAMETYPE_CUSTOM Then
	FRAME_DEPTH = FRAME_WIDTH
	PARAMETERS FRAME_DEPTH = FRAME_WIDTH
endif

!!! Custom Elements !!!-------------------------------------

DIM gs_pt_fr[]

IF gs_frameType = FRAMETYPE_CUSTOM THEN

call "CW_Frame_Collection" PARAMETERS returned_parameters gs_pt_fr

VALUES "gs_CustomFrameName" gs_pt_fr

ENDIF


DIM gs_pt_cap[]

IF gs_capType = CAPTYPE_CUSTOM THEN

	call "CW_Cap_Collection" PARAMETERS returned_parameters gs_pt_cap

	VALUES "gs_CustomCapName" gs_pt_cap

ENDIF

call "ui_cw_frame" parameters all

