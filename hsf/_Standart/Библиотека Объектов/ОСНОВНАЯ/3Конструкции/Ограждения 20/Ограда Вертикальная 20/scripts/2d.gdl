
!!Fence Vertical.gsm

pen gs_cont_pen

unID=1
hLineID = 1000

!!! LENGTH
HOTSPOT2 0,0,unID,A,1+256 : unID=unID+1
HOTSPOT2 A,0,unID,A,2 : unID=unID+1
HOTSPOT2 -1,0,unID,A,3 : unID=unID+1

HOTLINE2 0,0,A,0, hLineID : hLineID = hLineID + 1

if np<1 then goto 10

if np>=1 then
add2 0,-pd/2
if np>1 and np*pw>=a then
pw=a/np
endif
if np>1 then aa=(a-np*pw)/(np-1)
if np=1 then aa=a-pw
if np=1 and pw>=a then
pw=a
endif
for t=1 to np
	fill gs_fill_type
	POLY2_B 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0, 0, 1,
			pw, 0, 1,
			pw, pd, 1,
			0, pd, 1
	HOTSPOT2 0,0,unID: unID=unID+1
	HOTSPOT2 pw,0,unID: unID=unID+1
	HOTSPOT2 pw,pd,unID: unID=unID+1
	HOTSPOT2 0,pd,unID: unID=unID+1
	HOTSPOT2 pw/2,pd/2,unID: unID=unID+1
	add2 aa+pw,0
next t
del np+1
a=aa
endif


if aa<=0 then end

if np>=1 then
add2 pw,0
if np>1 then uu=np-1
if np=1 then uu=1
for u=1 to uu
gosub 10
add2 pw+aa,0
next u
end
endif

10:


add2 0,-hbd/2
fill gs_fill_type
POLY2_B 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
		0, 0, 1,
		a, 0, 1,
		a, hbd, 1,
		0, hbd, 1
del 1

add2 0,-hbd/2-bd
!---------------------------------
if bw>=a then
	bw=a
	if iBoardEndStyle = BOARDEND_PLANE or iBoardEndStyle = BOARDEND_ROUND then
		rect2 0,0,bw,bd
	endif

	if iBoardEndStyle = BOARDEND_TRIANGULAR then
		fill gs_fill_type
		poly2_b 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
				0, 0, 1,
				bw, 0, 1,
				bw, bd, 1,
				0, bd, 1
		line2 bw/2,0,bw/2,bd
	endif
endif


!---------------------------------
if (2*bw+gb*3)>a then
	add2 (a-bw)/2,0
	if iBoardEndStyle = BOARDEND_PLANE or iBoardEndStyle = BOARDEND_ROUND then
		fill gs_fill_type
		POLY2_B 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
				0, 0, 1,
				bw, 0, 1,
				bw, bd, 1,
				0, bd, 1
	endif

	if iBoardEndStyle = BOARDEND_TRIANGULAR then
		fill gs_fill_type
		POLY2_B 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
				0, 0, 1,
				bw, 0, 1,
				bw, bd, 1,
				0, bd, 1
		line2 bw/2,0,bw/2,bd
	endif

	add2 -(a-bw)/2,0
endif

!---------------------------------
if (2*bw+gb*3)<=a then
	nn=int((a-gb)/(gb+bw))
	ggb=(a-nn*bw)/(nn+1)
	add2 ggb,0
	for t=1 to nn
		if iBoardEndStyle = BOARDEND_PLANE or iBoardEndStyle = BOARDEND_ROUND then
			fill gs_fill_type
			poly2_b 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
					0, 0, 1,
					bw, 0, 1,
					bw, bd, 1,
					0, bd, 1
		endif

		if iBoardEndStyle = BOARDEND_TRIANGULAR then
			fill gs_fill_type
			poly2_b 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
					0, 0, 1,
					bw, 0, 1,
					bw, bd, 1,
					0, bd, 1
			line2 bw/2,0,bw/2,bd
		endif

		add2 bw+ggb,0
	next t
	add2 -a,0

	if np<1 then end
endif
add2 0,+hbd/2+bd
if np<=1 then end
return
