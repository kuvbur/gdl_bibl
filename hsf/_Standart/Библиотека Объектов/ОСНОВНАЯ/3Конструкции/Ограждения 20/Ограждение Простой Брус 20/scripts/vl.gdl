
! ==============================================================================
! Rail Simple Bar
! ==============================================================================

hideparameter all "A", "B", "ZZYZX"

call "FM_types" parameters all


! ==============================================================================
! General Dimensions
! ==============================================================================

call "railParameterControl_m" parameters all


! ==============================================================================
! Structural Dimensions
! ==============================================================================

dim stBarType[2]
	stBarType[1] = `Прямоугольные`
	stBarType[2] = `Закругленный`

values "btyp" stBarType
values "btyp_m" 1, 2

if GLOB_MODPAR_NAME = "btyp" then
	btyp_m = 1
	if btyp = stBarType[2] then btyp_m = 2
	parameters btyp_m = btyp_m
else
	btyp = stBarType[1]
	if btyp_m = 2 then btyp = stBarType[2]
	parameters btyp = btyp
endif

if ptyp_m <> 1 then
	if btyp_m = 1 then values "b" fth
	if btyp_m = 2 then values "b" bd
	lock "a","b","zzyzx"
else
	if btyp_m = 1 then
		if GLOB_MODPAR_NAME = "fth" then
			B = fth
			parameters B = B
		else
			fth = B
			parameters fth = fth
		endif
	else
		if GLOB_MODPAR_NAME = "bd" then
			B = bd
			parameters B = B
		else
			bd = B
			parameters bd = bd
		endif
	endif

	lock "a","zzyzx"
endif

if NOT(sa) then
	lock			"al",
					"gs_RailAxisPen"
	hideparameter	"al",
					"gs_RailAxisPen"
endif

! ======================================================================
! UI
! ======================================================================

call "ui_rails" parameters		iObjectType			= 6,
								gs_ui_current_page	= gs_ui_current_page

