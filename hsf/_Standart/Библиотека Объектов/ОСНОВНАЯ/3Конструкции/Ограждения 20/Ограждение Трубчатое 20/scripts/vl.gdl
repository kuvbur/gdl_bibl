
! ==============================================================================
! Rail Tube
! ==============================================================================

hideparameter all "A", "B", "ZZYZX"

call "FM_types" parameters all


dim stDetail[3]
	stDetail[1] = `Отключено`
	stDetail[2] = `Простое`
	stDetail[3] = `Детальное`

values{2} "iSupportType" 	SUPPORT_POST, `Стойки`,
							SUPPORT_WALLBRACKET, `Настенные Кронштейны`

values "gs_detlevel_3D" stDetail[3], stDetail[2], stDetail[1]
values "gs_detlevel_3D_m" 2, 1, 0

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	for hi = 1 to vardim1(stDetail)
		if gs_detlevel_3D = stDetail[hi] then
			gs_detlevel_3D_m = hi - 1
		endif
	next hi
	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
else
	gs_detlevel_3D = stDetail[max(1, min(gs_detlevel_3D_m+1, vardim1(stDetail)))]
	parameters gs_detlevel_3D = gs_detlevel_3D
endif

if NOT(sa) then
	lock			"al",
					"gs_RailAxisPen"
	hideparameter	"al",
					"gs_RailAxisPen"
endif

! ======================================================================
! UI
! ======================================================================

call "ui_rails" parameters		iObjectType			= 16,
								gs_ui_current_page	= gs_ui_current_page
