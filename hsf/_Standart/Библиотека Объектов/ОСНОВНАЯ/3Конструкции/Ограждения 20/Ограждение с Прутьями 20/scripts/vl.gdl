
! ==============================================================================
! Rail with Bars
! ==============================================================================

hideparameter all "A", "B", "ZZYZX"

call "FM_types" parameters all


! ==============================================================================
! General Dimensions
! ==============================================================================

call "railParameterControl_m" parameters all


! ==============================================================================
! Structural Dimensions
! ==============================================================================

dim stFrameStyle[2]
	stFrameStyle[1] = `Прямоугольные`
	stFrameStyle[2] = `Скругленные Углы`

values "gs_frameStyle" stFrameStyle
values "gs_frameStyle_m" 1, 2

if GLOB_MODPAR_NAME = "gs_frameStyle" then
	gs_frameStyle_m = 1
	if gs_frameStyle = stFrameStyle[2] then gs_frameStyle_m = 2
	parameters gs_frameStyle_m = gs_frameStyle_m
else
	gs_frameStyle = stFrameStyle[1]
	if gs_frameStyle_m = 2 then gs_frameStyle = stFrameStyle[2]
	parameters gs_frameStyle = gs_frameStyle
endif

values "gs_frameDiameter" range (0,)

if gs_frameStyle_m = 2 then
	hideparameter "fth", "fsw", "ftw", "fbw"
	lock "fth", "fsw", "ftw", "fbw"
	if GLOB_MODPAR_NAME = "B" then
		gs_frameDiameter = B
		parameters gs_frameDiameter = gs_frameDiameter
	else
		B = gs_frameDiameter
		parameters B = B
	endif
else
	hideparameter "gs_frameDiameter"
	lock "gs_frameDiameter"
endif

dim stBalusterStyle[2]
	stBalusterStyle[1] = `Прямоугольные`
	stBalusterStyle[2] = `Скругленные Углы`

values "gs_balusterStyle" stBalusterStyle
values "gs_balusterStyle_m" 1, 2

if GLOB_MODPAR_NAME = "gs_balusterStyle" then
	gs_balusterStyle_m = 1
	if gs_balusterStyle = stBalusterStyle[2] then gs_balusterStyle_m = 2
	parameters gs_balusterStyle_m = gs_balusterStyle_m
else
	gs_balusterStyle = stBalusterStyle[1]
	if gs_balusterStyle_m = 2 then gs_balusterStyle = stBalusterStyle[2]
	parameters gs_balusterStyle = gs_balusterStyle
endif

if gs_balusterStyle_m = 2 then
	lock "bth", "bw"
	hideparameter "bth", "bw"
else
	lock "gs_balusterDiameter"
	hideparameter "gs_balusterDiameter"
endif

if NOT(sa) then
	lock			"al",
					"gs_RailAxisPen"
	hideparameter	"al",
					"gs_RailAxisPen"
endif

! ======================================================================
! UI
! ======================================================================

call "ui_rails" parameters		iObjectType			= 1,
								gs_ui_current_page	= gs_ui_current_page
							
