
call "FM_types" parameters all

if isComposite then
	values{2} "iSkinsParameter" 	SKINSPARAM_AUTO, `Автоматически`,
								SKINSPARAM_LEFT, `Крайний Левый Слой`,
								SKINSPARAM_RIGHT, `Крайний Правый Слой`,
								SKINSPARAM_CUSTOM, `Специальный`
else
	values{2} "iSkinsParameter" 	SKINSPARAM_AUTO, `Автоматически`,
								SKINSPARAM_CUSTOM, `Специальный`
endif
values "thickRefSide" range (0, WALL_THICKNESS/2)
values "thickOtherSide" range (0, WALL_THICKNESS/2)
values "thickCap" range [0, length]
values "thickCapAngle" range [0, alpha]
values "AC_CutWidth" range [thickCap, )
values "cutWidthAngle" range [(thickCap / (r0 + WALL_THICKNESS/2)) / PI * 180, )

PARAMETERS B = AC_CutWidth

if GLOB_MODPAR_NAME = "thickCapAngle" then
	PARAMETERS thickCap = length * thickCapAngle / alpha
else
	if GLOB_MODPAR_NAME <> "" then
		PARAMETERS thickCapAngle = alpha * thickCap / length
	endif
endif
if GLOB_MODPAR_NAME = "cutWidthAngle" then
	PARAMETERS AC_CutWidth = cutWidthAngle * (r0 + WALL_THICKNESS/2) * PI / 180
else
	if GLOB_MODPAR_NAME <> "" then
		PARAMETERS cutWidthAngle = (length / (r0 + WALL_THICKNESS/2)) / PI * 180
	endif
endif

if isComposite and useSkinThickness then
	lock "thickRefSide", "thickOtherSide"
endif

if not(isComposite) then
	hideparameter "useSkinThickness"
	lock "alwaysLine"
endif

if useWallPen then
	lock "gs_cont_pen"
	lock "gs_cont_lt"
endif

if iSkinsParameter <> SKINSPARAM_CUSTOM then
	lock "gs_fill_type", "gs_fill_pen", "gs_back_pen"
endif

if gs_cont_pen < 1 then
	PARAMETERS gs_cont_pen = 1
endif

if gs_fill_pen < 1 then
	PARAMETERS gs_fill_pen = 1
endif

lock "AC_fit_to_wall_height"

if not(b3DRepresentation) then
	hideparameter "gs_wallEndPen_3D", "matCap"
endif

PARAMETERS A = WALL_THICKNESS
PARAMETERS B = AC_CutWidth
