
call "FM_types" parameters all

if GLOB_MODPAR_NAME = "cutWidthAngle" then
	PARAMETERS AC_CutWidth = cutWidthAngle * (r0 + WALL_THICKNESS/2) * PI / 180
else
	if GLOB_MODPAR_NAME <> "" then
		PARAMETERS cutWidthAngle = (length / (r0 + WALL_THICKNESS/2)) / PI * 180
	endif
endif

if WIDO_ORIG_DIST < -EPS then
	if not(SYMB_MIRRORED) then
		values "thickRefSide" range [0, r0)
	else
		values "thickOtherSide" range [0, r0)
	endif
else
	if not(SYMB_MIRRORED) then
		values "thickRefSide" range [0, )
	else
		values "thickOtherSide" range [0, )
	endif
endif
if WIDO_ORIG_DIST > EPS then
	if not(SYMB_MIRRORED) then
		values "thickOtherSide" range [0, r0)
	else
		values "thickRefSide" range [0, r0)
	endif
else
	if not(SYMB_MIRRORED) then
		values "thickOtherSide" range [0, )
	else
		values "thickRefSide" range [0, )
	endif
endif
values "thickCap" range [0, )
values "AC_CutWidth" range [0, )

if GLOB_MODPAR_NAME = "thickCapAngle" then
	if alpha > eps then
		thickCap = length * thickCapAngle / alpha
	else
		thickCap = 0
	endif
	parameters thickCap = thickCap
else
	if GLOB_MODPAR_NAME <> "" then
		if length > eps then
			thickCapAngle = alpha * thickCap / length
		else
			thickCapAngle = 0
		endif
		parameters thickCapAngle = thickCapAngle
	endif
endif

if gs_cont_pen < 1 then
	PARAMETERS gs_cont_pen = 1
endif

if gs_fill_pen < 1 then
	PARAMETERS gs_fill_pen = 1
endif

maxSideThick = thickRefSide
if thickOtherSide > maxSideThick then
	maxSideThick = thickOtherSide
endif

if not(b3DRepresentation) then
	hideparameter "gs_wallEndPen_3D", "matCap"
endif

PARAMETERS A = WALL_THICKNESS + 2 * maxSideThick
PARAMETERS B = AC_CutWidth + thickCap
