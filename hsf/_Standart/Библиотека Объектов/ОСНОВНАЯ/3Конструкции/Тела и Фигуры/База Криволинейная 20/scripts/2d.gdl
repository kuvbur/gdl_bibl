
pen gs_cont_pen
hLineID = 1000

if angle_1 > 0 or angle_2 > 0 then
	HOTSPOT2 0,0
	project2{2} 3, 270, 32+3, gs_back_pen, 0, 0, 90
else
	MUL2 1,B/A

	HOTSPOT2 0,0

	LINE2 -A/2,0,-C/2,0
	HOTLINE2 -A/2,0,-C/2,0, hLineID : hLineID = hLineID + 1
	X=360/F

	FOR I=1 TO H
		ROT2 X*(I-1)
		LINE2 A/2*COS(180-X),-A/2*SIN(180-X),C/2*COS(180-X),-C/2*SIN(180-X)
		LINE2 -A/2,0,A/2*COS(180-X),-A/2*SIN(180-X)
		LINE2 -C/2,0,C/2*COS(180-X),-C/2*SIN(180-X)

		HOTLINE2 A/2*COS(180-X),-A/2*SIN(180-X),C/2*COS(180-X),-C/2*SIN(180-X), hLineID : hLineID = hLineID + 1
		HOTLINE2 -A/2,0,A/2*COS(180-X),-A/2*SIN(180-X), hLineID : hLineID = hLineID + 1
		HOTLINE2 -C/2,0,C/2*COS(180-X),-C/2*SIN(180-X), hLineID : hLineID = hLineID + 1

		HOTSPOT2 -A/2,0
		HOTSPOT2 A/2*COS(180-X),-A/2*SIN(180-X)
		DEL 1
	NEXT I

	if c>A or c>B  then
		FOR I=1 TO H
			ROT2 X*(I-1)
			HOTSPOT2 -c/2,0
			HOTSPOT2 c/2*COS(180-X),-c/2*SIN(180-X)
			DEL 1
		NEXT I
	else
		! fill
		fill gs_fill_type

		FOR I=1 TO H
			ROT2 X*(I-1)
			poly2_b 5, 2+64,gs_fill_pen,gs_back_pen,
					-c/2,0,1,
					-A/2,0,1,
					A/2*COS(180-X),-A/2*SIN(180-X),1,
					C/2*COS(180-X),-C/2*SIN(180-X),1,
					-c/2,0,-1
			DEL 1
		NEXT I
	endif

endif

end
