
call "FM_types" parameters all


values{2} "gs_detlevel_3D_m" 	DLEV3D_DETAILED, `Детальный`,
								DLEV3D_SIMPLE, `Простой`,
								DLEV3D_OFF, `Откл.`
values "gs_resol" range [3, )
values "radius_1" range (0, )
values "radius_2" range (0, )

if gs_cont_pen<=0 then parameters gs_cont_pen=4
if gs_fill_pen<=0 then parameters gs_fill_pen=19
if gs_axis_pen<=0 then parameters gs_axis_pen=64

if gs_detlevel_3D_m = DLEV3D_SIMPLE then lock "gs_resol"

A = 2 * (radius_1 + radius_2) - (angle_2 < 180) * (radius_1 * (1 + cos(angle_2)) + radius_2 * (1 - abs(cos(angle_2))))

B = 2 * (radius_1 + radius_2) \
			- (angle_2 < 270 & angle_2 > 180) * (radius_1 + radius_2) * (1 + sin(angle_2)) \
			- (angle_2 <= 180) * (radius_1 + radius_2) \
			- (angle_2 < 90) * (radius_1 + radius_2) * (1 - sin(angle_2))

ZZYZX = 2 * radius_2

parameters	A		= A,
			B		= B,
			ZZYZX	= ZZYZX

lock "a","b","zzyzx"
if not(gs_axis) or (abs(angle_1)>=eps and abs(angle_3)>=eps) then hideparameter "gs_axis_line"
