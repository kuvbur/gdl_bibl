PARAMETERS name_prof = "Круглая труба"
call "Шаблон профиля" parameters all
dim dym[] : i = 0
i = i + 1 : dym[i] = 0
i = i + 1 : dym[i] = 15
i = i + 1 : dym[i] = 20
i = i + 1 : dym[i] = 25
i = i + 1 : dym[i] = 32
i = i + 1 : dym[i] = 40
i = i + 1 : dym[i] = 50
i = i + 1 : dym[i] = 65
i = i + 1 : dym[i] = 80
i = i + 1 : dym[i] = 100
i = i + 1 : dym[i] = 125
i = i + 1 : dym[i] = 150
i = i + 1 : dym[i] = 200
i = i + 1 : dym[i] = 250
i = i + 1 : dym[i] = 300
i = i + 1 : dym[i] = 350
i = i + 1 : dym[i] = 400
i = i + 1 : dym[i] = 500
i = i + 1 : dym[i] = 600
i = i + 1 : dym[i] = 800
i = i + 1 : dym[i] = 1000
i = i + 1 : dym[i] = 1200
dim dn[] : i = 0
i = i + 1 : dn[i] = 18
i = i + 1 : dn[i] = 25
i = i + 1 : dn[i] = 32
i = i + 1 : dn[i] = 38
i = i + 1 : dn[i] = 45
i = i + 1 : dn[i] = 57
i = i + 1 : dn[i] = 76
i = i + 1 : dn[i] = 89
i = i + 1 : dn[i] = 108
i = i + 1 : dn[i] = 133
i = i + 1 : dn[i] = 159
i = i + 1 : dn[i] = 219
i = i + 1 : dn[i] = 273
i = i + 1 : dn[i] = 325
i = i + 1 : dn[i] = 377
i = i + 1 : dn[i] = 426
i = i + 1 : dn[i] = 530
i = i + 1 : dn[i] = 630
i = i + 1 : dn[i] = 820
i = i + 1 : dn[i] = 1020
i = i + 1 : dn[i] = 1220
values "dymt" dym
if dymt <> 0 then
	for j = 1 to vardim1(dym)
		if dymt = dym[j] then nf = j-1
	next j
	parameters diamt = str("%.0m", dn[nf])
endif

call "FM_types" parameters all



values{2} "gs_detlevel_3D_m" 	DLEV3D_DETAILED, `Детальный`,
								DLEV3D_SIMPLE, `Простой`,
								DLEV3D_OFF, `Откл.`

if gs_cont_pen=0 then parameters gs_cont_pen=4
if gs_fill_pen=0 then parameters gs_fill_pen=19
if gs_axis_pen=0 then parameters gs_axis_pen=64

If gs_resol<3 then parameters gs_resol=3
if gs_detlevel_3D_m = DLEV3D_SIMPLE then lock "gs_resol"


if tube_thk>radius_2 then
	parameters tube_thk=radius_2
	tube_thk=radius_2
endif

if use_met then
	parameters tube_thk = ws/1000
	parameters radius_2 = (ds/2000)-tube_thk
	parameters gs_axis = axis
endif 

A = 2 * (radius_1 + radius_2) - (angle_2 < 180) * (radius_1 * (1 + cos(angle_2)) + radius_2 * (1 - abs(cos(angle_2))))

B = 2 * (radius_1 + radius_2) \
			- (angle_2 < 270 & angle_2 > 180) * (radius_1 + radius_2) * (1 + sin(angle_2)) \
			- (angle_2 <= 180) * (radius_1 + radius_2) \
			- (angle_2 < 90) * (radius_1 + radius_2) * (1 - sin(angle_2))

ZZYZX = 2 * radius_2

parameters	A		= A,
			B		= B,
			ZZYZX	= ZZYZX

lock "a","b","zzyzx"
if gs_axis=0 or (abs(angle_1)>=eps and abs(angle_3)>=eps) then hideparameter "gs_axis_line"
