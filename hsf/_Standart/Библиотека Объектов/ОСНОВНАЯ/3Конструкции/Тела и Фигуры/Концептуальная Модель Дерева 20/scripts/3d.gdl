
if gs_shadow then
	shadow on
else
	shadow off
endif

if iTreeForm = TREE_FORM_1 then						!Tree
	unID = 1
	hotspot 0, 0, 0, unID				:unID = unID + 1
	hotspot 0, 0, zzyzx, unID			:unID = unID + 1
	hotspot -A/2, 0, 0, unID			:unID = unID + 1
	hotspot 0, -B/2, 0, unID			:unID = unID + 1
	hotspot A/2, 0, 0, unID				:unID = unID + 1
	hotspot 0, B/2, 0, unID				:unID = unID + 1
	hotspot -A/2, 0, zzyzx, unID		:unID = unID + 1
	hotspot 0, -B/2, zzyzx, unID		:unID = unID + 1
	hotspot A/2, 0, zzyzx, unID			:unID = unID + 1
	hotspot 0, B/2, zzyzx, unID			:unID = unID + 1
endif

material matTrunk
cylind heightTrunk, diamTrunk/2

if iTreeForm = TREE_FORM_1 then						!Tree
	addz heightTrunk
	cone heightGreen/2, diamTrunk/2, 0, 90, 90
	del 1
	
	addz heightTrunk + heightGreen/2
	mulz heightGreen / widthGreen
	material matGreen
	
	resol gs_resol
	
	if bEllipsoid then	
		sphere widthGreen/2
	else
		for i = 1 to nGreen step 1
			roty rnd (360)
			rotz rnd (360)
			addx widthGreen/2 - diamGreen/2
	
			sphere diamGreen/2
	
			del 3
		next i
	endif
	del 2
else
	resol gs_resol
	material matTrunk

	cylind heightTrunk, diamTrunk/2
	
	material matGreen
	addz heightTrunk
	
	cone ZZYZX - heightTrunk, diamGreen/2, 0, 90, 90					!ZZYZX - heightTrunk
	
	del 1
endif

