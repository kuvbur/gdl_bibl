
if gs_detlevel_3D_m = DLEV3D_OFF and not(gs_2D_projection) then End
if gs_detlevel_3D_m = DLEV3D_SIMPLE then gs_resol = 12

if gs_shadow then
	shadow on
else
	shadow off
endif

rotx angle_1
roty angle_2

unID=1
addy rac

hotspot 0,0,0,unID,zzyzx,1+256 : unID=unID+1
hotspot 0,0,-1,unID,zzyzx,3 : unID=unID+1
hotspot 0,0,zzyzx,unID,zzyzx,2 : unID=unID+1

hotspot	0,0,0,unID,rac,1+128 : unID=unID+1
hotspot	0,1,0,unID,rac,3 : unID=unID+1
hotspot	0,-rac,0,unID,rac,2 : unID=unID+1

rotz sang
hotspot	0,0,zzyzx,unID,rac,1+128 : unID=unID+1
hotspot	0,1,zzyzx,unID,rac,3 : unID=unID+1
hotspot	0,-rac,zzyzx,unID,rac,2 : unID=unID+1
del 2

pen gs_cont_pen
material gs_prim_mat
inan=90
rotx inan-90
rr=int(gs_resol*sang/360)
if rr<1 then rr=1

!!!!hotspot 0,0,0,1
!!!!hotspot rac*sin(sang),rac-rac*cos(sang),zzyzx,2

resol gs_resol

for n=0 to rr+1
put rac*sin(n*sang/rr),rac-rac*cos(n*sang/rr),n*zzyzx/rr,0
next n

tube 2,n+1,1+2+16+32,
0,0,901,
rat,360,4001,
rac*sin(-sang/rr),rac-rac*cos(-sang/rr),-zzyzx/rr,0,
get (nsp)



