
!! Ellipsoid

If gs_detlevel_3D_m = DLEV3D_OFF then END
If gs_detlevel_3D_m = DLEV3D_SIMPLE then gs_resol = 18


if gs_shadow then
	shadow on
else
	shadow off
endif

if GLOB_CONTEXT<20 or GLOB_CONTEXT>40 then
	resol gs_resol
else
	resol 12
endif


pen gs_cont_pen

unID=1
hotspot 0,0,0,unID : unID=unID+1

material gs_prim_mat

hotspot 0,0,0,unID,angle,6 : unID=unID+1
hotspot 1,0,0,unID,angle,4+128 : unID=unID+1
hotspot 0,-1,0,unID,angle,7 : unID=unID+1
hotspot 3/4*rad_x*cos(angle),0,3/4*rad_x*sin(angle),unID,angle,5 : unID=unID+1

roty -angle

hotspot 0,0,0,unID,rad_x,1+128 : unID=unID+1
hotspot -1,0,0,unID,rad_x,3 : unID=unID+1
hotspot rad_x,0,0,unID,rad_x,2 : unID=unID+1

hotspot 0,0,0,unID,rad_x,1+128 : unID=unID+1
hotspot 1,0,0,unID,rad_x,3 : unID=unID+1
hotspot -rad_x,0,0,unID,rad_x,2 : unID=unID+1

hotspot 0,0,0,unID,rad_y,1+128 : unID=unID+1
hotspot 0,-1,0,unID,rad_y,3 : unID=unID+1
hotspot 0,rad_y,0,unID,rad_y,2 : unID=unID+1

hotspot 0,0,0,unID,rad_y,1+128 : unID=unID+1
hotspot 0,1,0,unID,rad_y,3 : unID=unID+1
hotspot 0,-rad_y,0,unID,rad_y,2 : unID=unID+1

hotspot 0,0,0,unID,rad_z,1+128 : unID=unID+1
hotspot 0,0,-1,unID,rad_z,3 : unID=unID+1
hotspot 0,0,rad_z,unID,rad_z,2 : unID=unID+1

hotspot 0,0,0,unID,rad_z,1+128 : unID=unID+1
hotspot 0,0,1,unID,rad_z,3 : unID=unID+1
hotspot 0,0,-rad_z,unID,rad_z,2 : unID=unID+1

material gs_prim_mat

mul 1,rad_y/rad_x,rad_z/rad_x
RESOL gs_resol
sphere rad_x
del 1
