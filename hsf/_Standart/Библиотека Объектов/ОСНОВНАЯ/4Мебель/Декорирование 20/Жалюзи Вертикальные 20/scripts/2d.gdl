
pen gs_cont_pen
add2 -a/2,0
mul2 1, B/0.05

rect2 0,-0.025,a,0.025

line2 0,0,a,0
hotspot2 a/2,0.025
hotspot2 0,-0.025
hotspot2 a,-0.025
hotspot2 a/2,-0.025
hotspot2 0,0.025
hotspot2 a,0.025


fill gs_fill_type
POLY2_B 5, 2+64,gs_fill_pen,gs_back_pen,
0,0.025,1,
a,0.025,1,
a,-0.025,1,
0,-0.025,1,
0,0.025,1


if iOpOrientation = ONE_SIDE gosub 5
if iOpOrientation = BOTH_SIDES gosub 6
end

5:

x=a*(pc/100)
k=a/(wc-0.005)
if fra(k)>0 gosub 10

for l=1 to k-1
	add2 x/k,0
	gosub 20
next l
del top
mul2 1, B/0.05
line2 (a/2)-0.15,-0.1,(a/2)-0.05,-0.075
line2 (a/2)-0.15,-0.05,(a/2)-0.05,-0.075
return

6:
x=a*(pc/100)
k=a/(wc-0.005)
if fra(k)>0 gosub 10

for l=1 to (k/2)
	add2 x/k,0
	gosub 20
next l
del top
mul2 1, B/0.05
add2 a/2,0
for l=1 to (k/2)
	add2 -x/k,0
	gosub 20
next l
del top
mul2 1, B/0.05
line2 -0.15,-0.1,-0.05,-0.075
line2 -0.15,-0.05,-0.05,-0.075
line2 0.15,-0.1,0.05,-0.075
line2 0.15,-0.05,0.05,-0.075
return

10: k=int(k)+1 : return

20:
rot2 ac

add2 -wc/2,0
! brick wc,0,c-0.125
line2 0,0,wc,0
del 2
return
