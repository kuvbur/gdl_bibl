
! const values for parameter: iBottomSofaType
BOT_SOFATYPE_1CHAIR    = 1
BOT_SOFATYPE_2CHAIRS   = 2
BOT_SOFATYPE_2SEATSOFA = 3
BOT_SOFATYPE_3SEATSOFA = 4


! const values for parameter: iTopSofaType
TOP_SOFATYPE_1CHAIR    = 1
TOP_SOFATYPE_2CHAIRS   = 2
TOP_SOFATYPE_2SEATSOFA = 3
TOP_SOFATYPE_3SEATSOFA = 4


! const values for parameter: iSofaSymbolType
SOFASYMBOL_RECTSIMPLE   = 1
SOFASYMBOL_RECT1        = 2
SOFASYMBOL_RECT2        = 3
SOFASYMBOL_RECT3        = 4
SOFASYMBOL_RECT4        = 5
SOFASYMBOL_CURVEDSIMPLE = 6
SOFASYMBOL_CURVED       = 7

dim	stLegTypes[5]
	stLegTypes[1]	= `Тип 1`
	stLegTypes[2]	= `Тип 2`
	stLegTypes[3]	= `Тип 3`
	stLegTypes[4]	= `Тип 4`
	stLegTypes[5]	= `Тип 5`

! const values for parameter: iLegType
LEG_TYPE_1		= 1
LEG_TYPE_2		= 2
LEG_TYPE_3		= 3
LEG_TYPE_4		= 4
LEG_TYPE_5		= 5

reqBMinSpace = 0
call "fa_minimalspace" parameters all MSType = 0,
				returned_parameters  reqBMinSpace,
									MSFillType,
									MSFillPen,
									MSFillBackPen,
									MSContLineType,
									MSContLinePen
if reqBMinSpace = 0 then
	MSSuccess = 0
else
	MSSuccess = 1
endif

	! Top/Bottom MAX WIDTH of Sofa

	MSTop=0
	if not(bSeatTop) then
		TopWW = TableWidth
		MSTop = MS2
	endif
	IF iTopSofaType = TOP_SOFATYPE_1CHAIR THEN
		TopWW = MAX(ArmchairWidth,TableWidth)
		MSTop = MS2
	ENDIF
	IF iTopSofaType = TOP_SOFATYPE_2CHAIRS THEN
		TopWW = MAX(ArmchairWidth*2+MS,TableWidth)
		MSTop = MS2
	ENDIF
	IF iTopSofaType = TOP_SOFATYPE_2SEATSOFA 	OR iTopSofaType = TOP_SOFATYPE_3SEATSOFA	THEN
		TopWW = MAX(TopSofaWidth,TableWidth)
	endif

	MSBottom=0
	if not(bSeatBottom)	then
		BottomWW = TableWidth
		MSBottom = MS2
	endif
	IF iBottomSofaType = BOT_SOFATYPE_1CHAIR 	THEN
		BottomWW = MAX(ArmchairWidth,TableWidth)
		MSBottom = MS2
	ENDIF
	IF iBottomSofaType = BOT_SOFATYPE_2CHAIRS 	THEN
		BottomWW = MAX(ArmchairWidth*2+MS,TableWidth)
		MSBottom = MS2
	ENDIF
	IF iBottomSofaType = BOT_SOFATYPE_2SEATSOFA 	OR iBottomSofaType = BOT_SOFATYPE_3SEATSOFA	THEN
		BottomWW = MAX(BottomSofaWidth,TableWidth)
	endif

	SofaWW = MAX(TopWW,BottomWW)

	! Top/Bottom MAX DEPTH of Armchair/Table

	LeftDD = MAX(LeftArmchair*ArmchairWidth,TableDepth)
	RightDD = MAX(RightArmchair*ArmchairWidth,TableDepth)

	SofaDD = MAX(LeftDD,RightDD)

	!!! Left Part Width for A
	LeftA = LeftArmchair*(MS+MSSuccess*MS2+ArmchairDepth)

	!!! Right Part Width for A
	RightA = RightArmchair*(MS+MSSuccess*MS2+ArmchairDepth)


	! Top Part Depth for B
	if not(bSeatTop) then
		TopB = MSSuccess*MS2
		TopBB = 0
	endif
	IF iTopSofaType = TOP_SOFATYPE_1CHAIR OR iTopSofaType = TOP_SOFATYPE_2CHAIRS THEN
		TopB = ArmchairDepth+MSSuccess*MS2+MS
		TopBB = ArmchairDepth+MS
	ENDIF
	IF iTopSofaType = TOP_SOFATYPE_2SEATSOFA 	OR iTopSofaType = TOP_SOFATYPE_3SEATSOFA THEN
		TopB = SofaDepth+MS
		TopBB = SofaDepth+MS
	ENDIF

	! Bottom Part Depth for B
	if not(bSeatBottom) then
		BottomB = MSSuccess*MS2
		BottomBB = 0
	endif
	IF iBottomSofaType = BOT_SOFATYPE_1CHAIR OR iBottomSofaType = BOT_SOFATYPE_2CHAIRS THEN
		BottomB = ArmchairDepth+MSSuccess*MS2+MS
		BottomBB = ArmchairDepth+MS
	ENDIF
	IF iBottomSofaType = BOT_SOFATYPE_2SEATSOFA 	OR iBottomSofaType = BOT_SOFATYPE_3SEATSOFA THEN
		BottomB = SofaDepth+MS
		BottomBB = SofaDepth+MS
	ENDIF
