

call "FM_types" parameters all

values "A" range (0, )
values "B" range (0, )
VALUES "gs_detlevel_3D" 	`Детальный`,`Откл.`
VALUES "gs_detlevel_3D_m" 	2, 1, 0
values{2} "iShelfSymbolDetlev" 	SYMB_SIMPLE, `Простой`,
								SYMB_DETAILED, `Детальный`

VALUES "vpn" RANGE [0,)
VALUES "shelf_num" RANGE [0,)
VALUES "bpt" RANGE [0,)
VALUES "p_th" RANGE [0,)
VALUES "p_th_up" RANGE [0,)
VALUES "p_th_low" RANGE [0,)
VALUES "p_th_right" RANGE [0,)
VALUES "p_th_left" RANGE [0,)

IF GLOB_MODPAR_NAME = "gs_detlevel_3D" THEN
	IF gs_detlevel_3D = `Откл.` THEN gs_detlevel_3D_m = 0
	IF gs_detlevel_3D = `Детальный` THEN gs_detlevel_3D_m = 2
	parameters gs_detlevel_3D_m = gs_detlevel_3D_m
ELSE
	IF gs_detlevel_3D_m = 0 THEN gs_detlevel_3D = `Откл.`
	IF gs_detlevel_3D_m = 2 THEN gs_detlevel_3D = `Детальный`
	parameters gs_detlevel_3D = gs_detlevel_3D
ENDIF

values "side_vis" stSideVisValues
values "side_vis_mirror" stSideVisValues
values "side_vis_m" 1, 2, 3, 4

if GLOB_MODPAR_NAME = "side_vis" then
	if side_vis = stSideVisValues[1] then
		side_vis_m = 1
		side_vis_mirror = stSideVisValues[1]
	endif
	if side_vis = stSideVisValues[2] then
		side_vis_m = 2
		side_vis_mirror = stSideVisValues[3]
	endif
	if side_vis = stSideVisValues[3] then
		side_vis_m = 3
		side_vis_mirror = stSideVisValues[2]
	endif
	if side_vis = stSideVisValues[4] then
		side_vis_m = 4
		side_vis_mirror = stSideVisValues[4]
	endif
	parameters	side_vis_m = side_vis_m,
				side_vis_mirror = side_vis_mirror
else
	if GLOB_MODPAR_NAME = "side_vis_mirror" then
		if side_vis_mirror = stSideVisValues[1] then
			side_vis_m = 1
			side_vis = stSideVisValues[1]
		endif
		if side_vis_mirror = stSideVisValues[2] then
			side_vis_m = 3
			side_vis = stSideVisValues[3]
		endif
		if side_vis_mirror = stSideVisValues[3] then
			side_vis_m = 2
			side_vis = stSideVisValues[2]
		endif
		if side_vis_mirror = stSideVisValues[4] then
			side_vis_m = 4
			side_vis = stSideVisValues[4]
		endif
		parameters	side_vis_m = side_vis_m,
					side_vis = side_vis
	else
		if side_vis_m = 1 then
			side_vis = stSideVisValues[1]
			side_vis_mirror = stSideVisValues[1]
		endif
		if side_vis_m = 2 then
			side_vis = stSideVisValues[2]
			side_vis_mirror = stSideVisValues[3]
		endif
		if side_vis_m = 3 then
			side_vis = stSideVisValues[3]
			side_vis_mirror = stSideVisValues[2]
		endif
		if side_vis_m = 4 then
			side_vis = stSideVisValues[4]
			side_vis_mirror = stSideVisValues[4]
		endif
		parameters	side_vis = side_vis,
					side_vis_mirror = side_vis_mirror
	endif
endif

IF SYMB_MIRRORED then
	hideparameter "side_vis"
else
	hideparameter "side_vis_mirror"
endif

IF same_thk THEN
	HIDEPARAMETER "p_th_up","p_th_low","p_th_right","p_th_left"
ELSE
	HIDEPARAMETER "p_th"
ENDIF

IF shelf_num=0 THEN HIDEPARAMETER "shelf_thk", "gs_sh_mat"
IF vpn=0 THEN HIDEPARAMETER "vpth", "gs_vp_mat"
IF abs(bpt) < EPS THEN HIDEPARAMETER "bpmat"

IF gs_detlevel_3D_m = 0 THEN HIDEPARAMETER "gs_shadow"

IF shelf_num=0 THEN HIDEPARAMETER "shelf_thk", "gs_sh_mat"
IF vpn=0 THEN HIDEPARAMETER "vpth", "gs_vp_mat"
IF abs(bpt) < EPS THEN HIDEPARAMETER "bpmat"

parameters ac_bottomlevel = placementHeight
parameters ac_toplevel = placementHeight+zzyzx
