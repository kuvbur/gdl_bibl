
call "FM_types" parameters all

call "fa_counter_sink" parameters ALL returned_parameters sink_a, sink_b, sink_z

VALUES "numDrawers" 1, 2
if not(bDrawer) then
	hideparameter "numDrawers"
	lock "numDrawers"
endif

values "sink_dist" Range [-((A-right_cab-left_cab)/2-sink_a/2),((A-right_cab-left_cab)/2-sink_a/2)]
values "sink_disty" Range [-((B-front_cab-rear_cab)/2-sink_b/2),((B-front_cab-rear_cab)/2-sink_b/2)]

if cab_size then
	values "front_cab" range [0,)
	values "rear_cab" range [0,)
	values "left_cab" range [0,)
	values "right_cab" range [0,)
else				! Counter
	if gs_sink_type_m <>0 then
		values "front_cab" range [0, B-rear_cab-sink_b]
		values "rear_cab" range [0, B-front_cab-sink_b]
		values "left_cab" range [0, A-right_cab-sink_a]
		values "right_cab" range [0, A-left_cab-sink_a]
	else
		values "front_cab" range [0, B-rear_cab]
		values "rear_cab" range [0, B-front_cab]
		values "left_cab" range [0, A-right_cab]
		values "right_cab" range [0, A-left_cab]
	endif
endif

if gs_sink_type_m <>0 then
	values "ZZYZX" range [sink_z+toe_h, )

	if cab_size then
		values "A" range [sink_a+left_cab+right_cab, )
		values "B" range [sink_B+front_cab+rear_cab, )
	else
		values "A" range [sink_a, )
		values "B" range [sink_B, )
	endif
else
	values "A" range [0, )
	values "B" range [front_cab+rear_cab+2*0.03, )
	values "ZZYZX" range [count_th+toe_h+drawer_h, )
endif

values "door_w" range [a/10, )
IF gs_door_bw THEN
	door_w=(a-left_cab-right_cab)/2
	PARAMETERS door_w=door_w
	LOCK "door_w"
ENDIF

if cab_size = 1 then	! Cabinet
	if gs_sink_type_m <> 0 then
		if B-sink_b < EPS then
			lock "sink_disty"
		endif
		if A-sink_a < EPS then
			lock "sink_dist"
		endif
	endif
else					! Counter
	if gs_sink_type_m <> 0 then
		if (B-front_cab-rear_cab)-sink_b < EPS then
			lock "sink_disty"
		endif
		if (A-left_cab-right_cab)-sink_a <EPS then
			lock "sink_dist"
		endif
	endif
endif

! --- Drawer ---
values "drawerHeight" range (0, )

if not(bDrawer) then
	hideparameter "bUseDoorFront", "drawerHeight"
	lock "bUseDoorFront", "drawerHeight"
endif

! --- Minimal Space ---
values "MSFront" range [0, )
values "MSSide" range (-a/2,]
values "MSSide2" range (-a/2,]
values "MSRear" range [0, )
values "RMSSide" range (-a/2,]
values "RMSSide2" range (-a/2,]

if not(dob_face) then
	lock			"MSRear",
					"RMSSide",
					"RMSSide2"
	hideparameter	"MSRear",
					"RMSSide",
					"RMSSide2"
endif

MEP_NumberConnections = 3
PARAMETERS MEP_NumberConnections = MEP_NumberConnections

dim DimConName[3]
	DimConName[1] = `Подключение Горячей Воды`
	DimConName[2] = `Подключение Холодной Воды`
	DimConName[3] = `Подключение Канализации`

CALL "Kitchen Cabinets UI macro" parameters all \
									pageIds = pageIds,
									DimConName = DimConName,
									CornCabType = 0,
									bEdgeBevel = 1,
									CabinetType = 0,
									bCounterOverhang = 1,
									bMirror = 1,

									CornerEdgeSizes = 0,
									bToe = 1,
									bShelf = 1,
									bShowSurfaces = 1,

									bPossibleUndermounted = 1,
									possibleSinkTypes = 4,
									bSidePanels = 1,
									bDrainSymb = 1,

									bMoreDoorPanels = 1,
									bPossibleDrawer = 1,
									bPossibleDrawerNum = 1,
									nDoors = 1,

									bDoubleFacadeEdit = 1,
									bOneRearPanelEdit = 1,
									bHorKnobPosition = 1,
									bVerKnobPosition = 1,
									bPositionType = 1,

									bCabSymbol = 1,
									bPossibleSinknTap = 1,
									bApplianceEdit = 0,
									bSymbLineEdit = 0,
									bMinSpaceEdit = 1,
									bShadowEdit = 1,
									bHotspotEdit = 1,

									bEnableBackSplash	= 1,
									bEnableDoorpanel	= 1,
									bEnableEndpanel		= 1,
									bDoubleDoor			= 1,
									bEnableKnobPlacing	= 1,
									bEnableShelf		= 1,
									bEnableSink			= 1,
									isTallCabinet		= 0,

									bKnobParams = 1
