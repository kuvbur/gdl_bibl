
! --- Handling overhungs in case of end panels ---

PEN gs_cont_pen


if cab_size=1 then
	a=a-(lrear_cab+right_cab)
	b=b-(left_cab+rrear_cab)
endif

unID=1
HOTSPOT2 0, B, unID, A, 1+256	:	unID=unID+1
HOTSPOT2 -0.001, B, unID, A, 3+128	:	unID=unID+1
HOTSPOT2 A, B, unID, A, 2	:	unID=unID+1

HOTSPOT2 0, 0, unID, A, 1+256	:	unID=unID+1
HOTSPOT2 -0.001, 0, unID, A, 3	:	unID=unID+1
HOTSPOT2 A, 0, unID, A, 2+128	:	unID=unID+1

HOTSPOT2 0, 0, unID, B, 1+256	:	unID=unID+1
HOTSPOT2 0, -0.001, unID, B, 3+128	:	unID=unID+1
HOTSPOT2 0, B, unID, B, 2	:	unID=unID+1

HOTSPOT2 A, 0, unID, B, 1+128	:	unID=unID+1
HOTSPOT2 A, -0.001, unID, B, 3	:	unID=unID+1
HOTSPOT2 A, B, unID, B, 2	:	unID=unID+1

HOTSPOT2 depth_cabl, 0, 		unID, B, 1+256	:	unID=unID+1
HOTSPOT2 depth_cabl, -0.001, 	unID, B, 3		:	unID=unID+1
HOTSPOT2 depth_cabl, B, 		unID, B, 2+128	:	unID=unID+1

HOTSPOT2 0, 		B-depth_cabr, unID, A, 1+128	:	unID=unID+1
HOTSPOT2 -0.001, 	B-depth_cabr, unID, A, 3+128	:	unID=unID+1
HOTSPOT2 A, 		B-depth_cabr, unID, A, 2		:	unID=unID+1

unID=100

HOTSPOT2 0, 0, unID, depth_cabl, 1+128	:	unID=unID+1
HOTSPOT2 -0.001, 0, unID, depth_cabl, 3	:	unID=unID+1
HOTSPOT2 depth_cabl, 0, unID, depth_cabl, 2	:	unID=unID+1

HOTSPOT2 0, b-depth_cabr, unID, depth_cabl, 1+128	:	unID=unID+1
HOTSPOT2 -0.001, b-depth_cabr, unID, depth_cabl, 3	:	unID=unID+1
HOTSPOT2 depth_cabl, b-depth_cabr, unID, depth_cabl, 2	:	unID=unID+1

HOTSPOT2 A, b, unID, depth_cabr, 1+128	:	unID=unID+1
HOTSPOT2 A, b+1, unID, depth_cabr, 3	:	unID=unID+1
HOTSPOT2 A, b-depth_cabr, unID, depth_cabr, 2	:	unID=unID+1

HOTSPOT2 depth_cabl, b, unID, depth_cabr, 1+128	:	unID=unID+1
HOTSPOT2 depth_cabl, b+1, unID, depth_cabr, 3	:	unID=unID+1
HOTSPOT2 depth_cabl, b-depth_cabr, unID, depth_cabr, 2	:	unID=unID+1

IF cab_size=0 THEN
	unID=400
	HOTSPOT2 depth_cabl-front_cab, left_cab,unID: unID=unID+1
	HOTSPOT2 depth_cabl-front_cab, b-depth_cabr+front_cab,unID: unID=unID+1
	HOTSPOT2 a-right_cab, b-depth_cabr+front_cab,unID: unID=unID+1
	HOTSPOT2 lrear_cab, b-rrear_cab,unID: unID=unID+1
	HOTSPOT2 a-right_cab, b-rrear_cab,unID: unID=unID+1
	HOTSPOT2 lrear_cab, left_cab,unID: unID=unID+1
ELSE
	unID=200
	HOTSPOT2 -lrear_cab, -left_cab,unID: unID=unID+1
	HOTSPOT2 depth_cabl+front_cab, -left_cab,unID: unID=unID+1
	HOTSPOT2 depth_cabl+front_cab, B-depth_cabr-front_cab,unID: unID=unID+1
	HOTSPOT2 A+right_cab, B-depth_cabr-front_cab,unID: unID=unID+1
	HOTSPOT2 A+right_cab, B+rrear_cab,unID: unID=unID+1
	HOTSPOT2 -lrear_cab, B+rrear_cab,unID: unID=unID+1
ENDIF

IF cab_size=1 THEN
	a=a+(lrear_cab+right_cab)
	b=b+(left_cab+rrear_cab)
ENDIF


IF cab_size=0 THEN
	depth_cabl=depth_cabl
	depth_cabr=depth_cabr
ENDIF
IF cab_size=1 THEN
	depth_cabl=depth_cabl+front_cab+lrear_cab
	depth_cabr=depth_cabr+front_cab+rrear_cab
ENDIF

ADD2 -lrear_cab*cab_size, -left_cab*cab_size

FILL gs_fill_type

POLY2_B 7, 2+64, gs_fill_pen, gs_back_pen,
	0, b, 1,
	a, b, 1,
	a, b-depth_cabr, 1,
	depth_cabl, b-depth_cabr, 1,
	depth_cabl, 0, 1,
	0, 0, 1,
	0, b, -1

LINE2 0, 0, 0, b
LINE2 0, b, a, b

LINE2 depth_cabl, 0, depth_cabl, b-depth_cabr
LINE2 a, b-depth_cabr, depth_cabl, b-depth_cabr

HOTLINE2 0, 0, 0, b
HOTLINE2 0, b, a, b
HOTLINE2 a, b, a, b-depth_cabr
HOTLINE2 a, b-depth_cabr, depth_cabl, b-depth_cabr
HOTLINE2 depth_cabl, 0, depth_cabl, b-depth_cabr
HOTLINE2 0, 0, depth_cabl, 0

bLeftSideVisible  = (side_vis2D_m=1) OR (side_vis2D_m=3)
bRightSideVisible = (side_vis2D_m=2) OR (side_vis2D_m=3)
if bRightSideVisible then
	LINE2 a, b, a, b-depth_cabr
endif
if bLeftSideVisible then
	LINE2 0, 0, depth_cabl, 0
endif

if bs_h>0 then
	if dob_face = 0 then
		LINE2 0.02, b-0.02,   a, b-0.02
		LINE2 0.02, b-0.02,   0.02, 0
	endif
	if dob_face = 1 then
		line2 0.02, B, 0.02, 0
	endif
endif

call "fa_minimalspace" parameters all MSType = 31, unID = 3000, diff = depth_cabr, diff2 = depth_cabl

DEL 1

	If iCabSymbolType2D <> 1 Then
		ADD2 -lrear_cab*(cab_size), -left_cab*(cab_size)

			IF iCabSymbolType2D = 2 OR iCabSymbolType2D = 4 Then
					LINE2 depth_cabl-0.025, b-depth_cabr+0.025,a, b-depth_cabr+0.025
					LINE2 depth_cabl-0.025, 0, depth_cabl-0.025, b-depth_cabr+0.025
			Endif

			IF iCabSymbolType2D = 3 OR iCabSymbolType2D = 4 Then
					add2 depth_cabl,b-depth_cabr
						LINE2 0,0,cos(15)*(a-depth_cabl),-sin(15)*(a-depth_cabl)
						arc2 0,0,(a-depth_cabl),-15,0
					del 1
			Endif

		DEL 1


		If dob_face = 1 Then
			ADD2 -lrear_cab*(cab_size), -left_cab*(cab_size)

				IF iCabSymbolType2D = 2 OR iCabSymbolType2D = 4 Then
					LINE2 0,b-0.025,a,b-0.025
				Endif

				ADD2 0,b
				MUL2 1,-1
					IF iCabSymbolType2D = 3 OR iCabSymbolType2D = 4 Then
							LINE2 0,0,cos(15)*a/2,-sin(15)*a/2
							LINE2 a,0,a-(cos(15)*a/2),-sin(15)*a/2
							arc2 0,0,a/2,-15,0
							arc2 a,0,a/2,180,195
					Endif
				DEL 2

			DEL 1

		Endif

	Endif


END



