
targetGUID = TO_GUID

! ==============================================================================
! Subroutines
! ==============================================================================

gosub "newparameters_BWM"

! ==============================================================================
! Set migration GUID
! ==============================================================================

setmigrationguid targetGuid

! ==============================================================================
end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! en
! ==============================================================================


! ==============================================================================
! newparameters
! ==============================================================================
"newparameters_BWM":
	if targetGUID # "" then
	
		newparameter "gs_knob_type", "String"
		newparameter "gs_knob_type_m","Integer"

		if not(bKnob) then
			gs_knob_type_m	= 0
			gs_knob_type	= `Нет`
		else
			if iKnobStyle = 1 then
				gs_knob_type_m	= 1
				gs_knob_type	= `Стиль 1`
			else
				if iKnobStyle = 2 then
					gs_knob_type_m	= 2
					gs_knob_type	= `Стиль 2`
				else
					if iKnobStyle = 3 then
						gs_knob_type_m	= 3
						gs_knob_type	= `Стиль 3`
					else
						if iKnobStyle = 4 then
							gs_knob_type_m	= 4
							gs_knob_type	= `Стиль 4`
						else
							if iKnobStyle = 5 then
								gs_knob_type_m	= 5
								gs_knob_type	= `Стиль 5`
							else
								if iKnobStyle = 6 then
									gs_knob_type_m	= 6
									gs_knob_type	= `Стиль 6`
								else
									if iKnobStyle = 7 then
										gs_knob_type_m	= 7
										gs_knob_type	= `Стиль 7`
									else
										gs_knob_type_m	= 8
										gs_knob_type	= `Стиль 8`
									endif
								endif
							endif
						endif
					endif
				endif
			endif
		endif
		
		parameters	gs_knob_type_m	= gs_knob_type_m,
					gs_knob_type	= gs_knob_type

		newparameter "gs_detlevel_3D", "String"
		newparameter "gs_detlevel_3D_m", "Integer"
		
		if iDetlevel3D = 2 then
			gs_detlevel_3D_m	= 2
			gs_detlevel_3D		= `Детальный`
		else
			if iDetlevel3D = 1 then
				gs_detlevel_3D_m	= 1
				gs_detlevel_3D		= `Простой`
			else
				gs_detlevel_3D_m	= 0
				gs_detlevel_3D		= `Нет`
			endif
		endif
		
		parameters	gs_detlevel_3D_m	= gs_detlevel_3D_m,
					gs_detlevel_3D		= gs_detlevel_3D
					
		newparameter "gs_detlevel_2D", "String"
		newparameter "gs_detlevel_2D_m", "Integer"

		if iDetlevel2D = 2 then
			gs_detlevel_2D_m	= 2
			gs_detlevel_2D		= `Детальный`
		else
			gs_detlevel_2D_m	= 1
			gs_detlevel_2D		= `Простой`
		endif
		
		parameters	gs_detlevel_2D_m	= gs_detlevel_2D_m,
					gs_detlevel_2D		= gs_detlevel_2D
		
		newparameter "gs_type", "String"
		newparameter "gs_type_m", "Integer"
	
		if iStyle = 1 then
			gs_type_m	= 1
			gs_type		= `Корзина`
		else
			if iStyle = 2 then
				gs_type_m	= 2
				gs_type		= `Только Ящики`
			else
				gs_type_m	= 3 
				gs_type		= `С Поддоном Внизу`
			endif
		endif
		
		parameters	gs_type		= gs_type,
					gs_type_m	= gs_type_m
					
		if iCartStyles = 1 then	! Basket
			gs_type_m	= 1
			bSide		= 0
			bUpper		= 0
		else
			if iCartStyles = 2 then	! Drawers Only
				gs_type_m	= 2
				bSide		= 0
				bUpper		= 1
			else
				if iCartStyles = 2 then	! With Lower Tray
					gs_type_m	= 3
					bSide		= 1
					bUpper		= 1
				else
					gs_type_m	= gs_type_m
					bSide		= bSide
					bUpper		= bUpper
				endif
			endif
		endif
		
		parameters	gs_type_m	= gs_type_m,
					bSide		= bSide,
					bUpper		= bUpper
	endif
return

