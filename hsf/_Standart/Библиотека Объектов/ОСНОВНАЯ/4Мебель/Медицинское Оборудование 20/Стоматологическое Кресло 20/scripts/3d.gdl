

if gs_detlevel_3D_m = 0 then end
bDetailed = (gs_detlevel_3D_m = 2)

if not(gs_shadow) then shadow off
res = 16
if bDetailed then res = 32
pen gs_cont_pen

										unID = 1
										unID = unID + 1

mul A/1.907303828845, B/1.615, ZZYZX/1.566
add 0.6173038288445, 0.98, 0

!bounding box hotspots
hotspot -0.6173038288445, -0.98, 	0,	unID : unID = unID + 1
hotspot -0.6173038288445, 0.635, 	0,	unID : unID = unID + 1
hotspot 1.29, 0.635, 				0, 	unID : unID = unID + 1
hotspot 1.29, -0.98, 				0, 	unID : unID = unID + 1

hotspot 1, 0.24,					0,	unID : unID = unID + 1	!base front left corner

if bDetailed then
	material gs_leg_mat
	prism_ 11, 0.04,			! --- Basement
		0.35, -0.24, 79,
		0.96, -0.24, 79,
		1.00, -0.2, 1079,
		1.00, 0.2, 79,
		0.96, 0.24, 1079,
		0.35, 0.24, 79,
		0.02901115488411, 0.1482889013955, 79,
		0, 0.1098279434898, 1079,
		0, -0.1098279434898, 79,
		0.02901115488411, -0.1482889013955, 1079,
		0.35, -0.24, -1

	add 0.85, 0, 0.04
	group "a01"
		rr = 0.025
		tube 7, 21, 1+2+16+32,			! --- Half Cylind
			0, 0, 1,
			0.2-rr, 0, 1,
			0.2, -rr, 1001,
			0.2, -0.035, 0,
			-0.2, -0.035, 0,
			-0.2, -rr, 1,
			-0.2+rr, 0, 1001,

			-0.003746870321371, 0, -0.03804261279314, 0,
			0, 0, 0, 0,
			-0.003746870321371, 0, 0.03804261279315, 0,
			-0.0148434911603,0,  0.07462326931119, 0,
			-0.032863425601, 0, 0.1083361954388, 0,
			-0.05711417766862, 0, 0.1378858223314, 0,
			-0.08666380456118, 0, 0.162136574399, 0,
			-0.1203767306888, 0, 0.1801565088397, 0,
			-0.1569573872069, 0, 0.1912531296786, 0,
			-0.195, 0, 0.195, 0,
			-0.2313274010897, 0, 0.191586325008, 0,
			-0.2663829053526, 0, 0.1814648197955, 0,
			-0.300805135958, 0, 0.1664911251961, 0,
			-0.3340772728819, 0, 0.1491110678221, 0,
			-0.3660313547654, 0, 0.1294123840896, 0,
			-0.3965060739344, 0, 0.1074945150924, 0,
			-0.4253475906987, 0, 0.08346810461254, 0,
			-0.4524103099507, 0, 0.0574544405781, 0,
			-0.477557616146, 0, 0.02958484278895, 0,
			-0.5006625629532, 0, 0, 0,
			-0.477557616146, 0, -0.02958484278895, 0

		material gs_chair_mat
		tube 7, 43, 1+2+16+32,			! ---
			0, 0, 1,
			0.24-rr, 0, 1,
			0.24, rr, 1001,
			0.24, 0.027, 0,
			-0.24, 0.027, 0,
			-0.24, rr, 1,
			-0.24+rr, 0, 1001,

			-0.9740368644861, 0, 0.50, 0,
			-0.9740368644861, 0, 0.335, 0,
			-0.9740368644861, 0, 0.3068791565064, 0,
			-0.9718592401832, 0, 0.2894227667448, 0,
			-0.9654598403543, 0, 0.2730363311061, 0,
			-0.9552309032755, 0, 0.258724223038, 0,
			-0.9417993909678, 0, 0.2473636742731, 0,
			-0.934331035013, 0, 0.2379503418168, 0,
			-0.9305523206798, 0, 0.2272804894509, 0,
			-0.9305163422822, 0, 0.2147635389802, 0,
			-0.9331181309675, 0, 0.2023314569733, 0,
			-0.9339908881937, 0, 0.1896600615405, 0,
			-0.9331181309675, 0, 0.1769886661077, 0,
			-0.9305163422822, 0, 0.1645565841008, 0,
			-0.9262346598168, 0, 0.1525986092448, 0,
			-0.9203539479168, 0, 0.141340581223, 0,
			-0.9129852703811, 0, 0.1309951204423, 0,
			-0.9042677928978, 0, 0.1217576124603, 0,
			-0.8943661547453, 0, 0.1138025179111, 0,
			-0.8834673593962, 0, 0.1072800776217, 0,
			-0.8717772427482, 0, 0.1023134751467, 0,
			-0.8595165856835, 0, 0.09899651030947, 0,
			-0.8469169443761, 0, 0.09739182768789, 0,
			-0.8342162770954, 0, 0.09752973350184, 0,
			-0.8050923217648, 0, 0.09964212879543, 0,
			-0.7675602935177, 0, 0.106512034153, 0,
			-0.7315587716212, 0, 0.1191508301832, 0,
			-0.6979686621399, 0, 0.1372492635131, 0,
			-0.6676118673048, 0, 0.160364491206, 0,
			-0.6412311747333, 0, 0.1879309164985, 0,
			-0.6194720824726, 0, 0.2192740281492, 0,
			-0.6028670045798, 0, 0.2536269047701, 0,
			-0.5949087975275, 0, 0.279942570851, 0,
			-0.4385146529521, 0, 0.279942570851, 0,
			-0.4322449586074, 0, 0.28145767125, 0,
			-0.4271128945638, 0, 0.2838881295063, 0,
			-0.4225836780191, 0, 0.2873132435444, 0,
			-0.4188473206652, 0, 0.2915893214678, 0,
			-0.4160605718156, 0, 0.2965369713678, 0,
			-0.4143403423883, 0, 0.3019486272512, 0,
			-0.4137588002078, 0, 0.3075972569412, 0,
			-0.4137588002078, 0, 0.335, 0,
			-0.4137588002078, 0, 0.50, 0
	endgroup

	group "a02"
		material gs_leg_mat
		rotx 90
		addz -0.20
		prism_ 20, 0.40,
			-0.03516935003317,  0, 15,
			-0.03824045115525, 0.03118141297008, 15,
			-0.04733573382767, 0.06116454172644, 15,
			-0.06210567143802, 0.08879715144573, 15,
			-0.081982663567, 0.113017336433, 15,
			-0.1062028485542, 0.132894328562, 15,
			-0.1338354582735, 0.1476642661723, 15,
			-0.16381858703, 0.1567595488447, 15,
			-0.1950787657479, 0.1598384077159, 15,
			-0.2247783734733, 0.1570475444798, 15,
			-0.254498259761, 0.1484665815098, 15,
			-0.2857029434806, 0.1348925220757, 15,
			-0.3167695341853, 0.1186645554111, 15,
			-0.3466054411933, 0.1002716596876, 15,
			-0.3750600496072, 0.07980668423946, 15,
			-0.4019897174753, 0.05737293848429, 15,
			-0.4272585009105, 0.03308367040586, 15,
			-0.4507388403514, 0.007061494865982, 15,
			-0.4562536732143, 0, 15,
			-0.03516935003317, 0, -1
		del 1

		material gs_chair_mat
		addz -0.24
		prism_ 42, 0.48,
			-0.9035083072087, 0.2120069261614, 15,
			-0.9063097303171, 0.1986209344333, 15,
			-0.9069269209503, 0.1896600615405, 15,
			-0.9063097303171, 0.1806991886478, 15,
			-0.9044698147509, 0.1719075518269, 15,
			-0.9014419231076, 0.1634511909387, 15,
			-0.8972832404958, 0.1554898137832, 15,
			-0.8920723082716, 0.1481737798416, 15,
			-0.8859075406982, 0.1416412605692, 15,
			-0.8789053662822, 0.1360156298734, 15,
			-0.8711980288918, 0.13140313406, 15,
			-0.8629310901841, 0.1278908852533, 15,
			-0.8542606805105, 0.1255452161868, 15,
			-0.8453505502214, 0.1244104274352, 15,
			-0.835340523527, 0.1245191178566, 15,
			-0.8085096717981, 0.1264651916049, 15,
			-0.7745052383881, 0.1326894019706, 15,
			-0.7425009844898, 0.1439249057997, 15,
			-0.7126404026121, 0.1600138605144, 15,
			-0.6856541387471, 0.1805625922632, 15,
			-0.6622025084105, 0.2050683027903, 15,
			-0.6428593396603, 0.2329313721937, 15,
			-0.6280979323395, 0.2634700307725, 15,
			-0.6149512586444, 0.306942570851, 15,
			-0.4417307041422, 0.306942570851, 15,
			-0.4412890313265, 0.307049303113, 15,
			-0.4411814498918, 0.3071002518509, 15,
			-0.4410865057111, 0.3071720511661, 15,
			-0.441008181925, 0.3072616889017, 15,
			-0.4409497644077, 0.3073654045357, 15,
			-0.4409137039164, 0.3074788469443, 15,
			-0.4407588002078, 0.3089834560973, 15,
			-0.4407588002078, 0.335, 15,
			-0.9470368644861, 0.335, 15,
			-0.9470368644861, 0.308556733565, 15,
			-0.9454838369024, 0.2961072698189, 15,
			-0.941534932761, 0.285995624151, 15,
			-0.9352229202171, 0.2771639923832, 15,
			-0.9223149943986, 0.2662462999183, 15,
			-0.9103823319044, 0.2512060260178, 15,
			-0.9035656539392, 0.2319579587913, 15,
			-0.9035083072087, 0.2120069261614, -1
		del 2
	endgroup

	placegroup addgroup("a01", "a02")
	killgroup "a01"
	killgroup "a02"

	material gs_leg_mat
	add -0.245, 0, 0.08
	roty -85.4
	rotz -90
	prism_ 9, 0.60,
		-0.15, 0, 15,
		-0.15, 0.032, 79,
		-0.12, 0.064, 79,
		-0.10, 0.096, 15,
		0.10, 0.096, 15,
		0.12, 0.064, 79,
		0.15, 0.032, 79,
		0.15, 0, 15,
		-0.15, 0, -1
	del 4
else
	material gs_leg_mat
	prism_ 7, 0.04,			! --- Basement
		0.35, -0.24, 15,
		1.00, -0.24, 15,
		1.00, 0.24, 15,
		0.35, 0.24, 15,
		0, 0.14, 15,
		0, -0.14, 15,
		0.35, -0.24, -1

	add 0.85, 0, 0.04
	rotx 90
	addz -0.20
	prism_ 11, 0.40,			! --- Half Cylind
		0, 0, 15,
		-0.0148434911603, 0.07462326931119, 79,
		-0.05711417766862, 0.1378858223314, 79,
		-0.1203767306888, 0.1801565088397, 79,
		-0.195, 0.195, 79,
		-0.2663829053526, 0.1814648197955, 79,
		-0.3340772728819, 0.1491110678221, 79,
		-0.3965060739344, 0.1074945150924, 79,
		-0.4524103099507, 0.0574544405781, 79,
		-0.5006625629532, 0, 79,
		0, 0, -1
	del 1

	material gs_chair_mat
	addz -0.24
	prism_ 16, 0.48,			! ---
		-0.7315587716212, 0.1191508301832, 79,
		-0.6412311747333, 0.1879309164985, 79,
		-0.5949087975275, 0.279942570851, 15,
		-0.4385146529521, 0.279942570851, 79,
		-0.421878936011, 0.2879935149567, 79,
		-0.4137588002078, 0.3075972569412, 79,
		-0.4137588002078, 0.335, 15,
		-0.9740368644861, 0.335, 15,
		-0.9740368644861, 0.3068791565064, 79,
		-0.9552309032755, 0.258724223038, 79,
		-0.9305523206798, 0.2272804894509, 79,
		-0.9331181309675, 0.1769886661077, 79,
		-0.9203539479168, 0.141340581223, 79,
		-0.8834673593962, 0.1072800776217, 79,
		-0.8342162770954, 0.09752973350184, 79,
		-0.7315587716212, 0.1191508301832, -1
	del 2

	material gs_leg_mat
	add -0.245, 0, 0.08
	roty -85.4
	rotz -90
	prism_ 5, 0.60,
		-0.15, 0, 15,
		-0.10, 0.096, 15,
		0.10, 0.096, 15,
		0.15, 0, 15,
		-0.15, 0, -1
	del 4
endif


add -0.1240368644861, 0, 0.375
if bDetailed then		! --- seat cushion
	material gs_seat_mat
	gosub "seat cushion"

	muly -1
	gosub "seat cushion"
	del 1

	add 0.5602780642783+0.55, 0, -0.1035017519995
	roty 90+12
	rotz 180
	mulz 0.075/0.21
	revolve 11, 180, 1+2+4+8,
		0, 0, 1,
		0, 0.2, 1,
		0.002928932188135, 0.2070710678119, 1,
		0.01, 0.21, 1,
		0.045, 0.21, 1,
		0.05042102835185, 0.2084031215395, 1,
		0.05397136238079, 0.2044175397036, 1,
		0.055, 0.1988487113214, 1,
		0.055, 0.18, 1,
		0.04, 0.07, 1,
		0.04, 0, 1
	del 4

	if GLOB_CONTEXT = 4 then
		lin_ 0.5537385893709, 0, 0, 0.5784990815709, 0, -0.0008174576292696
		lin_ 0.5784990815709, 0, -0.0008174576292696, 0.578682155103, 0, -0.0008222791472559
		lin_ 0.578682155103, 0, -0.0008222791472559, 0.610090829413, 0, -0.003286862779036
		lin_ 0.610090829413, 0, -0.003286862779036, 0.6413270891243, 0, -0.007386995642918
		lin_ 0.6413270891243, 0, -0.007386995642918, 0.6712903814185, 0, -0.01295208950772
		lin_ 0.6712903814185, 0, -0.01295208950772, 1.045115620893, 0, -0.09091996622306
		lin_ 1.045115620893, 0, -0.09091996622306, 1.094417239949, 0, -0.1013761863828
		lin_ 1.094417239949, 0, -0.1013761863828, 1.110278064278, 0, -0.1035017519995
	endif
else
	material gs_seat_mat
	add 0.695109341832, -0.24, 0.04083947767752
	roty 90+12
	cutplane 86
	del 2

	add 0.695109341832, 0.24, 0.04083947767752
	roty 90+12
	cutplane 274
	del 2

	rotx 90
	addz -0.24
	prism_ 15, 0.48,
		0.5537385893709, 0, 79,
		0.5786081596657, -0.0008222791472559, 79,
		0.6099236638805, -0.003286862779036, 79,
		0.6410672649441, -0.007386995642918, 79,
		0.671797094098, -0.01311143955972, 79,
		1.183409716972, -0.1201744526366, 15,
		1.195063380868, -0.06534827458429, 15,
		0.695109341832, 0.04083947767752, 79,
		0.6621130279726, 0.04695640182646, 79,
		0.6281218681576, 0.05143142291201, 79,
		0.5939432260449, 0.05412134038323, 79,
		0.5606931372356, 0.05499999651154, 79,
		0, 0.055, 15,
		0, 0, 15,
		0.5537385893709, 0, -1
	del 2
	cutend
	cutend
endif
del 1

add -0.1240368644861, 0, 0.40
roty 40
muly 0.58/0.48
if bDetailed then
	addx -0.08
	gosub "back cushion"

	muly -1
	gosub "back cushion"
	del 1

	material gs_seat_mat
	roty 90
	rotz 180
	mulz 0.08/0.24
	revolve 11, 180, 1+2+4+8,
		0, 0, 1,
		0, 0.24, 1,
		0.01, 0.24, 1,
		0.01956708580913, 0.2380969883128, 1,
		0.02767766952966, 0.2326776695297, 1,
		0.03309698831278, 0.2245670858091, 1,
		0.035, 0.215, 1,
		0.035, 0.195, 1,
		0.02515026202625, 0.1344637446247, 1,
		0.02, 0.095, 1,
		0.02, 0, 1
	del 3

	material gs_chair_mat
	roty 90
	mulz 0.08/0.24
	revolve 7, 180, 1+2+4+8,
		0, 0, 1,
		0, 0.24, 1,
		0.02152872911617, 0.24, 1,
		0.02799247807747, 0.2376301998247, 1,
		0.03139266835449, 0.2316439898731, 1,
		0.05, 0.12, 1,
		0.05, 0, 1
	del 2

	material gs_seat_mat
	addx -0.36
	roty -90
	mulz 0.06/0.19
	revolve 11, 180, 1+2+4+8,
		0, 0, 1,
		0, 0.19, 1,
		0.01, 0.19, 1,
		0.01956708580913, 0.1880969883128, 1,
		0.02767766952966, 0.1826776695297, 1,
		0.03309698831278, 0.1745670858091, 1,
		0.035, 0.165, 1,
		0.035, 0.145, 1,
		0.02515026202625, 0.0844637446247, 1,
		0.02, 0.045, 1,
		0.02, 0, 1
	del 2

	material gs_chair_mat
	roty -90
	rotz 180
	mulz 0.06/0.19
	revolve 7, 180, 1+2+4+8,
		0, 0, 1,
		0, 0.19, 1,
		0.02152872911617, 0.19, 1,
		0.02799247807747, 0.1876301998247, 1,
		0.03139266835449, 0.1816439898731, 1,
		0.05, 0.07, 1,
		0.05, 0, 1
	del 5

	add -0.05, -0.075, -0.048
	block 0.12, 0.15, 0.048
	del 1
else
	material gs_seat_mat
	prism_ 17, 0.035,
		0, 0, 79,
		-0.004824590337127, 0.08208483439816, 79,
		-0.01871644455048, 0.1542690263248, 79,
		-0.04729343577556, 0.24, 79,
		-0.22, 0.24, 79,
		-0.4664265667123, 0.1839939621108, 79,
		-0.4859626665871, 0.1221296458404, 79,
		-0.4963815572472, 0.06498382723188, 79,
		-0.5, 0, 79,
		-0.4963815572472, -0.06498382723188, 79,
		-0.4859626665871, -0.1221296458404, 79,
		-0.4664265667123, -0.1839939621108, 79,
		-0.22, -0.24, 79,
		-0.04729343577556, -0.24, 79,
		-0.01871644455048, -0.1542690263248, 79,
		-0.004824590337127, -0.08208483439816, 79,
		0, 0, -1

	material gs_chair_mat
	addz -0.05
	prism_ 17, 0.05,
		0, 0, 79,
		-0.004824590337127, 0.08208483439816, 79,
		-0.01871644455048, 0.1542690263248, 79,
		-0.04729343577556, 0.24, 79,
		-0.22, 0.24, 79,
		-0.4664265667123, 0.1839939621108, 79,
		-0.4859626665871, 0.1221296458404, 79,
		-0.4963815572472, 0.06498382723188, 79,
		-0.5, 0, 79,
		-0.4963815572472, -0.06498382723188, 79,
		-0.4859626665871, -0.1221296458404, 79,
		-0.4664265667123, -0.1839939621108, 79,
		-0.22, -0.24, 79,
		-0.04729343577556, -0.24, 79,
		-0.01871644455048, -0.1542690263248, 79,
		-0.004824590337127, -0.08208483439816, 79,
		0, 0, -1
	del 1
endif
del 1

add -0.50, 0, 0.01
roty 5

rotz -90
hotspot 0, -0.16, 0,						unID: unID = unID + 1	!headrest
del 1

if bDetailed then		! --- headrest
	material gs_seat_mat
	rotz -90
	tube 10, 13, 1+2,
		0.13, 0.03, 1,
		0.03, 0.03, 1,
		0.01851949702905, 0.02771638597534, 1,
		0.008786796564404, 0.0212132034356, 1,
		0.002283614024661, 0.01148050297095, 1,
		0, 0, 1,
		0.16, 0, 1,
		0.1577163859753, 0.01148050297095, 1,
		0.1512132034356, 0.0212132034356, 1,
		0.141480502971, 0.02771638597534, 1,

		0.1127380379395, 0, 0.0455213441384, 0,
		0.1, 0, 0.03, 0,
		0.0844786558616, 0, 0.01726196206046, 0,
		0.0667704820751, 0, 0.007796745974225, 0,
		0.04755599382826, 0, 0.001968094687335, 0,
		0.02757359312881, 0, 0, 0,
		0, 0, 0, 0,
		-0.02757359312881, 0, 0, 0,
		-0.04755599382826, 0, 0.001968094687335, 0,
		-0.0667704820751, 0, 0.007796745974225, 0,
		-0.0844786558616, 0, 0.01726196206046, 0,
		-0.1, 0, 0.03, 0,
		-0.1127380379395, 0, 0.0455213441384, 0

	add -0.1, -0.08, 0.03
	roty -45
	mul 0.03014515717129/0.03, 1, 0.03/0.08
	revolve 7, 180, 1+2+4+8,
		0.03, 0, 1,
		0.03, 0.05, 1,
		0.02771638597534, 0.06148050297095, 1,
		0.0212132034356, 0.0712132034356, 1,
		0.01148050297095, 0.07771638597534, 1,
		0, 0.08, 1,
		0, 0, 1
	del 3

	add 0.1, -0.08, 0.03
	roty 45
	rotz 180
	mul 0.03014515717129/0.03, 1, 0.03/0.08
	revolve 7, 180, 1+2+4+8,
		0.03, 0, 1,
		0.03, 0.05, 1,
		0.02771638597534, 0.06148050297095, 1,
		0.0212132034356, 0.0712132034356, 1,
		0.01148050297095, 0.07771638597534, 1,
		0, 0.08, 1,
		0, 0, 1
	del 4

	material gs_chair_mat
	tube 4, 13, 1+2,
		0.16, 0, 0,
		0, 0, 0,
		0.005, -0.01, 1,
		0.155, -0.01,  1,

		0.1127380379395, 0, 0.0455213441384, 0,
		0.1, 0, 0.03, 0,
		0.0844786558616, 0, 0.01726196206046, 0,
		0.0667704820751, 0, 0.007796745974225, 0,
		0.04755599382826, 0, 0.001968094687335, 0,
		0.02757359312881, 0, 0, 0,
		0, 0, 0, 0,
		-0.02757359312881, 0, 0, 0,
		-0.04755599382826, 0, 0.001968094687335, 0,
		-0.0667704820751, 0, 0.007796745974225, 0,
		-0.0844786558616, 0, 0.01726196206046, 0,
		-0.1, 0, 0.03, 0,
		-0.1127380379395, 0, 0.0455213441384, 0

	add -0.1, -0.08, 0.03
	roty -45
	rotz 180
	mul 0.03014515717129/0.03, 1, 0.03/0.08
	revolve 3, 180, 1+2+4+8,
		0.01, 0, 1,
		0.01, 0.075, 1,
		0, 0.08, 0
	del 4

	add 0.1, -0.08, 0.03
	roty 45
	mul 0.03014515717129/0.03, 1, 0.03/0.08
	revolve 3, 180, 1+2+4+8,
		0.01, 0, 1,
		0.01, 0.075, 1,
		0, 0.08, 0
	del 4

	add -0.12, -0.02, -0.025
	block 0.15, 0.04, 0.015
	del 1
else
	material gs_seat_mat
	roty -90
	rotz -90
	prism_ 17, 0.16,
		-0.06773090386753, 0.04232674420647, 79,
		-0.1004073163783, 0.06914358291441, 15,
		-0.1212132034356, 0.0512132034356, 15,
		-0.0844786558616, 0.01726196206046, 79,
		-0.05774293336474, 0.002971420658198, 79,
		-0.02757359312881, 0, 79,
		0.02757359312881, 0, 79,
		0.05774293336474, 0.002971420658198, 79,
		0.0844786558616, 0.01726196206046, 79,
		0.1212132034356, 0.0512132034356, 15,
		0.1004073163783, 0.06914358291441, 15,
		0.06773090386753, 0.04232674420647, 79,
		0.04886378265598, 0.03224205781556, 79,
		0.02609978763573, 0.03, 79,
		-0.02609978763573, 0.03, 79,
		-0.04886378265598, 0.03224205781556, 79,
		-0.06773090386753, 0.04232674420647, -1

	material gs_chair_mat
	prism_ 17, 0.16,
		-0.06070265026766, -0.006785458394257, 79,
		-0.0280648616265,  -0.01, 79,
		0.0280648616265, -0.01, 79,
		0.06070265026766, -0.006785458394257, 79,
		0.09006123985962, 0.008907034678456, 79,
		0.1269926599061, 0.04278209653562, 15,
		0.1212132034356, 0.0512132034356, 15,
		0.0844786558616, 0.01726196206046, 79,
		0.05774293336474, 0.002971420658198, 79,
		0.02757359312881, 0, 79,
		-0.02757359312881, 0, 79,
		-0.05774293336474, 0.002971420658198, 79,
		-0.0844786558616, 0.01726196206046, 79,
		-0.1212132034356, 0.0512132034356, 15,
		-0.1269926599061, 0.04278209653562, 15,
		-0.09006123985962, 0.008907034678456, 79,
		-0.06070265026766, -0.006785458394257, -1
	del 2
endif
del 4


for j = -1 to 1 step 2
	add  0.14, -0.24-0.015+0.51*(j=-1), 0.41
	muly j
	if bDetailed then			 ! --- armrest
		material gs_seat_mat
		tube 14, 8, 1+2,
			0.025, 0, 1,
			0.02853553390593, 0.001464466094067, 1,
			0.03, 0.005, 1,
			0.03, 0.02, 1,
			0.02815689044783, 0.02628960433666, 1,
			0.0200740265044, 0.03295816805604, 1,
			0.01, 0.035, 1,
			-0.01, 0.035, 1,
			-0.0200740265044, 0.03295816805604, 1,
			-0.02815689044783, 0.02628960433666, 1,
			-0.03, 0.02, 1,
			-0.03, 0.005, 1,
			-0.02853553390593, 0.001464466094067, 1,
			-0.025, 0, 1,

			-0.1616366911044, 0, 0.1913436322281, 0,
			-0.1355898522866, 0, 0.2062285973807, 0,
			-0.1147281841906, 0, 0.2164162735148, 0,
			-0.09272340140372, 0, 0.2238181297185, 0,
			-0.06994568799941, 0, 0.2283096453679, 0,
			-0.0467782309791, 0, 0.2298152601826, 0,
			0.0629355904393, 0, 0.2298152601826, 0,
			0.1429355904393, 0, 0.2298152601826, 0

		add 0.0629355904393, 0, 0.2298152601826
		roty -90
		rotx 180
		mulz 0.08/0.03
		revolve 9, 180, 1+2+4+8,
			0, 0, 1,
			0, 0.025, 1,
			0.001464466094067, 0.02853553390593, 1,
			0.005, 0.03, 1,
			0.02, 0.03, 1,
			0.02628960433666, 0.02815689044783, 1,
			0.03295816805604, 0.0200740265044, 1,
			0.035, 0.01, 1,
			0.035, 0, 1
		del 4

		add -0.1355898522866, 0, 0.2062285973807
		roty -116.02830515561
		revolve 9, 180, 1+2+4+8,
			0, 0, 1,
			0, 0.025, 1,
			0.001464466094067, 0.02853553390593, 1,
			0.005, 0.03, 1,
			0.02, 0.03, 1,
			0.02628960433666, 0.02815689044783, 1,
			0.03295816805604, 0.0200740265044, 1,
			0.035, 0.01, 1,
			0.035, 0, 1
		del 2


		material gs_chair_mat
		rotx 90
		addz -0.015
		cylind 0.021, 0.035
		cutpolya 2, 2, 0,
			0, 0, 913,
			0.035, 360, 4013
		del 2

		rotx 90
		addz -0.006
		prism_ 25, 0.012,
			-0.027, 0.02227105745132, 15,
			0.027, 0.02227105745132, 15,
			0.027, 0.0639453216531, 79,
			0.007264886810316, 0.09159755116751, 79,
			-0.0217819286418, 0.1099380784195, 15,
			-0.02447196017824, 0.1611673663553, 79,
			-0.02722175496167, 0.2135347928396, 15,
			-0.01723551282983, 0.2140591668324, 79,
			-0.007773644690837, 0.2245697829571, 79,
			-0.00848247889384, 0.2380689077787, 15,
			-0.06340681061893, 0.2351848508181, 15,
			-0.06269797641593, 0.2216857259965, 79,
			-0.05218736029126, 0.2122238578575, 79,
			-0.04220111815942, 0.2127482318503, 15,
			-0.03945132337599, 0.160380805366, 79,
			-0.06649494689508, 0.1277802729046, 15,
			-0.1593756757762, 0.1582225736265, 79,
			-0.1669257191186, 0.1811728143658, 1079,
			-0.1495330684699, 0.2056165396018, 15,
			-0.1576809768819, 0.211414089818, 15,
			-0.1749690980017, 0.1871172709468, 79,
			-0.1629541222009, 0.1424202948628, 1079,
			-0.09199238322891, 0.1101189777966, 79,
			-0.027, 0.0639453216531, 15,
			-0.027, 0.02227105745132, -1
		del 2
		cutend
	else
		rotx 90
		addz -0.03
		prism_ 9, 0.06,
			0.1429355904393, 0.2648152601826, 15,
			-0.0490528232431, 0.2648152601826, 79,
			-0.1197619695531, 0.2555857378735, 79,
			-0.1790024837825, 0.2217316108489, 15,
			-0.1616366911044, 0.1913436322281, 15,
			-0.1083883534868, 0.2217734151056, 79,
			-0.0467782309791, 0.2298152601826, 79,
			0.1429355904393, 0.2298152601826, 15,
			0.1429355904393, 0.2648152601826, -1
		del 2

		rotx 90
		addz -0.015
		cylind 0.021, 0.035
		cutpolya 2, 2, 0,
			0, 0, 913,
			0.035, 360, 4013
		del 2

		rotx 90
		addz -0.006
		prism_ 18, 0.012,
			-0.027, 0.02227105745132, 15,
			0.027, 0.02227105745132, 15,
			0.027, 0.0639453216531, 15,
			-0.0217819286418, 0.1099380784195, 79,
			-0.02722175496167, 0.2135347928396, 15,
			-0.01723551282983, 0.2140591668324, 79,
			-0.007773644690837, 0.2245697829571, 79,
			-0.008049082818691, 0.2298152601826, 15,
			-0.0467782309791, 0.2298152601826, 15,
			-0.1083883534868, 0.2217734151056, 15,
			-0.1616366911044, 0.1913436322281, 15,
			-0.1663250374418, 0.1992656803824, 15,
			-0.1749690980017, 0.1871172709468, 79,
			-0.1794969064645, 0.1619367942123, 79,
			-0.1629541222009, 0.1424202948628, 79,
			-0.09199238322891, 0.1101189777966, 79,
			-0.027, 0.0639453216531, 15,
			-0.027, 0.02227105745132, -1
		del 2
		cutend
	endif
	del 2
next j

						! --- box
material gs_frame_mat
addy 0.34
prism_ 7, 0.04,
	0.10, -0.10, 15,
	0.60, -0.10, 15,
	0.60, 0, 9,
	0.60, 0.20, 11,
	0.10, 0.20, 11,
	0.10, 0, 13,
	0.10, -0.10, -1

addz 0.04
if bDetailed then
	group "box01"
		rotx 90
		addz -0.20
		prism_ 5, 0.20,
			0, 0, 15,
			0.10, 0, 15,
			0.10, 0.30, 79,
			0, 0.60, 1079,
			0, 0, -1

		prism_ 5, 0.20,
			0, 0.775, 15,
			0.18, 0.775, 15,
			0.18, 0.81, 15,
			0, 0.81, 15,
			0, 0.775, -1
		del 2
	endgroup

	group "box02"
		prism_ 5, 0.81,
			0.50, 0.20, 12,
			0.10, 0.20, 79,
			0.10, 0, 1079,
			0.50, 0, 8,
			0.50, 0.20, -1
	endgroup

	placegroup subgroup ("box02", "box01")

	rotx 90
	addz -0.20
	prism_ 5, 0.20,
		0.50, 0, 12,
		0.60, 0, 13,
		0.60, 0.51, 79,
		0.50, 0.81, 1010,
		0.50, 0, -1
	del 2

	add 0.10, 0.10, 0.775
	cylind 0.01, 0.075
	del 1

	material gs_seat_mat
	add 0.10, 0.10, 0.785
	roty -90
	revolve 13, 360, 4+8+16+32,
		0.007, 0, 1,
		0.007, 0.04670515956884, 1,
		0.009057253494241, 0.05554019481665, 1,
		0.01480578478301, 0.06255763935093, 1,
		0.06363398766297, 0.10011779541244, 1,
		0.065, 0.10289197937431, 1,
		0.06427418396187, 0.10502596703728, 1,
		0.06239776951673, 0.10627487900256, 1,
		0.05936601233703, 0.10566616333617, 1,
		0.01053780945706, 0.06810600727466, 1,
		0.002777292217225, 0.05863245715338, 1,
		0, 0.04670515956884, 1,
		0, 0, 1
	del 2

	material gs_frame_mat
	add 0.24, 0.10, 0.81
	rotz 180
	zz = 0.06
	z2 = 0.02
	rr = 0.03
	ang = 145
	gosub "tap"
	del 2
else
	prism_ 5, 0.81,
		0.60, 0.20, 15,
		0, 0.20, 15,
		0, 0, 15,
		0.60, 0, 15,
		0.60, 0.20, -1
endif


material gs_frame_mat

resol res							! --- lamp
add 0.32, 0.10, 0.81
cylind 0.62, 0.026
addz 0.62
rotz -45
hotspot 0.026, 0, 0.03 + 0.04 + 0.026, 		unID: unID = unID + 1	!lamp arm
gosub "elbow"
add 0.07, 0, 0.07
roty 90
cylind 0.43, 0.026
addz 0.43
gosub "elbow"
add 0.07, 0, 0.07
roty 90
rotz -45
gosub "elbow"
add 0.07, 0, 0.07
roty 90
cylind 0.43, 0.026
addz 0.43
rotz 180
gosub "elbow"

add 0.07, 0, 0.07
roty 90
rotz 180
IF bDetailed THEN
	CYLIND 0.027, 0.052/2
	ADDz 0.027
	CYLIND 0.007, 0.052/2
	DEL 1
ELSE
	CYLIND 0.027+0.007, 0.052/2
ENDIF

CUTPOLYA 2,1,0,
	0,0,979,
	0.052/2, 360, 4079

ROTz 90
ADDy -0.01
ROTx -45
PRISM_ 12, 0.030,
	0.1204077863561, -0.1224077863561,      79,
	0.1204077863561, -0.1774077863561,      8,
	0.1274077863561, -0.1774077863561,      13,
	0.1274077863561, -0.1224077863561,      79,
	0, -0.1224077863561,    900,
	0,          180,   4079,
	-0.1274077863561, -0.1224077863561,      79,
	-0.1274077863561, -0.1774077863561,      8,
	-0.1204077863561, -0.1774077863561,      13,
	-0.1204077863561, -0.1224077863561,      79,
	0, -0.1254461143081,    900,
	0, -177.1090501809,   4079
CUTEND

FOR i=1 TO 2

	RESOL res/2

	ADD 0.1274077863561, -0.1774077863561, 0.015
	ROTy -90
	PRISM_ 4,0.007,
		-0.030/2,0,13,
		-0.030/2,-0.005,79,
		 0.030/2,-0.005,1079,
		 0.030/2,0,8

	ADD 0,-0.005, 0.007
	CYLIND 0.035, 0.030/2
	DEL 1

	ADD 0,-0.005, -0.022
	CYLIND 0.022, 0.030/2

	CUTPOLYA 2,1,0,
		0,0,979,
		0.030/2, 360,4079
	ADDz 0.005
	ROTx 20
	PRISM_ 4,0.009,
		-0.0125, 0, 15,
		-0.0125, -0.09, 15 + bDetailed * 64,
		 0.0125, -0.09, 15 + bDetailed * 1064,
		 0.0125, 0, 15
	DEL 2


	ADDz 0.1274077863561+0.022
	ROTx 90
	CUTPOLYA 2,1,0,
		0,0,979,
		0.048/2, 360,4079
	ROTy 90
	ADDz -0.030/2

	RESOL res

	PRISM_ 8,0.03,
		-0.03861803853598, 0,      79,
		0.1442529828478, -0.009869217196601,    900,
		0, -34.94186153411,   4079,
		0, 0.1029593645083,      79,
		0, 0.110906029629,      79,
		0.1442529828478, -0.009869217196601,    900,
		0, 36.93064500206,   4079,
		-0.04362512087426, 0,      79
	DEL 4
	CUTEND
	CUTEND

	DEL 3
	MULx -1
NEXT i
DEL 2

RESOL res

ADD 0, -0.1774077863561, 0.015
ROTz 90
REVOLVE 9,360, 1+2+4+8+16+32,
	-0.004951839257174, 0.1005067276928,      1,
	-0.002941247093938, 0.1027332764017,      1,
	-0.09571025754066, 0,    900,
	0, -37.93302113484,   4001,
	0.04061367792001,        0.024,      1,
	0.03756649512396,        0.024,      1,
	-0.09571025754066, 0,    900,
	0, 37.70948429731,   4001,
	-0.004951839257174, 0.1005067276928,      1

RESOL res

DEL 1
ROTx 90
ADDz -0.07
CYLIND 0.148 +  NOT(bDetailed) * 0.015, 0.024
IF bDetailed THEN
	ADDz 0.148
	PRISM_ 3, 0.015,
		0,0,979,
		0.024, 360, 4079,
		0.016, 360, 4079
	DEL 1
ENDIF
DEL 3

DEL 3

del 16



resol res							! --- tray table
add 0.42, 0.10, 0.81
cylind 0.32, 0.026
addz 0.32
gosub "elbow"

add 0.07, 0, 0.07
roty 90
cylind 0.52, 0.026

addz 0.52
hotspot -0.026, 0, 0.03, 			unID: unID = unID + 1	!tray arm
gosub "elbow"

add 0.07, 0, 0.07
roty 90
rotz -90
gosub "elbow"

add 0.07, 0, 0.07
roty 90
cylind 0.42, 0.026

addz 0.42
rotz 180
gosub "elbow"

add 0.07, 0, 0.07
roty 90
rotz 180
gosub "elbow"

add 0.07, 0, 0.07
rotz 90
roty 180
hotspot 0.21, -0.34, 0.006,			unID: unID = unID + 1	!tray corner

if bDetailed then
	group "tt01"
		rotx -90
		cutplane
		sphere 0.026
		cutend
		del 1
	endgroup

	group "tt02"
		add -0.21, -0.34, -0.006
		prism_ 15, 0.012,
			0.21, 0, 79,
			0.39, 0, 79,
			0.42, 0.03, 1079,
			0.42, 0.31, 79,
			0.39, 0.34, 1079,
			0.03, 0.34, 79,
			0, 0.31, 1079,
			0, 0.03, 79,
			0.03, 0, 1079,
			0.21, 0, -1,
			0.03, 0.03, 15,
			0.03, 0.31, 15,
			0.39, 0.31, 15,
			0.39, 0.03, 15,
			0.03, 0.03, -1

		prism_ 5, 0.006,
			0.03, 0.03, 15,
			0.03, 0.31, 15,
			0.39, 0.31, 15,
			0.39, 0.03, 15,
			0.03, 0.03, -1
		del 1
	endgroup

	placegroup addgroup("tt01", "tt02")
	killgroup "tt01"
	killgroup "tt02"
else
	rotx -90
	cutplane
	sphere 0.026
	cutend
	del 1

	add -0.21, -0.34, -0.006
	prism_ 5, 0.012,
		0, 0, 15,
		0, 0.34, 15,
		0.42, 0.34, 15,
		0.42, 0, 15,
		0, 0, -1
	del 1
endif
del 18

del 2


! --- dentist device

resol res
add 0.84, -0.24, 0
prism_ 5, 0.04,
	0, 0, 15,
	0.12, 0, 15,
	0.12, -0.125, 79,
	0, -0.125, 1079,
	0, 0, -1

add 0, -0.125, 0.04
hotspot 0.06, -0.395 - 0.06, 0, 	unID: unID = unID + 1	!arm end
prism_ 6, 0.04,
	0.12, -0.20, 79,
	0.12, -0.395, 79,
	0, -0.395, 1079,
	0, 0, 79,
	0.12, 0, 1079,
	0.12, -0.20, -1

add 0.06, -0.395, 0.04
cylind 0.62, 0.05

add 0.14, 0, 0.62
rotz 180

rotx 90
addz -0.22
	hotspot 0, 0.1459495284876, 0, 	unID : unID = unID + 1	!box corner
del 2

if bDetailed then
	rotx 90
	addz -0.22
	group "dd01"
		zz = 0.08
		for i = 1 to 6
			add 0.475, -0.035, zz
			rotz -20
			rotx 90
			mulx 57/18
			addz -0.1
			cylind 0.2, 0.018
			del 5
			zz = zz + 0.056
		next i
	endgroup

	group "dd02"
		prism_ 12, 0.44,
			0.4808808300179, -0.05362949975424, 15,
			0.25, 0, 15,
			0, 0, 15,
			0, 0.1459495284876, 15,
			0.2949428994046, 0.1459495284876, 79,
			0.3218240121791, 0.1335116653671, 79,
			0.4100368410629, 0.003490909111322, 79,
			0.4287997499492, -0.01527199977493, 79,
			0.4523314717327, -0.02885804568116, 79,
			0.4636924336555, -0.03278274161813, 79,
			0.4759727154233, -0.03531216671787, 15,
			0.4808808300179, -0.05362949975424, -1
	endgroup

	placegroup subgroup("dd02", "dd01")
	killgroup "dd01"
	killgroup "dd02"

	del 2


	add 0.15, 0, -0.04764141557581

	! Cables

	RESOL res/2

	rotx 90
	ADDz -2.5 * 0.055

	FOR i=1 TO 6
		TUBE 2,22, 1+2+16+32,
			0,0,901,
			0.0035,360,4001,

			0.1087143445978, 0.05404594434217,      0, 0,
			0.1046563850459, 0.04655982036214,      0, 0,
			0.1217731701349, -0.37174300551,     0, 0,
			0.1217731701349, -0.37174300551,      0, 0,
			0.1242940344297, -0.4248216609243,      0, 0,
			0.1297844347226, -0.4776757423372,      0, 0,
			0.1365922086211, -0.5080958628112,      0, 0,
			0.1482689462214, -0.5247611795534,      0, 0,
			0.1669611746168, -0.5328035411913,      0, 0,
			0.1870906228764, -0.5298228875934,      0, 0,
			0.2026501144498, -0.516708727114,      0, 0,
			0.2252585159235, -0.4764756397724,      0, 0,
			0.2366387169137, -0.4317505667187,      0, 0,
			0.2399989896087, -0.369647906837,      0, 0,
			0.2333560040339, -0.3078101955306,      0, 0,
			0.19415871464, -0.1818975971245,      0, 0,
			0.1892627118503, -0.1237376245448,      0, 0,
			0.1919996799128, -0.08615429393931,      0, 0,
			0.2052338537972, -0.05249655720714,      0, 0,
			0.2277933858616, -0.02422901197649,      0, 0,
			0.2576772791039, -0.003858947543238,      0, 0,
			0.2665661806556, 0.0004228298814093,      0, 0
		ADDz 0.055
	NEXT i
	DEL 7


	! Instuments

	ADD 0.2576772791039, -0.003858947543238, -2.5 * 0.055
	ROTz 30

	FOR i=1 TO 6

		IF i=1 THEN
			RESOL res/2
			REVOLVE 4, 360, 1+2+4+8+16+32,
				0, 0.005816569428423,      2,
				0.01121267043608, 0.006968376945364,      1,
				0.02299457429355, 0.009566836670649,      1,
				0.086, 0.01306546119893,      2
			ADDx 0.086
			ROTy 90

			ADDy 0.02613092239786/2
			ROTz 180
			SWEEP 8,2,0,0.7, 1+2+4+8+16+32,
				0,            0,            0,
				-0.009238676213093, 0.003826784985837,      1,
				-0.01306546119893, 0.01306546119893,      1,
				-0.009238676213093, 0.02230413741202,      1,
				0, 0.02613092239786,      1,
				0.009238676213093, 0.02230413741202,      1,
				0.01306546119893, 0.01306546119893,      1,
				0.009238676213093, 0.003826784985837,      1,

				0,0,0,
				0,0,0.006
			ADDz 0.006
			SWEEP 8,2,0,0.5, 1+2+4+8+16+32,
				0,            0,      1,
				0.006467073349165, 0.002678749490088,      1,
				0.009145822839251, 0.009145822839251,      1,
				0.006467073349165, 0.01561289618842,      1,
				0, 0.0182916456785,      1,
				-0.006467073349165, 0.01561289618842,      1,
				-0.009145822839251, 0.009145822839251,      1,
				-0.006467073349165, 0.002678749490088,      1,
				0,0,0,
				0,0,0.06
			ADDz 0.06
			ROTx 90
			PRISM_ 4, -0.007,
				-0.005,0,15,
				-0.005,0.01,15,
				 0.005,0.01,15,
				 0.005,0,15
			DEL 5

			DEL 2
		ENDIF

		IF i=2 THEN
			RESOL res/2
			REVOLVE 3, 360, 1+2+4+8+16+32,
				0, 0.006,      2,
				0.03195606918877, 0.008669767849777,      1,
				0.05563953563666, 0.008924453629553,      1
			REVOLVE 2, 360, 1+2+4+8+16+32,
				0.05563953563666, 0.008924453629553,      1,
				0.1233343434288, 0.00742812824511,      1
			REVOLVE 2, 360, 1+2+4+8+16+32,
				0.1233343434288, 0.00742812824511,      1,
				0.141, 0.004439234722631,      2
			ADDx 0.141
			ROTy 90
			PRISM 4,0.003,
				-0.0025,-0.0025,
				 0.0025,-0.0025,
				 0.0025, 0.0025,
				-0.0025, 0.0025
			ADDz 0.003
			SWEEP 4,7,0,0.8, 1+2+4+8+16+32,
				-0.0015,-0.0015,1,
				 0.0015,-0.0015,1,
				 0.0015, 0.0015,1,
				-0.0015, 0.0015,1,

				0,            0,0,
				0,0.0005666610499936, 0.008174275131289,
				0,0.002255803694695, 0.01619217234898,
				0,0.002736607607739, 0.02242910959404,
				0,0.0007517538838423, 0.02836130263679,
				0,-0.002618171844269, 0.0318982368969,
				0,-0.006905226971408, 0.03424077007921
			DEL 3
		ENDIF

		IF i=3 THEN
			RESOL res/2
			REVOLVE 4, 360, 1+2+4+8+16+32,
				0, 0.007833184902648,      2,
				0.0144023335702, 0.008731367928787,      1,
				0.02362160321063, 0.011,      1,
				0.09, 0.011,      1
			ADDx 0.09
			ROTy 90

			ADD 0,0.01119904875989, 0.08106240267469
			ROTx 75
			CUTPOLYA 2,1,0,
				0,0,979,
				0.006,360,4079
			DEL 2

			SWEEP 2,6,0,0.85, 1+2+4+8+16+32,
				0,0,901,
				0.011,360,4001,

				0,            0,      0,
				0,0, 0.02092556392168,
				0,0.0008506847559698, 0.03627124308307,
				0,0.002965394745733, 0.05148921139075,
				0,0.006423970021631, 0.06645907494441,
				0,0.01119904875989, 0.08106240267469
			CUTEND

			ADD 0,0.01119904875989, 0.08106240267469
			ROTx 75
			ADDz -0.008
			CYLIND 0.015,0.006
			ADDz 0.015
			RESOL 4
			CYLIND 0.01, 0.001
			DEL 6
		ENDIF

		IF i=4 OR i=5 THEN
			RESOL res/2
			REVOLVE 4, 360, 1+2+4+8+16+32,
				0, 0.007833184902648,      2,
				0.0144023335702, 0.008731367928787,      1,
				0.02362160321063, 0.011,      1,
				0.09, 0.011,      1
			ADDx 0.09
			ROTy 90

			ADD 0,0.01119904875989, 0.08106240267469
			ROTx 75
			CUTPOLYA 2,1,0,
				0,0,979,
				0.0045,360,4079
			DEL 2

			SWEEP 2,6,0,0.82, 1+2+4+8+16+32,
				0,0,901,
				0.011,360,4001,

				0,            0,      0,
				0,0, 0.02092556392168,
				0,0.0008506847559698, 0.03627124308307,
				0,0.002965394745733, 0.05148921139075,
				0,0.006423970021631, 0.06645907494441,
				0,0.01119904875989, 0.08106240267469
			CUTEND

			ADD 0,0.01119904875989, 0.08106240267469
			ROTx 75
			ADDz -0.008
			CYLIND 0.015,0.0045
			ADDz 0.015
			RESOL 4
			CYLIND 0.01, 0.001
			DEL 6
		ENDIF

		IF i=6 THEN
			RESOL res/2
			REVOLVE 4, 360, 1+2+4+8+16+32,
				0, 0.006375974548462,      2,
				0.01281159476405, 0.007457261409962,      1,
				0.02299247224585, 0.0107,      1,
				0.031, 0.011,      2
			REVOLVE 2, 360, 1+2+4+8+16+32,
				0.031, 0.011,      2,
				0.135, 0.011,      2

			ADD 0.125, -0.011,0
			ROTz 90
			ROTy -90
			BPRISM_ gs_frame_mat, gs_frame_mat, gs_frame_mat,
					2,0,0.0115,
					0,0,979,
					0.01,360,4079
			DEL 3

			ADDx 0.135
			ROTy 90
			SWEEP 2,8,0,0.82, 1+2+4+8+16+32,
				0,0,901,
				0.011,360,4001,

				0, 0, 0,
				0, 0.00339583050978, 0.01045158030244,
				0, 0.008405834008695, 0.02129843727983,
				0, 0.01431178438582, 0.0316846873967,
				0, 0.02107169466099, 0.04153649202422,
				0, 0.02863750682481, 0.05078381204945,
				0, 0.03695543349591, 0.05936090580207,
				0, 0.04596634030981, 0.06720679642955
			DEL 2
		ENDIF

		ADDz 0.055
	NEXT i
	DEL 10
else
	rotx 90
	addz -0.22
	prism_ 12, 0.44,
		0.4808808300179, -0.05362949975424, 15,
		0.25, 0, 15,
		0, 0, 15,
		0, 0.1459495284876, 15,
		0.2949428994046, 0.1459495284876, 79,
		0.3218240121791, 0.1335116653671, 79,
		0.4100368410629, 0.003490909111322, 79,
		0.4287997499492, -0.01527199977493, 79,
		0.4523314717327, -0.02885804568116, 79,
		0.4636924336555, -0.03278274161813, 79,
		0.4759727154233, -0.03531216671787, 15,
		0.4808808300179, -0.05362949975424, -1
	del 2
endif
del 5


! --- assist device

resol res
add 0.10, 0.42, 0
rotz 90
prism_ 5, 0.04,
	0, 0, 15,
	0.12, 0, 15,
	0.12, 0.25, 79,
	0, 0.25, 1079,
	0, 0, -1
add 0.06, 0.25, 0.04
cylind 0.55, 0.05
addz 0.55
prism_ 6, 0.04,
	0.06, 0.10, 79,
	0.06, 0.20, 79,
	-0.06, 0.20, 1079,
	-0.06, 0, 79,
	0.06, 0, 1079,
	0.06, 0.10, -1
add 0, 0.20, 0.04
cylind 0.115, 0.05
add 0, -0.08, 0.115
rotz 90

rotx 90
addz -0.155
hotspot 0.321235725064, 0, 0.31 / 2,	unID : unID = unID + 1	!box front bottom
del 2

if bDetailed then
	rotx 90
	addz -0.155

	group "ad01"
		zz = 0.071
		for i = 1 to 4
			add 0.31, 0, zz
			rotz -20
			rotx 90
			mulx 70/18
			addz -0.1
			cylind 0.2, 0.018
			del 5
			zz = zz + 0.056
		next i
	endgroup

	group "ad02"
		prism_ 19, 0.31,
			0.2284742298726, 0, 15,
			0, 0, 15,
			0, 0.1007098312494, 79,
			0.17352355252, 0.1007098312494, 79,
			0.182066949597, 0.09886400179488, 79,
			0.189086297381, 0.09365578936789, 79,
			0.2014265439711, 0.06952047454317, 79,
			0.2124110784571, 0.05479128197907, 79,
			0.2259104509756, 0.04232628887552, 79,
			0.2414667904618, 0.0325482822662, 79,
			0.258552457745, 0.02578891210672, 79,
			0.2765879419879, 0.02227744238751, 79,
			0.2949615165076, 0.02213297496878, 79,
			0.3088825649068, 0.02430853788787, 15,
			0.321235725064, -0.0007411837340231, 15,
			0.2944632488625, -0.007914847111614, 79,
			0.2738386861909, -0.009639433813477, 79,
			0.2517083187311, -0.007346959218877, 79,
			0.2284742298726, 0, -1
	endgroup

	placegroup subgroup("ad02", "ad01")
	killgroup "ad01"
	killgroup "ad02"


	add 0.068, -0.04829016875062, 0.031

	! Cables

	RESOL res/2
	ADDz 0.250/2-1.5 * 0.055

	FOR i=1 TO 4
		IF i=2 THEN
			diam = 0.008
		ELSE
			diam = 0.0035
		ENDIF
		TUBE 2,24, 1+2+16+32,
			0,0,901,
			diam,360,4001,

			0.1271046055914, 0.0536739070643,     0, 0,
			0.1275124751656, 0.04829016875062,     0, 0,
			0.1192940681326, -0.0601899818236,     0, 0,
			0.1157746549505, -0.1422444146939,     0, 0,
			0.1142716635915, -0.2307964469997,     0, 0,
			0.1077965577369, -0.3012815408753,     0, 0,
			0.0983597792045, -0.3708632948294,     0, 0,
			0.08573287778767, -0.4402715387985,     0, 0,
			0.06697028082314, -0.5082325728934,     0, 0,
			0.06236468665891, -0.5426405199037,     0, 0,
			0.06479578885703, -0.571086957432,     0, 0,
			0.07784957065984, -0.5947200103786,     0, 0,
			0.09817923904126, -0.6044124915364,     0, 0,
			0.1258502840605, -0.6007748048525,     0, 0,
			0.1494768254229, -0.5862256761166,     0, 0,
			0.1643753388936, -0.5623959781872,     0, 0,
			0.1710400249196, -0.5286148411224,     0, 0,
			0.1707962446992, -0.4762478856726,     0, 0,
			0.1453149016598, -0.2128215885615,     0, 0,
			0.1443183807588, -0.1419580447188,     0, 0,
			0.1543401198201, -0.0659582313224,     0, 0,
			0.1697288637341, -0.002815476808835,     0, 0,
			0.1823898897185, 0.03711521475755,     0, 0,
			0.1868568841253, 0.04794894216648,      0, 0
		ADDz 0.055
	NEXT i
	DEL 5


	! Instuments

	ADD 0.1823898897185, 0.03711521475755, 0.250/2-1.5 * 0.055
	ROTz 70

	FOR i=1 TO 4

		IF i=1 THEN
			RESOL res/2
			REVOLVE 3, 360, 1+2+4+8+16+32,
				0, 0.006,      2,
				0.035, 0.007840326252332,      1,
				0.06936027612494,        0.001,      1
			RESOL 4
			TUBE 2,10, 1+2+16+32,
				0,0,901,
				0.001,360,4001,

				0,            0,            0, 0,
				0.06936027612494,            0,      0,  0,
				0.09741182820118,            0,      0,  0,
				0.1078179853754, 0.002760941009996,      0, 0,
				0.1154867294522, 0.01031747901895,      0,  0,
				0.1184007431716, 0.02068181336512,      0,  0,
				0.1157934746559, 0.03112753274115,      0,  0,
				0.1083507842917, 0.03890681693314,      0,  0,
				0.09803052431441, 0.04197327032361,      0,  0,
				0.09021728145132, 0.03965172560277,      0,  0
		ENDIF

		IF i=2 THEN
			RESOL res/2
			REVOLVE 9, 360, 1+2+4+8+16+32,
				0.113, 0.007344598969923,      2,
				0.08977762915878, 0.01038524006801,      1,
				0.06740985079682, 0.01147011566951,      1,
				0.05996796066606, 0.01462808037362,      1,
				0.05295142254264, 0.01462808037362,      1,
				0.04590493861766, 0.01136704165946,      1,
				0.02295167660497, 0.01055668114838,      1,
				0.0127, 0.007186864619565,      1,
				0, 0.006004365865163,      2
			ADDx 0.113
			TUBE 2,7, 1+2+16+32,
				0,0,901,
				0.007,360,4001,

				-1,0,0,0,
				0,            0,      0,0,
				0.03590656014866, 0,      0, 0,
				0.04696518324552, 0.001047388329975,      0, 0,
				0.05763053168911, 0.004152305348007,      0, 0,
				0.0843798717302, 0.01426623743468,      0, 0,
				0.09164705202988, 0.01151851476565,      0, 0
			DEL 1
		ENDIF

		IF i=3 THEN
			RESOL res/2
			REVOLVE 4, 360, 1+2+4+8+16+32,
				0, 0.006375974548462,      2,
				0.01281159476405, 0.007457261409962,      1,
				0.02299247224585, 0.0107,      1,
				0.031, 0.011,      2
			REVOLVE 2, 360, 1+2+4+8+16+32,
				0.031, 0.011,      2,
				0.135, 0.011,      2

			ADD 0.125, -0.011,0
			ROTz 90
			ROTy -90
			BPRISM_ gs_frame_mat, gs_frame_mat, gs_frame_mat,
					2,0,0.0115,
					0,0,979,
					0.01,360,4079
			DEL 3

			ADDx 0.135
			ROTy 90
			SWEEP 2,8,0,0.82, 1+2+4+8+16+32,
				0,0,901,
				0.011,360,4001,

				0, 0, 0,
				0, 0.00339583050978, 0.01045158030244,
				0, 0.008405834008695, 0.02129843727983,
				0, 0.01431178438582, 0.0316846873967,
				0, 0.02107169466099, 0.04153649202422,
				0, 0.02863750682481, 0.05078381204945,
				0, 0.03695543349591, 0.05936090580207,
				0, 0.04596634030981, 0.06720679642955
			DEL 2
		ENDIF

		IF i=4 THEN
			RESOL res/2
			REVOLVE 5, 360, 1+2+4+8+16+32,
				0, 0.00561444422557,      2,
				0.01773740960708, 0.006611791761037,      1,
				0.02147314278323, 0.008100320075975,      1,
				0.06593912946212, 0.007356753392953,      1,
				0.127, 0.003631467531146,      2
			ADDx 0.127
			TUBE 2,8, 1+2+16+32,
				0,0,901,
				0.002,360,4001,
				-1,0,0,0,
				0,            0,      0,0,
				0.04520170022012, 0,      0, 0,
				0.04799649387717, -0.0004473144568186,      0, 0,
				0.05051206468922, -0.001744567438441,      0,  0,
				0.05249708646725, -0.003762152715334,      0,  0,
				0.05375323922907, -0.006298496944284,      0,  0,
				0.05426136370403, -0.00839043125863,      0,  0
			DEL 1
		ENDIF

		ADDz 0.055
	NEXT i
	DEL 9
else
	rotx 90
	addz -0.155
	prism_ 19, 0.31,
		0.2284742298726, 0, 15,
		0, 0, 15,
		0, 0.1007098312494, 79,
		0.17352355252, 0.1007098312494, 79,
		0.182066949597, 0.09886400179488, 79,
		0.189086297381, 0.09365578936789, 79,
		0.2014265439711, 0.06952047454317, 79,
		0.2124110784571, 0.05479128197907, 79,
		0.2259104509756, 0.04232628887552, 79,
		0.2414667904618, 0.0325482822662, 79,
		0.258552457745, 0.02578891210672, 79,
		0.2765879419879, 0.02227744238751, 79,
		0.2949615165076, 0.02213297496878, 79,
		0.3088825649068, 0.02430853788787, 15,
		0.321235725064, -0.0007411837340231, 15,
		0.2944632488625, -0.007914847111614, 79,
		0.2738386861909, -0.009639433813477, 79,
		0.2517083187311, -0.007346959218877, 79,
		0.2284742298726, 0, -1
	del 2
endif
del 7

del 2

hotspot A/2, B/2, 0,	unID : unID = unID + 1	!bottom centre

end

"seat cushion":
	cutpolya 5, 2, 0,
		0, 0, 8,
		2, 0, 8,
		2, 1, 8,
		0, 1, 8,
		0, 0, -1

	ar = 0.03/0.55
	addy -0.24
	tube 11, 10, 1+2+16,
		0.24, 0.04, 0,
		0.14, 0.04, 1,
		0.03, 0.055, 1,
		0.01115128867861, 0.055, 1,
		0.005582460296433, 0.05397136238079, 1,
		0.001596878460452, 0.05042102835185, 1,
		0, 0.045, 1,
		0, 0.01, 1,
		0.002928932188135, 0.002928932188135, 1,
		0.01, 0, 1,
		0.24, 0, 0,

		-0.10, 0, 0, 0,
		0, 0, 0, 0,
		0.5602780642783, 0, 0, 0,
		0.5602780642783+0.03140157374577, 0.03140157374577*ar, -0.0008222791472559, 0,
		0.5602780642783+0.06271707796059, 0.06271707796059*ar, -0.003286862779036, 0,
		0.5602780642783+0.09386067902414, 0.09386067902414*ar, -0.007386995642918, 0,
		0.5602780642783+0.1247470144907, 0.1247470144907*ar, -0.01311143955972, 0,
		0.5602780642783+0.54, 0.55*ar, -0.1013761863828, 0,
		0.5602780642783+0.55, 0.55*ar, -0.1035017519995, 0,
		0.5602780642783+0.60, 0.55*ar, -0.114129580083, 0
	del 1
	cutend
return

"back cushion":
	cutpolya 5, 2, 0,
		0, 0, 8,
		-1, 0, 8,
		-1, -1, 8,
		0, -1, 8,
		0, 0, -1

	material gs_seat_mat
	addy 0.24
	tube 11, 9, 1+2,
		0.245, 0.02, 0,
		0.145, 0.02, 1,
		0.10553625537533, 0.02515026202625, 1,
		0.045, 0.035, 1,
		0.025, 0.035, 1,
		0.01543291419087, 0.03309698831278, 1,
		0.007322330470336, 0.02767766952966, 1,
		0.001903011687218, 0.01956708580913, 1,
		0, 0.01, 1,
		0, 0, 1,
		0.245, 0, 0,

		1, 0, 0, 0,
		0, 0, 0, 0,
		-0.14, 0, 0, 0,
		-0.2035962712023, -0.006310634949435, 0, 0,
		-0.2582896505198, -0.02494142547361, 0, 0,
		-0.3029830298374, -0.04357221599779, 0, 0,
		-0.35, -0.05, 0, 0,
		-0.36, -0.05, 0, 0,
		-1, -0.05, 0, 0

	material gs_chair_mat
	tube 8, 9, 1+2,
		0.245, 0, 1,
		0, 0, 1,
		0, -0.02152872911617, 1,
		0.002369800175273, -0.02799247807747, 1,
		0.008356010126946, -0.03139266835449, 1,
		0.12, -0.05, 1,
		0.245, -0.05, 1,
		0.245, 0, 1,

		1, 0, 0, 0,
		0, 0, 0, 0,
		-0.14, 0, 0, 0,
		-0.2035962712023, -0.006310634949435, 0, 0,
		-0.2582896505198, -0.02494142547361, 0, 0,
		-0.3029830298374, -0.04357221599779, 0, 0,
		-0.35, -0.05, 0, 0,
		-0.36, -0.05, 0, 0,
		-1, -0.05, 0, 0
	del 1
	cutend
return

"tap":
	cone 0.01, 0.015, 0.01, 90, 90

	num = max(int(ang/10), 2)
	alpha_i = ang/num

	put 0, 0, 0, 0
	put 0, 0, 0.01, 0
	alpha = 0
	for i = 1 to num+1
		put rr-rr*cos(alpha), 0, zz+rr*sin(alpha), 0
		alpha = alpha + alpha_i
	next i
	put rr-rr*cos(alpha-alpha_i)+z2*sin(ang), 0, zz+rr*sin(alpha-alpha_i)+z2*cos(ang), 0
	put rr-rr*cos(alpha-alpha_i)+(z2+0.10)*sin(ang), 0, zz+rr*sin(alpha-alpha_i)+(z2+0.10)*cos(ang), 0

	tube 2, nsp/4, 1+2+16+32,
		0, 0, 901,
		0.0075, 360, 4001,

		get(nsp)
return


"elbow":
	zz = 0.03
	rr = 0.04
	num = 9
	alpha_i = 90/num

	put 0, 0, -0.01, 0
	put 0, 0, 0, 0
	alpha = 0
	for i = 1 to num+1
		put rr-rr*cos(alpha), 0, zz+rr*sin(alpha), 0
		alpha = alpha + alpha_i
	next i
	put rr-rr*cos(alpha-alpha_i)+zz, 0, zz+rr*sin(alpha-alpha_i), 0
	put rr-rr*cos(alpha-alpha_i)+zz+0.10, 0, zz+rr*sin(alpha-alpha_i), 0

	tube 2, nsp/4, 1+2+16+32,
		0, 0, 901,
		0.026, 360, 4001,

		get(nsp)
return
