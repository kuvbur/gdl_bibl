
! ==============================================================================
! Copier
! ==============================================================================

lod3D = 0												! Don't draw anything
if gs_detlevel_3D_m = DLEV3D_SIMPLE then lod3D = 1 			! Simple
if gs_detlevel_3D_m = DLEV3D_DETAILED then lod3D = 2 			! Detailed
if GLOB_CONTEXT > 20 & GLOB_CONTEXT < 40 then lod3D	= 1	! Simple
maskSection = 0
if GLOB_CONTEXT = 4 then maskSection = 4

if lod3D = 0 then end

IF not (gs_shadow) THEN SHADOW OFF

PEN gs_cont_pen

DEFINE MATERIAL	"LEDG" 0,         !for lampgs_resol inside surface
	0,0.45,0,                      !RGB
	1,0.3,0.3,0,               !ambient,diffuse,specular,transparent coeff.-s
	0,0,                       !shining, transparency att.
	0,0.6,0,                     !Specular RGB
	0,0.6,0,                      !Emission RGB
	65                           !Emission att.

	define material	"builtInMatBlackPlastic" 0,
	  0.333333,   0.313725,   0.294118,
	 0.15,  0.15,  0.45,     0,      5,     0,
	  0.784314,   0.784314,   0.784314,
	         0,          0,          0,     0

	define material	"builtInMatSemitransBlackPlastic" 0,
	  0.333333,   0.313725,   0.294118,
	  0.3,  0.35,  0.96,   0.3,     32,     0,
	         1,          1,          1,
	         0,          0,          0,     0

if iCopierType = 1 then
	ADDy 0.02

	IF lod3D = 1 THEN RESOL 6

	ADD 0.01,0.01,0
	material "builtInMatBlackPlastic"
	CYLIND 0.003,0.008
	ADDX 0.32
	CYLIND 0.003,0.008
	ADDY 0.33
	CYLIND 0.003,0.008
	ADDX -0.32
	CYLIND 0.003,0.008
	DEL 4

	IF lod3D = 1 THEN
		 MATERIAL box_mat
		ADDZ 0.003
		BLOCK 0.015, 0.35, 0.122
		ADDX 0.015
		BLOCK 0.285, 0.35, 0.049
		ADD 0, -0.02, 0.049
		BLOCK 0.285, 0.37, 0.080
		DEL 2
		ADDX 0.30
		BLOCK 0.04, 0.035, 0.122
		ADDY 0.035
		BLOCK 0.04, 0.118, 0.023
		ADDZ 0.023
		BLOCK 0.05, 0.118, 0.105
		DEL 1
		ADDY 0.118
		BLOCK 0.04, 0.201, 0.122
		DEL TOP
	END
	ENDIF

	ADDZ 0.003
	MATERIAL box_mat
	BLOCK 0.014,0.35,0.019
	ADDZ 0.02
	BLOCK 0.014,0.35,0.029
	ADDZ 0.03
	BLOCK 0.014,0.35,0.029
	ADDZ 0.03
	BLOCK 0.014,0.35,0.029
	ADDZ 0.03
	BLOCK 0.014,0.35,0.009

	DEL 4
	ADDX 0.3
	BLOCK 0.04,0.35,0.019
	ADDZ 0.02
	BLOCK 0.04,0.035,0.029
	ADDZ 0.03
	BLOCK 0.04,0.035,0.029
	ADDZ 0.03
	BLOCK 0.04,0.035,0.029
	ADDZ 0.03
	BLOCK 0.04,0.035,0.009
	DEL 4


	ADDZ 0.02
	ADDY 0.035
	BLOCK 0.05,0.118,0.105
	ADDY 0.119
	BLOCK 0.04,0.2,0.029
	ADDZ 0.03
	BLOCK 0.04,0.2,0.029
	ADDZ 0.03
	BLOCK 0.04,0.2,0.029
	ADDZ 0.03
	BLOCK 0.04,0.2,0.009
	DEL 6

	ADDX -0.285
	BLOCK 0.284,0.319,0.049
	ADDY 0.32
	BLOCK 0.284,0.03,0.049
	ADDZ 0.05
	BLOCK 0.284,0.03,0.079
	DEL 2
	ADD 0,-0.02,0.05
	BLOCK 0.284,0.019,0.079
	ADDY 0.02
	PRISM_ 10,0.079,
		0,0,15,
		0.284,0,15,
		0.284,0.319,15,
		0,0.319,15,
		0,0,-1,

		0.025,0.03,15,
		0.255,0.03,15,
		0.255,0.28,15,
		0.025,0.28,15,
		0.025,0.03,-1
	ADD 0.025,0.279,0.05
	ROTX -90
	material "builtInMatSemitransBlackPlastic"
	RECT 0.23,0.04
	DEL 2
	MATERIAL box_mat
	ADD 0.0255,0.03,0.079
	ROTX -12
	RECT 0.23,0.25/COS(12)

	DEL 1
	ADD 0.277,-0.003,-0.01
	MATERIAL button_mat
	BLOCK 0.01,0.025,0.01
	ADD 0.001,0.04,0.006
	MATERIAL "LEDG"
	BLOCK 0.008,0.004,0.002
	ADDY 0.02
	BLOCK 0.008,0.004,0.002
	ADDY 0.02
	BLOCK 0.008,0.004,0.002
	ADDY 0.02
	BLOCK 0.008,0.004,0.002
	DEL TOP
endif


if iCopierType = 2 then
	material box_mat
	resol gs_resol

	group "foot"
		if lod3D = 1 then
			prism_ 5, footHeight,
				r01-r03, r01-r03+0.005, 15,
				A-r01+r03, r01-r03+0.005, 15,
				A-r01+r03, B-r01+r03, 15,
				r01-r03, B-r01+r03, 15,
				r01-r03, r01-r03+0.005, -1
		endif
		if lod3D = 2 then
			addz footHeight+r02
			mulz -1
			hprism_ box_mat, box_mat, box_mat, box_mat,
				9, footHeight+r02, 0, r04, 1,
				r01, r01-r03+0.005, 75+maskSection,
				A-r01, r01-r03+0.005, 75+maskSection,
				A-r01+r03, r01+0.005, 1075+maskSection,
				A-r01+r03, B-r01, 75+maskSection,
				A-r01, B-r01+r03, 1075+maskSection,
				r01, B-r01+r03, 75+maskSection,
				r01-r03, B-r01, 1075+maskSection,
				r01-r03, r01+0.005, 75+maskSection,
				r01, r01-r03+0.005, 1075+maskSection
			del 2
		endif
	endgroup

	group "boxsimple"
		addz footHeight
		block A, B, ZZYZX-footheight
		del 1
	endgroup

	group "box01"
		addz (ZZYZX-footHeight)/2+footHeight
		hprism_ box_mat, box_mat, box_mat, box_mat,
			9, (ZZYZX-footHeight)/2, 0, r02, 1,
			r01, 0, 74+maskSection,
			A-r01, 0, 74+maskSection,
			A, r01, 1074+maskSection,
			A, B-r01, 74+maskSection,
			A-r01, B, 1074+maskSection,
			r01, B, 74+maskSection,
			0, B-r01, 1074+maskSection,
			0, r01, 74+maskSection,
			r01, 0, 1074+maskSection
		del 1
	endgroup

	group "box02"
		addz (ZZYZX-footHeight)/2+footHeight
		mulz -1
		hprism_ box_mat, box_mat, box_mat, box_mat,
			9, (ZZYZX-footHeight)/2, 0, r02, 1,
			r01, 0, 74,
			A-r01, 0, 74,
			A, r01, 1074,
			A, B-r01, 74,
			A-r01, B, 1074,
			r01, B, 74,
			0, B-r01, 1074,
			0, r01, 74,
			r01, 0, 1074
		del 2
	endgroup

	if lod3D = 1 then box1 = "boxsimple"
	if lod3D = 2 then box1 = addgroup ("box01","box02")

	group "recess"
		addy -r06+0.005
		rotx -90

		if lod3D = 1 then
			cutpolya 15-2, 1, 0,
				r05, -ZZYZX+0.03, 7,
				-r05, -ZZYZX+0.03, 7,
				-r05, 0.05, 7,
				A+r05, 0.05, 7,
				A+r05, -ZZYZX+0.03, 7,
				A-r05, -ZZYZX+0.03, 7,
				A-r05, -footHeight-r05, 7,
				A-0.08, -footHeight-r05, 7,
				A-0.08, 0, 7,
				0.08, 0, 7,
				0.08, -ZZYZX+0.063, 7,
				r05, -ZZYZX+0.063, 7+64,
				r05, -ZZYZX+0.03, -1
			del 2

			addz ZZYZX-r06
			cutpolya 16-2, 1, 0,
				r05, 0.1, 15,
				-r05, 0.1, 15,
				-r05, B+0.1, 15,
				A+r05, B+0.1, 15,
				A+r05, 0.1, 15,
				A-r05, 0.1, 15,
				A-r05, B-r05, 15,
				A-0.08, B-r05, 15,
				A-0.08, B, 15,
				0.08, B, 15,
				0.08, B-r05, 15,
				0.08, 0.142, 15,
				r05, 0.142, 15,
				r05, 0.1, -1
			del 1
		endif

		if lod3D = 2 then
			cutpolya 15, 1, 0,
				r05, -ZZYZX+0.03, 7,
				-r05, -ZZYZX+0.03, 7,
				-r05, 0.05, 7,
				A+r05, 0.05, 7,
				A+r05, -ZZYZX+0.03, 7,

				A-r05, -ZZYZX+0.03, 7,
				A-r05, -footHeight-r02, 7+64,
				A-r02, -footHeight-r05, 1007+64,
				A-0.08, -footHeight-r05, 7,
				A-0.08, 0, 7,
				0.08, 0, 7,
				0.08, -ZZYZX+0.063, 7,
				r05+r07, -ZZYZX+0.063, 7+64,
				r05, -ZZYZX+0.063-r07, 1007+64,
				r05, -ZZYZX+0.03, -1
			del 2

			addz ZZYZX-r06
			cutpolya 16, 1, 0,
				r05, 0.1, 15,
				-r05, 0.1, 15,
				-r05, B+0.1, 15,
				A+r05, B+0.1, 15,
				A+r05, 0.1, 15,
				A-r05, 0.1, 15,
				A-r05, B-r01, 79,
				A-r01, B-r05, 1079,
				A-0.08, B-r05, 15,
				A-0.08, B, 15,
				0.08, B, 15,
				0.08, B-r05, 15,
				0.08, 0.142, 15,
				r05+r07, 0.142, 79,
				r05, 0.142-r07, 1079,
				r05, 0.1, -1
			del 1
		endif

		add r05, 0.005, ZZYZX-0.03
		rotz 90
		rotx 90
		prism_ 8, A-2*r05,
			-r06, -ZZYZX, 15,
			r06, -ZZYZX, 15,
			r06, 0.03-r06-r08, 15+64*(lod3D=2),
			r06+r08, 0.03-r06, 15+1064*(lod3D=2),
			B, 0.03-r06, 15,
			B, 0.03+r06, 15,
			-r06, 0.03+r06, 15,
			-r06, -ZZYZX, -1
		del 3

		cutend
		cutend

		add A-0.095, r06+0.005, footHeight
		rotz -90
		rotx 90
		prism_ 6, A-0.19,
			0, 0, 15,
			0, 0.09, 15,
			-r06, 0.045, 15,
			-B/2, 0.045, 15,
			-B/2, 0, 15,
			0, 0, -1
		del 3

		if lod3D = 2 then
			add r05, 0.005, ZZYZX-0.03
			rotz 90
			rotx 90
			prism_ 6, 0.054,
				0.046, 0.03-r06-r12, 15,
				0.059, 0.03-r06-r12, 15,
				0.059, 0.03-r06, 15,
				r06+r08, 0.03-r06, 15+64,
				r06, 0.03-r06-r08, 1015,
				0.046, 0.03-r06-r12, -1
			del 3

			fi = atn((r08-r12)/(0.046-r06))
			add 0.025, r06+0.005, ZZYZX-r06-r08
			rotx fi
			add 0, 0.0075, -0.001
			block 0.035, 0.028, 0.001
			del 3

			add 0.08+(A-0.38-r05)/2, (B-0.21)/2+r06/2, ZZYZX-r06-0.001
			block 0.3, 0.21, 0.001
			del 1
		endif
	endgroup

	placegroup subgroup ("foot", box1)
	placegroup subgroup (box1, "recess")

	!! TRAY !!
	add 0, r06+0.004, footHeight+r05/2
	rotx 90+trayAngle
	addy -footHeight-r05/2
	if lod3D = 1 then
		prism_ 10-3, r06,
			0.08+r10, footHeight+r05/2, 15,
			A-0.08-r10, footHeight+r05/2, 15,
			A-0.08-r10, footHeight+r05+r10, 15,
			A-r05-r10, footHeight+r05+r10, 15,
			A-r05-r10, ZZYZX-r06, 15,
			0.08+r10, ZZYZX-r06, 15,
			0.08+r10, footHeight+r05/2, -1
	endif
	if lod3D = 2 then
		hprism_ box_mat, box_mat, box_mat, box_mat,
			10, r06, 0, r11, 1,
			0.08+r10, footHeight+r05/2, 11+maskSection,
			A-0.08-r10, footHeight+r05/2, 11+maskSection,
			A-0.08-r10, footHeight+r05+r10, 11+maskSection,
			A-r02, footHeight+r05+r10, 11+64+maskSection,
			A-r05-r10, footHeight+r02, 1011+64+maskSection,
			A-r05-r10, ZZYZX-r06-r08+r10, 11+64+maskSection,
			A-r02, ZZYZX-r06, 1011+64+maskSection,
			0.08+r08, ZZYZX-r06, 11+64+maskSection,
			0.08+r10, ZZYZX-r06-r08+r10, 1011+64+maskSection,
			0.08+r10, footHeight+r05/2, -1
	endif
	del 3

	trayWidth = ZZYZX-r06-footHeight-r05/2
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, r06+0.004, ZZYZX-r06, unID, trayAngle, 4+128
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, r06+0.004-sin(trayAngle)*trayWidth, footHeight+r05/2+cos(trayAngle)*trayWidth, unID, trayAngle, 5
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, r06+0.004, footHeight, unID, trayAngle, 6
	unID=unID+1
	hotspot A, r06+0.004, footHeight, unID, trayAngle, 7
	!! END OF TRAY !!


	!! TOP !!
	add 0, B-r05/2, ZZYZX-r06
	rotx -topAngle
	addy r05/2
	if lod3D = 1 then
		prism_ 7, r06,
			0.08+r10, -r05/2, 15,
			0.08+r10, -B+r06+r05+0.005, 15,
			A-r05-r10, -B+r06+r05+0.005, 15,
			A-r05-r10, -r05-r10, 15,
			A-0.08-r10, -r05-r10, 15,
			A-0.08-r10, -r05/2, 15,
			0.08+r10, -r05/2, -1
	endif
	if lod3D = 2 then
		hprism_ box_mat, box_mat, box_mat, box_mat,
			10, r06, 0, r11, 1,
			0.08+r10, -r05/2, 11+maskSection,
			0.08+r10, -B+r06+r05+r08+0.005, 11+64+maskSection,
			0.08+r10+r08, -B+r06+r05+0.005, 1011+64+maskSection,
			A-r05-r08-r10, -B+r06+r05+0.005, 11+64+maskSection,
			A-r05-r10, -B+r06+r05+r08+0.005, 1011+64+maskSection,
			A-r05-r10, -r01, 11+64+maskSection,
			A-r01, -r05-r10, 1011+64+maskSection,
			A-0.08-r10, -r05-r10, 11+maskSection,
			A-0.08-r10, -r05/2, 11+maskSection,
			0.08+r10, -r05/2, -1
	endif
	del 3

	topWidth = B-r06-r05-0.005-r05/2
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, r05+r06+0.005, ZZYZX-r06, unID, topAngle, 4+128
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, B-r05/2-cos(topAngle)*topWidth, ZZYZX-r06+sin(topAngle)*topWidth, unID, topAngle, 5
	unID=unID+1
	hotspot 0.08+(A-0.08-r05)/2, B-r05/2, ZZYZX-r06, unID, topAngle, 6
	unID=unID+1
	hotspot 0, B-r05/2, ZZYZX-r06, unID, topAngle, 7
	!! END OF TOP !!


	!! BUTTONS !!
	if lod3D = 2 then
		material button_mat

		add 0.045, 0.0535, ZZYZX-r06-r12
		block 0.012, 0.008, r12
		del 1

		add 0.03, 0.0535, ZZYZX-r06-r12
		block 0.012, 0.008, r12
		del 1

		add r05+0.0015, 0.0535, ZZYZX-r06-r12
		block 0.025-r05-0.0045, 0.008, r12
		del 1

		fi = atn((r08-r12)/(0.046-r06))
		add r05+0.0005, r06+0.005, ZZYZX-r06-r08
		rotx fi
		add 0, 0.0075, 0

		for hi = 1 to 3
		block 0.025-r05-0.0025, 0.009, r12
		addy 0.0095
		next hi
		del 3

		del 3

		add r05+0.0005+(0.025-r05-0.0025)/2, 0.075, ZZYZX-r06
		cylind r12, 0.005
		del 1
	endif
	!! END OF BUTTONS !!


	!! GLASS AND DISPLAY !!
	material "builtInMatSemitransBlackPlastic"
	add 0.095, B/2+r06+0.0045, footHeight
	block A-0.19, 0.0005, 0.045
	del 1

	if lod3D = 2 then
		fi = atn((r08-r12)/(0.046-r06))
		add 0.025, r06+0.005, ZZYZX-r06-r08
		rotx fi
		add 0, 0.0075, -0.001
		block 0.035, 0.028, 0.0005
		del 3

		add 0.08+(A-0.38-r05)/2, (B-0.21)/2+r06/2, ZZYZX-r06-0.001
		block 0.3, 0.21, 0.0005
		del 1
	endif
	!! END OF GLASS AND DISPLAY !!
endif
