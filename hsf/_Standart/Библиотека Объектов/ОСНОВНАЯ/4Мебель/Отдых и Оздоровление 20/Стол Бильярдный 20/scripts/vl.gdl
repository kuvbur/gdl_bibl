
call "FM_types" parameters all

!Hide all parameters from UI
hideparameter all  "A", "B", "ZZYZX"

values{2} "gs_detlevel_3D_m" 	DLEV3D_DETAILED, `Детальный`,
								DLEV3D_SIMPLE, `Простой`,
								DLEV3D_OFF, `Откл.`
values "gs_resol" range [3,)
values "a" range [0.5,)
values "b" range [0.8,)
values "zzyzx" range [0.2,)
values "railWidth" range [4", )
values "surfaceLength" range [0.8-2*railWidth, )
values "surfaceWidth" range [0.5-2*railWidth, )

IF gs_cont_pen=0 THEN PARAMETERS gs_cont_pen=7
IF gs_fill_pen=0 THEN PARAMETERS gs_fill_pen=91

IF gs_detlevel_3D_m = DLEV3D_SIMPLE THEN
	HIDEPARAMETER "gs_resol"
	LOCK "show_ball"
ENDIF
IF gs_detlevel_3D_m = DLEV3D_OFF THEN HIDEPARAMETER "gs_resol", "gs_shadow"

! Minimal Space

if MSFront < 0 then
	MSFront = 0
	parameters MSFront = MSFront
endif

if GLOB_MODPAR_NAME = "surfaceLength" | GLOB_MODPAR_NAME = "railWidth" then
	B = surfaceLength + 2*railWidth
	parameters B = B
else
	surfaceLength = B-2*railWidth
	parameters surfaceLength = surfaceLength
endif

if GLOB_MODPAR_NAME = "surfaceWidth" | GLOB_MODPAR_NAME = "railWidth" then
	A = surfaceWidth + 2*railWidth
	parameters A = A
else
	surfaceWidth = A-2*railWidth
	parameters surfaceWidth = surfaceWidth
endif

