

bDetailed = (gs_detlevel_3D_m = DLEV3D_DETAILED)

pen gs_cont_pen
resol gs_resol

unID = 1

if bUnitSizing then
	hotspot  a,   0,   0, unID               : unID = unID + 1
	hotspot  0,   0, hSupporter + hTv, unID  : unID = unID + 1
	hotspot  a,   0, hSupporter + hTv, unID  : unID = unID + 1

	hotspot  a*5/8,   0,   0, unID, B, 1+128 : unID = unID + 1
	hotspot  a*5/8,   b,   0, unID, B, 2     : unID = unID + 1
	hotspot  a*5/8,  -1,   0, unID, B, 3     : unID = unID + 1

	hotspot  a-a*5/8,   0,   0, unID, B, 1+128  : unID = unID + 1
	hotspot  a-a*5/8,   b,   0, unID, B, 2      : unID = unID + 1
	hotspot  a-a*5/8,  -1,   0, unID, B, 3      : unID = unID + 1

	hotspot  a*5/8,   0,   hSupporter + hTv, unID, B, 1+128  : unID = unID + 1
	hotspot  a*5/8,   b,   hSupporter + hTv, unID, B, 2      : unID = unID + 1
	hotspot  a*5/8,  -1,   hSupporter + hTv, unID, B, 3      : unID = unID + 1

	hotspot  a-a*5/8,   0,   hSupporter + hTv, unID, B, 1+128   : unID = unID + 1
	hotspot  a-a*5/8,   b,   hSupporter + hTv, unID, B, 2       : unID = unID + 1
	hotspot  a-a*5/8,  -1,   hSupporter + hTv, unID, B, 3       : unID = unID + 1

	add frameThickness, 0.04, hSupporter + bottomFrameThickness
	roty atn(screenRatioRate)

	hotspot  0, 0, 0, unID, screenSize, 1                :unID=unID+1
	hotspot  0, 0, screenSize, unID, screenSize, 2       :unID=unID+1
	hotspot  0, 0, -1, unID, screenSize, 3               :unID=unID+1

	del 2
else
	hotspot  0,   0,   0, unID, A, 1+256     : unID = unID + 1
	hotspot  a,   0,   0, unID, A, 2         : unID = unID + 1
	hotspot -1,   0,   0, unID, A, 3         : unID = unID + 1

	hotspot  0,   0,   hSupporter + hTv, unID, A, 1+256   : unID = unID + 1
	hotspot  a,   0,   hSupporter + hTv, unID, A, 2       : unID = unID + 1
	hotspot -1,   0,   hSupporter + hTv, unID, A, 3       : unID = unID + 1

	hotspot  a*5/8,   0,   0, unID, B, 1+128 : unID = unID + 1
	hotspot  a*5/8,   b,   0, unID, B, 2     : unID = unID + 1
	hotspot  a*5/8,  -1,   0, unID, B, 3     : unID = unID + 1

	hotspot  a-a*5/8,   0,   0, unID, B, 1+128  : unID = unID + 1
	hotspot  a-a*5/8,   b,   0, unID, B, 2      : unID = unID + 1
	hotspot  a-a*5/8,  -1,   0, unID, B, 3      : unID = unID + 1

	hotspot  a*5/8,   0,   hSupporter + hTv, unID, B, 1+128  : unID = unID + 1
	hotspot  a*5/8,   b,   hSupporter + hTv, unID, B, 2      : unID = unID + 1
	hotspot  a*5/8,  -1,   hSupporter + hTv, unID, B, 3      : unID = unID + 1

	hotspot  a-a*5/8,   0,   hSupporter + hTv, unID, B, 1+128   : unID = unID + 1
	hotspot  a-a*5/8,   b,   hSupporter + hTv, unID, B, 2       : unID = unID + 1
	hotspot  a-a*5/8,  -1,   hSupporter + hTv, unID, B, 3       : unID = unID + 1

	hotspot  0,   0, hSupporter,        unID, hTv, 1       : unID = unID + 1
	hotspot  0,   0, hSupporter + hTv, unID, hTv, 2       : unID = unID + 1
	hotspot  0,   0,  -1,          unID, hTv, 3       : unID = unID + 1

	hotspot  a,   0, hSupporter,        unID, hTv, 1       : unID = unID + 1
	hotspot  a,   0, hSupporter + hTv, unID, hTv, 2       : unID = unID + 1
	hotspot  a,   0,  -1,          unID, hTv, 3       : unID = unID + 1

	hotspot  a*5/8,   b, hSupporter,        unID, hTv, 1     : unID = unID + 1
	hotspot  a*5/8,   b, hSupporter + hTv, unID, hTv, 2     : unID = unID + 1
	hotspot  a*5/8,   b,   -1,         unID, hTv, 3     : unID = unID + 1
endif

if bSupporter then
	hotspot  0,   0,   hSupporter, unID, A, 1+256   : unID = unID + 1
	hotspot  a,   0,   hSupporter, unID, A, 2       : unID = unID + 1
	hotspot -1,   0,   hSupporter, unID, A, 3       : unID = unID + 1

	hotspot  a*5/8,   0,   hSupporter, unID, B, 1+128   : unID = unID + 1
	hotspot  a*5/8,   b,   hSupporter, unID, B, 2       : unID = unID + 1
	hotspot  a*5/8,  -1,   hSupporter, unID, B, 3       : unID = unID + 1

	hotspot  a-a*5/8,   0,   hSupporter, unID, B, 1+128   : unID = unID + 1
	hotspot  a-a*5/8,   b,   hSupporter, unID, B, 2       : unID = unID + 1
	hotspot  a-a*5/8,  -1,   hSupporter, unID, B, 3       : unID = unID + 1

	hotspot  0,   0,   0,   unID, hSupporter, 1           : unID = unID + 1
	hotspot  0,   0, hSupporter, unID, hSupporter, 2      : unID = unID + 1
	hotspot  0,   0,  -1,   unID, hSupporter, 3           : unID = unID + 1

	hotspot  a,   0,   0,   unID, hSupporter, 1+128       : unID = unID + 1
	hotspot  a,   0, hSupporter, unID, hSupporter, 2      : unID = unID + 1
	hotspot  a,   0,  -1,   unID, hSupporter, 3           : unID = unID + 1

	hotspot  a*5/8,   b,   0,   unID, hSupporter, 1+128   : unID = unID + 1
	hotspot  a*5/8,   b, hSupporter, unID, hSupporter, 2  : unID = unID + 1
	hotspot  a*5/8,   b,  -1,   unID, hSupporter, 3       : unID = unID + 1

	hotspot  a-a*5/8,   b,   0,   unID, hSupporter, 1+128   : unID = unID + 1
	hotspot  a-a*5/8,   b, hSupporter, unID, hSupporter, 2  : unID = unID + 1
	hotspot  a-a*5/8,   b,  -1,   unID, hSupporter, 3       : unID = unID + 1
endif

DEFINE MATERIAL "pictmat" 2,
	1,1,1

MATERIAL "pictmat"

if gs_shadow=0 then shadow off


if gs_detlevel_3D_m = DLEV3D_OFF then end

if not(bDetailed) then
	material pd_mat
	if bSupporter then
		prism_ 10,(hSupporter/20),
			0,-(b/5),15,
			a/5,-(b/5),15,
			(a/2.1),(b/4),15,
			a-(a/2.1),(b/4),15,
			a-a/5,-(b/5),15,
			a,-(b/5),15,
			a,(b/3),15,
			a*5/8,b,15,
			a-a*5/8,b,15,
			0,(b/3),15
		addz hSupporter/20
		material bx_mat
		prism_ 4,(hSupporter)-(hSupporter/20),
			0,0,15,
			frameThickness,0,15,
			frameThickness,(b/3),15,
			0,(b/3),15
		prism_ 4,(hSupporter)-(hSupporter/20),
			a-frameThickness,0,15,
			a,0,15,
			a,(b/3),15,
			a-frameThickness,(b/3),15
		prism_ 4,(hSupporter)-(hSupporter/20),
			a*5/8,b-(b/6.27),15,
			a*5/8,b,15,
			a-a*5/8,b,15,
			a-a*5/8,b-(b/6.27),15
		del 1
		addz (3*hSupporter/10)
		material sl_mat
		prism_ 6, hSupporter/50,
			frameThickness,(b/10),15,
			a-frameThickness,(b/9),15,
			a-frameThickness,(b/3),15,
			a*5/8,b-(b/6.27),15,
			a-a*5/8,b-(b/6.27),15,
			frameThickness,(b/3),15
		del 1
		addz (6*hSupporter/10)
		material sl_mat
		prism_ 6, hSupporter/50,
			frameThickness,(b/10),15,
			a-frameThickness,(b/10),15,
			a-frameThickness,(b/3),15,
			a*5/8,b-(b/6.27),15,
			a-a*5/8,b-(b/6.27),15,
			frameThickness,(b/3),15
		del 1
	endif

	addz hSupporter
	material bx_mat
	prism_ 6, hTv,
		0,0,15,
		a,0,15,
		a,(b/3),15,
		a*5/8,b,15,
		a-a*5/8,b,15,
		0,(b/3),15
	del 1
	rotx 90
	if bSupporter then
		addy hSupporter+hTv/20
	else
		addy hTv/20
	endif
	material bd_mat
	prism_ 4, 1/100",
		frameThickness, 0,15,
		a-frameThickness, 0,15,
		a-frameThickness, hTv-2*(hTv/20),15,
		frameThickness, hTv-2*(hTv/20),15

	addz 1/100"
	addy hTv/50
	material sc_mat
	prism_ 4, 1/100",
		0.15,0,15,
		a-0.15,0,15,
		a-0.15,hTv-2*(hTv/20)-2*(hTv/50),15,
		0.15,hTv-2*(hTv/20)-2*(hTv/50),15

	if bUsePicture then
		addz 1/95"
		addx 0.15
		material sc_mat

		if not(gs_picture_custom) then
			picture 1, a-(frameThickness+0.03)*2, hTv-2*0.03, 0
		else
			if gs_picture_name <> "" Then
				picture gs_picture_name, a-(frameThickness+0.03)*2, hTv-2*0.03, 0
			else
				picture 1, a-(frameThickness+0.03)*2, hTv-2*0.03, 0
			endif
		endif

		del 2
	endif
	del 3
endif

if bDetailed then
	material pd_mat
	if bSupporter then
		prism_ 10,(hSupporter/20),
			0,-(b/5),15,
			a/5,-(b/5),15,
			(a/2.1),(b/4),15,
			a-(a/2.1),(b/4),15,
			a-a/5,-(b/5),15,
			a,-(b/5),15,
			a,(b/3),15,
			a*5/8,b,15,
			a-a*5/8,b,15,
			0,(b/3),15
		addz hSupporter/20
		material bx_mat
		prism_ 5,(hSupporter)-(hSupporter/20),
			0,0,15,
			frameThickness,(b/20),15,
			frameThickness,(b/9),15,
			frameThickness,(b/3),15,
			0,(b/3),15
		prism_ 5,(hSupporter)-(hSupporter/20),
			(a*9/10),(b/20),15,
			a,0,15,
			a,(b/3),15,
			a-frameThickness,(b/3),15,
			a-frameThickness,(b/9),15
		prism_ 4,(hSupporter)-(hSupporter/20),
			a*5/8,b-(b/6.27),15,
			a*5/8,b,15,
			a-a*5/8,b,15,
			a-a*5/8,b-(b/6.27),15
		del 1
		addz (3*hSupporter/10)
		material sl_mat
		prism_ 6,ZZYZX/100,
			frameThickness,(b/9),15,
			a-frameThickness,(b/9),15,
			a-frameThickness,(b/3),15,
			a*5/8,b-(b/6.27),15,
			a-a*5/8,b-(b/6.27),15,
			frameThickness,(b/3),15
		del 1
		addz (6*hSupporter/10)
		material sl_mat
		prism_ 6,ZZYZX/100,
			frameThickness,(b/9),15,
			a-frameThickness,(b/9),15,
			a-frameThickness,(b/3),15,
			a*5/8,b-(b/6.27),15,
			a-a*5/8,b-(b/6.27),15,
			frameThickness,(b/3),15
		del 1
	endif

	addz hSupporter
	material pd_mat
	prism_ 8, bottomFrameThickness,
		0,0,15,
		frameThickness,(b/20),15,
		a-frameThickness,(b/20),15,
		a,0,15,
		a,(b/3),15,
		a*5/8,b,15,
		a-a*5/8,b,15,
		0,(b/3),15
	addz bottomFrameThickness
	material bx_mat
	prism_ 8,hTv-topFrameThickness-bottomFrameThickness,
		0,0,15,
		frameThickness,(b/20),15,
		a-frameThickness,(b/20),15,
		a,0,15,
		a,(b/3),15,
		a*5/8,b,15,
		a-a*5/8,b,15,
		0,(b/3),15
	del 1

	addz hTv-topFrameThickness
	prism_ 6, topFrameThickness,
		0,0,15,
		a,0,15,
		a,(b/3),15,
		a*5/8,b,15,
		a-a*5/8,b,15,
		0,(b/3),15
	del 1

	rotx 90
	addy bottomFrameThickness
	addz -(b/20)
	material bd_mat
	prism_ 4, 1/100",
		frameThickness,   0,15,
		a-frameThickness, 0,15,
		a-frameThickness, hTv-bottomFrameThickness-topFrameThickness,15,
		frameThickness,   hTv-bottomFrameThickness-topFrameThickness,15

	addx (a/2)
	addy (hTv/60)
	prism_ 5,1/100",
		0,0,15,
		a/30,0,15,
		a/30,-(hTv/30),15,
		-a/30,-(hTv/30),15,
		-a/30,0,15
	del 2

	material sc_mat
	addz 1/100"
	prism_ 4, 1/100",
		frameThickness+0.03,     0.03,15,
		a-(frameThickness+0.03), 0.03,15,
		a-(frameThickness+0.03), hTv-topFrameThickness-0.03,15,
		frameThickness+0.03,     hTv-topFrameThickness-0.03,15

	if bUsePicture then
		addz 1/95"
		addx frameThickness+0.03
		addy 0.03!+bottomFrameThickness
		material sc_mat

		if not(gs_picture_custom) then
			picture 1, a-(frameThickness+0.03)*2, hTv-2*0.03-topFrameThickness-bottomFrameThickness*0, 0
		else
			if gs_picture_name <> "" Then
				picture gs_picture_name, a-(frameThickness+0.03)*2, hTv-2*0.03-topFrameThickness-bottomFrameThickness*0, 0
			else
				picture 1, a-(frameThickness+0.03)*2, hTv-2*0.03-topFrameThickness-bottomFrameThickness*0, 0
			endif
		endif


		del 3
	endif
	del 1
	del 3
endif
