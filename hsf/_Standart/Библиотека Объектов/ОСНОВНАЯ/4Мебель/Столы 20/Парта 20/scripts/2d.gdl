
pen gs_cont_pen
fill gs_fill_type

gosub iStyle


end

! =============================================================================
! SUBRUTINES
!
! =============================================================================

! -----------------------------------------------------------------------------
! Rectangle
! -----------------------------------------------------------------------------

1:

	call "Resize_A_B_ZZYZX" parameters ALL

	unID = 1
	hotspot2        A/2,         0,   unID : unID = unID + 1
	hotspot2        A/2,         B/2, unID : unID = unID + 1
	hotspot2        A/2,         B,   unID : unID = unID + 1

	call "fa_minimalspace" parameters all MSType = 12,	unID = 3000

	poly2_b 5, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0, 0, 1,
			0, b, 1,
			A, b, 1,
			A, 0, 1,
			0, 0, -1

	hotline2 0, 0, A, 0

return

! -----------------------------------------------------------------------------
! Corner
! -----------------------------------------------------------------------------

2:
	add2 0, tableDepth

	k = tableDepth * tan(22.5)
	l = (tableDepth - 0.02) * tan(22.5)
	x = tableDepth + (shortSideLength * cos(45))

	hotline2 x-tableDepth, -x, 0, -tableDepth

	unID = 1

	hotspot2 0, -tableDepth, unID : unID = unID + 1

	hotspot2 k, 0, unID : unID = unID + 1
	hotspot2 k, 0, unID : unID = unID + 1
	hotspot2 x, -x+k, unID : unID = unID + 1

	hotspot2 x-tableDepth,-x, unID : unID = unID + 1
	hotspot2 0,0, unID : unID = unID + 1

	hotspot2 x, -x, unID : unID = unID + 1
	hotspot2 shortSideLength*cos(45)/2, -tableDepth-(shortSideLength*cos(45)/2), unID : unID = unID + 1


	reqBMinSpace = 0
	if MSFront > EPS then
		call "fa_minimalspace" parameters all MSType = 0, unID = 3000,
									returned_parameters reqBMinSpace,
														MSFillType,
														MSFillPen,
														MSFillBackPen,
														MSContLineType,
														MSContLinePen
	endif

	unID = 3000
	if reqBMinSpace <> 0 then
		fill MSFillType
		pen MSContLinePen
		line_type MSContLineType
		add2 0, -tableDepth
		rot2 -45
		poly2_B 4, 1+2+4+64, MSFillPen, MSFillBackPen,
				0,		0,			0,
				shortSideLength,	0,			1,
				shortSideLength,	-MSFront,	1,
				0,		-MSFront,	1

		hotspot2 shortSideLength, -MSFront
		hotspot2 0, -MSFront
		del 2
	endif

	line_type 1
	pen gs_cont_pen
	fill gs_fill_type
	poly2_b 6, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0, 0, 1,
			k, 0, 1,
			x, -x+k, 1,
			x, -x, 1,
			x-tableDepth, -x, 1,
			0, -tableDepth, 1

	del 1
return

