
if gs_detlevel_3D_m = 0 then end
if not(gs_shadow) then shadow off

! -----------------------------------------------------------------------------
! Styles
! -----------------------------------------------------------------------------

pen gs_cont_pen
gosub iStyle

end

! =============================================================================
! SUBRUTINES
!
! =============================================================================

! -----------------------------------------------------------------------------
! Rectangle
! -----------------------------------------------------------------------------
1:

	z = zzyzx
	n = 0.75 * b

	add a, b, 0
	mulz z / 0.72
	add -a, -n, 0
	material gs_leg_mat
	block 0.02, n, 0.695

	addx a-0.02
	block 0.02,n,0.695
	del 2

	gosub 1000

	add -a, -b, 0.695
	material gs_top_mat
	block a, b, 0.025
	del 1
	add -a+0.02, -0.02, 0.36
	material gs_leg_mat
	block a-0.04, 0.02,0.335
	del 3

	gosub 1100

return

! -----------------------------------------------------------------------------
! Corner
! -----------------------------------------------------------------------------
2:

	z = zzyzx
	n = 0.75 * tableDepth
	k = tableDepth * tan(22.5)
	l = (tableDepth - 0.02) * tan(22.5)
	x = tableDepth + (shortSideLength * cos(45))

	addy tableDepth
	mulz z / 0.72

	addz 0.36
	material gs_leg_mat
	prism_ 8, 0.335,
		0.02, 0, 15,
		k, 0, 15,
		x, -x+k, 15,
		x, -x+0.02, 15,
		x-0.02, -x+0.02, 15,
		x-0.02, -x+l, 15,
		l, -0.02, 15,
		0.02, -0.02, 15
	del 1

	addz 0.695
	material gs_top_mat
	prism_ 6, 0.025,
		0, 0, 15,
		k, 0, 15,
		x, -x+k, 15,
		x, -x, 15,
		x-tableDepth, -x, 15,
		0, -tableDepth, 15
	del 1

	gosub 1100

	addy -n
	material gs_leg_mat
	block 0.02, n, 0.695
	del 1

	add x-n, -x, 0
	block n, 0.02, 0.695
	del 1

	del 1
	gosub 1000

return


! -----------------------------------------------------------------------------
!  for details
! -----------------------------------------------------------------------------

1000:
	roty 90
	gosub 5000
	del 1
return

1100:
	gosub 5000
return

5000:
	vert 0, 0, 0
	vert 1, 0, 0
	vert 0, 1, 0
	vert 0, 0, 1
	coor 2, -1, -2, -3, -4
	base
	body -1
return

