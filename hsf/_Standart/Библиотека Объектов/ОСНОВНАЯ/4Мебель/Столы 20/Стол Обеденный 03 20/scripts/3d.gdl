
IF not(gs_shadow) THEN SHADOW OFF

pen gs_cont_pen


if gs_detlevel_3D_m = DLEV3D_OFF then end
if gs_detlevel_3D_m = DLEV3D_SIMPLE then gs_resol = 4
IF gs_detlevel_3D_m = DLEV3D_SIMPLE THEN tol = .1
IF gs_detlevel_3D_m = DLEV3D_DETAILED THEN tol = .001

TOLER tol

! --- legs ---------------------------------------------------------------------
MATERIAL gs_leg_mat

rotx 180
CUTPLANE
del 1

add 0.089,	B-0.094,	ZZYZX-tbtt-ft
rotx 180
mulz ZZYZX/0.75

add A-0.178,	B-0.188,	0
rotz 45
elbow 5,		21.9,		legRadius
del 2

addx A-0.178
rotz -45
elbow 5,		21.9,		legRadius
del 2

addy B-0.188
rotz 135
elbow 5,		21.9,		legRadius
del 2

rotz -135
elbow 5,		21.9,		legRadius
del 1

del 3
CUTEND


! --- table --------------------------------------------------------------------

material gs_top_mat

add tbf, tbf, zzyzx-tbtt

if tbf>0 then
block a-2*tbf, b-2*tbf, tbtt
else
	block a, b, tbtt
endif


if a>b then gosub 5000
if a<b then gosub 1000


if tbf>0 then
	add -tbf, -tbf, 0
	prism_  10, tbft,
			0, 0, 15,
			a, 0, 15,
			a, b, 15,
			0, b, 15,
			0, 0, -1,
			tbf, tbf, 15,
			a-tbf, tbf, 15,
			a-tbf, b-tbf, 15,
			tbf, b-tbf, 15,
			tbf, tbf, -1
	del 1
endif
del 1

vert 0,0,0
vert a,0,0
vert 0,b,0
vert 0,0,tbtt
coor 1,-1,-2,-3,-4
base
body -1


! --- frame --------------------------------------------------------------------

material fmat
	addz zzyzx-tbtt-ft
	gosub 10
	del 1

! ==============================================================================
end
! ==============================================================================


10:
add tbo+.025, tbo, 0
block a-2*(tbo+.025), .025, ft
del 1
add tbo, tbo, 0
block .025, b-2*tbo, ft
del 1
add tbo+.025, b-tbo-.025, 0
block a-2*(tbo+.025), .025, ft
del 1
add a-tbo-.025, tbo, 0
block .025, b-2*tbo, ft
del 1

return



1000:
roty 90
gosub 5000
del 1
return

5000:

vert 0, 0, 0
vert 1, 0, 0
vert 0, 1, 0
vert 0, 0, 1

coor 2, -1, -2, -3, -4

base

body -1

return
