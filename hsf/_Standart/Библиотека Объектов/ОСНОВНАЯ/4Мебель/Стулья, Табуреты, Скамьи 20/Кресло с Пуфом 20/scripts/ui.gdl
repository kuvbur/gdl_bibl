
UI_dialog `Параметры Стула`

ui_current_page gs_ui_current_page

dim tabTitles[5]
	tabTitles[1] = `Стиль, Размеры и Минимальное Пространство`
	tabTitles[2] = `Ножки`
	tabTitles[3] = `2D-отображение`
	tabTitles[4] = `3D-отображение и Покрытия`
	tabTitles[5] = `Характеристики`

dim tabIcons[5]
	tabIcons[1] = "uiTab_Dimension_flat(1)"
	tabIcons[2] = "uiTab_Leg_flat(1)"
	tabIcons[3] = "uiTab_2DRepr_flat(1)"
	tabIcons[4] = "uiTab_3DRepr_flat(1)"
	tabIcons[5] = "uiTab_Descriptions_flat(1)"

FILE_DEPENDENCE "uiTab_Dimension_flat(1)"
FILE_DEPENDENCE "uiTab_Leg_flat(1)"
FILE_DEPENDENCE "uiTab_2DRepr_flat(1)"
FILE_DEPENDENCE "uiTab_3DRepr_flat(1)"
FILE_DEPENDENCE "uiTab_Descriptions_flat(1)"


iPageIDRoot 			=-1
iPageIDDimMinSpace		= 1
iPageIDLegStyle			= 2
iPageID2DRepresentation	= 3
iPageID3DRepresentation	= 4
iPageIDDescriptions		= 5

pageStartY = 1
! ------------------------------------------------------------------------------
!UI_PAGES
! ------------------------------------------------------------------------------

UI_PAGE iPageIDDimMinSpace, iPageIDRoot, tabTitles[1], tabIcons[1]
	gosub "dimMinSpacePage"

UI_PAGE iPageIDLegstyle, iPageIDDimMinSpace, tabTitles[2], tabIcons[2]
	gosub "legStyle"

UI_PAGE iPageID2DRepresentation, iPageIDRoot, tabTitles[3], tabIcons[3]
	gosub "2DPage"

UI_PAGE iPageID3DRepresentation, iPageIDRoot, tabTitles[4], tabIcons[4]
	gosub "3DPage"

UI_PAGE iPageIDDescriptions, iPageIDRoot, tabTitles[5], tabIcons[5]
	gosub "descriptionPage"

! ------------------------------------------------------------------------------
end
! ------------------------------------------------------------------------------


! ------------------------------------------------------------------------------
!Subroutines
! ------------------------------------------------------------------------------

! ------------------------------------------------------------------------------
"dimMinSpacePage":
! ------------------------------------------------------------------------------

	x1 = 0
	x2 = 228
	y0 = pageStartY

	ui_infield{3} "bLeg", x1, y0, 179, 19,
					7, "", 0, 0,
					0, 0, 0, 0,
					"", `Ножки`, 0,
					"", `Ножки`, 1

	ui_pict_button ui_function, ``, "uiFunctionLeg_flat(1)", 180, y0-1, 35, 22, -iPageIDLegStyle

	ui_infield{3} "bOttoman", x2, y0, 215, 19,
					7, "",
					0, 0,
					0, 0, 0, 0,
					"", `Пуф`, 0,
					"", `Пуф`, 1
	y0 = y0 + 28

	ui_outfield `Высота Сидения`, 	x1, y0, 		124, 15 
	ui_infield "gs_seat_height", 125, y0 - 4, 	90, 19

	ui_outfield `Высота Пуфа`, 	x2, y0, 		124, 15 
	ui_infield "ottomanHeight", x2+125, y0 - 4, 	90, 19


	ui_separator 0, 50, 444, 50

	pageStartY = pageStartY + 24

	if bOttoman then
		_MSType 	= 11
	else
		_MSType 	= 13
	endif

	call "ui_chairs_minimalspace" parameters 	MSType 	= _MSType, 					! MINSPACE_SIMPCHAIR
										MSSide	= MSSide,
										pageStartY = pageStartY

return

! ------------------------------------------------------------------------------
"legStyle":
! ------------------------------------------------------------------------------
	x1 = 0
	x2 = 228
	y0 = 5

	ui_style 0, 1
	ui_infield{3} "bLeg", x1 , y0, 210, 19,
					7, "", 0, 0,
					0, 0, 0, 0,
					"", `Ножки`, 0,
					"", `Ножки`, 1
	ui_style 0, 0
	y0 = y0 + 24

	ui_infield{3} "iLegType", 75, y0, 135, 96,
		2, 1, 8, 2,				! OverstuffedCahirLeg.png
		120, 90, 120, 90,
		1, stLegType[1], 1,
		2, stLegType[2], 2,
		3, stLegType[3], 3,
		4, stLegType[4], 4,
		5, stLegType[5], 5

	ui_outfield `Высота Ножек`, 	x2, y0, 		124, 15 
	ui_infield "leg_h", x2+125, y0 - 4, 	90, 19
	y0 = y0 + 96

	ui_infield{4} "gs_leg_mat", x2, y0, 213, 25
return

! ------------------------------------------------------------------------------
"2DPage":
! ------------------------------------------------------------------------------
	call "ui_object_2DRepresentation" parameters	iSymbolClass		= 14,
													gs_SymbolType_m		= gs_SymbolType_m,
													stSymbolTypes		= stSymbolTypes,
													gs_detlevel_2D_m	= gs_detlevel_2D_m,
													gs_2DSeat			= 0,
													gs_cont_pen			= gs_cont_pen,
													gs_fill_type		= gs_fill_type,
													gs_fill_pen			= gs_fill_pen,
													gs_back_pen			= gs_back_pen,
													iFillListID			= iPageID2DRepresentation

return

! ------------------------------------------------------------------------------
"3DPage":
! ------------------------------------------------------------------------------
	dim surfacesArray[2]    
		surfacesArray[1]	= "gs_seat_mat"
		surfacesArray[2]	= "gs_leg_mat"

	dim childFlagArray[2]    
		childFlagArray[1]	= 0
		childFlagArray[2]	= 0

	call "ui_object_3DRepresentation" parameters 	bShowAnimation		= 0,
													surfacesArray		= surfacesArray,
													childFlagArray		= childFlagArray,
													gs_detlevel_3D_m	= gs_detlevel_3D_m,
													gs_resol			= gs_resol,
													gs_shadow			= gs_shadow,
													iSurfaceListID		= iPageID3DRepresentation

return

! ------------------------------------------------------------------------------
"descriptionPage":
! ------------------------------------------------------------------------------
	dim stParamNames[16]
		stParamNames[1] = "gs_list_cost"
		stParamNames[2] = "gs_list_manufacturer"
		stParamNames[3] = "gs_list_note"
		stParamNames[4] = "gs_list_location"
		stParamNames[5] = "gs_list_accessories"
		stParamNames[6] = "FM_Type"
		stParamNames[7] = "FM_InventoryNumber"
		stParamNames[8] = "FM_SerialNumber"
		stParamNames[9] = "FM_ProductionYear"
		stParamNames[10] = "FM_ObjectWeight"
		stParamNames[11] = "FM_ObjectWeightUnit"
		stParamNames[12] = "gs_list_custom1"
		stParamNames[13] = "gs_list_custom2"
		stParamNames[14] = "gs_list_custom3"
		stParamNames[15] = "gs_list_custom4"
		stParamNames[16] = "gs_list_custom5"

	call "ui_object_listing" parameters all listfieldID = iPageIDDescriptions,
										listFieldPosY = 0,
										listFieldHeight = 265,
										stDescHeader = "",
										stValueHeader = "",
										stParamNames = stParamNames
return

