
HIDEPARAMETER ALL "A", "B", "zzyzx"

call "FM_types" parameters all

if gs_cont_pen <= 0 then parameters gs_cont_pen=7
if gs_fill_pen <= 0 then parameters gs_fill_pen=19

if GLOB_MODPAR_NAME = "B" then
	if bOttoman then
		chairWidth = B - ottomanWidth - disOttomanChair
		parameters  chairWidth = chairWidth
	else
		chairWidth = B
		parameters chairWidth = chairWidth
	endif
else
	if GLOB_MODPAR_NAME = "chairWidth" then
		if bOttoman then
			B = chairWidth + ottomanWidth + disOttomanChair
			parameters B = B
		else
			B = chairWidth
			parameters B = B
		endif
	else
		if bOttoman then
			if GLOB_MODPAR_NAME = "ottomanWidth" then
				B = chairWidth + ottomanWidth + disOttomanChair
				parameters B = B
			endif
			if GLOB_MODPAR_NAME = "disOttomanChair" then
				B = chairWidth + ottomanWidth + disOttomanChair
				parameters B = B
			endif
		endif
	endif
endif

if chairDepth > ottomanDepth then
	if GLOB_MODPAR_NAME = "chairDepth" then
		A = chairDepth
		parameters A = A
	else
		if GLOB_MODPAR_NAME = "A" then
			chairDepth= A
			parameters chairDepth= chairDepth
		endif
	endif
else
	if GLOB_MODPAR_NAME = "ottomanDepth" then
		A = ottomanDepth
		parameters A = A
	else
		if GLOB_MODPAR_NAME = "A" then
			ottomanDepth= A
			parameters ottomanDepth= ottomanDepth
		endif
	endif

endif

if GLOB_MODPAR_NAME = "halfChairDepth" or GLOB_MODPAR_NAME = "chairWidth" then
	chairDepth = halfChairDepth* 2
	parameters chairDepth = chairDepth
else
	halfChairDepth = chairDepth/ 2
	parameters halfChairDepth = halfChairDepth
endif

if GLOB_MODPAR_NAME = "halfOttomanDepth" or GLOB_MODPAR_NAME = "ottomanWidth" then
	ottomanDepth = halfOttomanDepth * 2
	parameters ottomanDepth = ottomanDepth 
else
	halfOttomanDepth = ottomanDepth / 2
	parameters halfOttomanDepth = halfOttomanDepth 
endif

VALUES "gs_detlevel_3D" `Детальный`,`Простой`,`Откл.`
VALUES "gs_detlevel_3D_m" 2, 1, 0
VALUES "gs_resol" RANGE [3,)
VALUES "A" RANGE (0.48, )
VALUES "B" RANGE (0.48, )
values "chairWidth" range (0.48, )
VALUES "zzyzx" RANGE (rUpper + gs_seat_height + rr, ]
values "ottomanHeight" range (0.207, ]
VALUES "gs_seat_height" RANGE (0.232, ]
values "chairWidth" range (0.1, ]
values "chairDepth" range (0.1, ]
values "ottomanWidth" range (0.1, ]
values "ottomanDepth" range (0.1, ]
values "disOttomanChair" range (0, ]

if not(bOttoman) then
	hideparameter "ottomanWidth", "ottomanDepth", "ottomanHeight", "disOttomanChair"
	lock "ottomanWidth", "ottomanDepth", "ottomanHeight", "disOttomanChair"
endif

call "2dDetailLevel" parameters gs_detlevel_2D	= gs_detlevel_2D,
							gs_detlevel_2D_m	= gs_detlevel_2D_m,
							enable2dDetLevels	= 2+4+8+16+32

if gs_detlevel_2D_m <> 4 then
	HIDEPARAMETER "gs_SymbolType"
	lock "gs_SymbolType", "gs_SymbolType_m"
endif


call "fa_ChairSymbol" parameters all stSymbolTypes = stSymbolTypes, gs_OrigoCentered = 0

values{2} "iLegType" 	LEGTYPE_1, `Стиль 1`,
						LEGTYPE_2, `Стиль 2`,
						LEGTYPE_3, `Стиль 3`,
						LEGTYPE_4, `Стиль 4`,
						LEGTYPE_5, `Стиль 5`

if iLegType = LEGTYPE_1 then
	parameters leg_h=0'-3 5/32"
	LOCK "leg_h"
ENDIF

if not(bLeg) then
	hideparameter "leg_h", "gs_leg_mat", "iLegType"
	lock "leg_h", "gs_leg_mat", "iLegType"
ENDIF

if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	if gs_detlevel_3D = `Откл.` then parameters gs_detlevel_3D_m = 0
	if gs_detlevel_3D = `Простой` then parameters gs_detlevel_3D_m = 1
	if gs_detlevel_3D = `Детальный` then parameters gs_detlevel_3D_m = 2
ELSE
	if gs_detlevel_3D_m = 0 then parameters gs_detlevel_3D = `Откл.`
	if gs_detlevel_3D_m = 1 then parameters gs_detlevel_3D = `Простой`
	if gs_detlevel_3D_m = 2 then parameters gs_detlevel_3D = `Детальный`
ENDIF

if gs_detlevel_3D_m = 1 then
	lock "gs_resol"
	hideparameter "gs_resol"
endif

if gs_detlevel_3D_m = 0 then
	lock "gs_resol", "gs_shadow"
	hideparameter "gs_resol", "gs_shadow"
endif

!!! ******************************** Minimal Space
VALUES "MSFront" RANGE [0,)
VALUES "MSSide" RANGE [0,)
VALUES "MSRear" RANGE [0,)

if GLOB_UI_BUTTON_ID < 0 then
	parameters gs_ui_current_page = - GLOB_UI_BUTTON_ID
endif



