
pen gs_cont_pen
resol gs_resol

if not(gs_shadow) then shadow off


if gs_detlevel_3D_m = DLEV3D_OFF then end

add a, b, 0
rotz -90

if gs_detlevel_3D_m = DLEV3D_SIMPLE then
	material gs_frame_mat
	rotx 90
	gosub 10

	addz a-(a/20)
	gosub 10

	addx (3*b/8)
	addy (zzyzx/8)-(zzyzx/50)
	gosub 20
	del 2

	addx (3*b/8)-(b/32)
	addy (zzyzx/5)-(zzyzx/50)
	gosub 20
	del 2

	addx (b/4)+(b/24)
	addy (zzyzx/3)-(zzyzx/32)
	gosub 20
	del 2

	addx (7*b/8)-(b/48)
	addy (zzyzx/8)-(zzyzx/50)
	gosub 20
	del 1

	addy (zzyzx/5)-(zzyzx/50)
	gosub 20
	del 1

	addy (zzyzx/3)-(zzyzx/32)
	gosub 20
	del 2

	prism_ 4,-(a-(a/10)),
		(b/18),zzyzx-(zzyzx/16),15,
		(b/18),zzyzx-(zzyzx/32),15,
		0,zzyzx-(zzyzx/32),15,
		0,zzyzx-(zzyzx/16),15

	prism_ 4,-(a-(a/10)),
		(b/4)+(b/50),(zzyzx/3)-(zzyzx/64),15,
		(b/4)+(b/50)+(b/30),(zzyzx/3)-(zzyzx/64),15,
		(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
		(b/4)-(b/108),(zzyzx/3)+(zzyzx/36),15

	gosub 1000

	material gs_seat_mat
	addx (7*b/8)
	addy (zzyzx/3)-(zzyzx/32)
	prism_  4,-(a-(a/10)),
			0,0,15,
			-(b/1.65),0,15,
			-(b/1.65),(zzyzx/64),15,
			0,(zzyzx/64),15
	gosub 2000
	if cn=1 then
		material cn_mat
		prism_  4,-(a-(a/10)),
				0,(zzyzx/64),15,
				-(b/1.65),(zzyzx/64),15,
				-(b/1.65),3.5*(zzyzx/64),15,
				0,3.5*(zzyzx/64),15
		gosub 1000
	endif
	del 2

	material gs_seat_mat

	prism_  4,-(a-(a/10)),
		(b/4)-(b/108),(zzyzx/3)+(zzyzx/36),15,
		(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
		(b/30),zzyzx-(zzyzx/16),15,
		0,zzyzx-(zzyzx/16),15

	if cn=1 then
		material cn_mat
		prism_  4,-(a-(a/10)),
			(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
			(b/4)+(b/30)+1.5*(b/30),(zzyzx/3)+(zzyzx/36),15,
			(b/30)+1.5*(b/30),zzyzx-(zzyzx/16),15,
			(b/30),zzyzx-(zzyzx/16),15
	endif

	del 2

endif

if gs_detlevel_3D_m = DLEV3D_DETAILED then
	rotx 90
	gosub 30

	addz a-(a/20)
	gosub 30

	addx (3*b/8)
	addy (zzyzx/8)-(zzyzx/50)
	gosub 20
	del 2

	addx (3*b/8)-(b/32)
	addy (zzyzx/5)-(zzyzx/50)
	gosub 20
	del 2

	addx (b/4)+(b/24)
	addy (zzyzx/3)-(zzyzx/32)
	gosub 20
	del 2

	addx (7*b/8)-(b/48)
	addy (zzyzx/8)-(zzyzx/50)
	gosub 20
	del 1

	addy (zzyzx/5)-(zzyzx/50)
	gosub 20
	del 1

	addy (zzyzx/3)-(zzyzx/32)
	gosub 20
	del 2

	gosub 1000

	prism_ 4,-(a-(a/10)),
		(b/18),zzyzx-(zzyzx/16),15,
		(b/18),zzyzx-(zzyzx/32),15,
		0,zzyzx-(zzyzx/32),15,
		0,zzyzx-(zzyzx/16),15

	prism_ 4,-(a-(a/10)),
		(b/4)+(b/50),(zzyzx/3)-(zzyzx/64),15,
		(b/4)+(b/50)+(b/30),(zzyzx/3)-(zzyzx/64),15,
		(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
		(b/4)-(b/108),(zzyzx/3)+(zzyzx/36),15

	gosub 1000

	material gs_seat_mat
	addx (7*b/8)
	addy (zzyzx/3)-(zzyzx/32)
	addz -(a/40)
	for i=1 to 9
!		prism_  4,-(a/20),
!		0,0,15,
!		-(b/1.7),0,15,
!		-(b/1.7),(zzyzx/64),15,
!		0,(zzyzx/64),15

		prism_  4,-(a/20),
		0,0,15,
		-(b/1.7),0,15,
		-(b/1.7),(zzyzx/64),15,
		0,(zzyzx/64),15

		gosub 2000
		addz -(a/10)
	next i
	del i-1
	del 1
	if cn=1 then
		material cn_mat
		prism_  4,-(a-(a/10)),
				0,(zzyzx/64),15,
				-(b/1.75),(zzyzx/64),15,
				-(b/1.75),3.5*(zzyzx/64),15,
				0,3.5*(zzyzx/64),15
		gosub 1000
	endif

	del 2

	material gs_seat_mat
	addz -(a/5)+(a/40)
	for i=1 to 7
		prism_ 4,(a/20),
			(b/4)-(b/108),(zzyzx/3)+(zzyzx/36),15,
			(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
			(b/30),zzyzx-(zzyzx/16),15,
			0,zzyzx-(zzyzx/16),15
		gosub 2000
		addz -(a/10)
	next i
	del i-1
	del 1

	if cn=1 then
		addz -a/40
		material cn_mat
		prism_  4,-(a-(a/10)-(a/20)),
			(b/4)+(b/30),(zzyzx/3)+(zzyzx/36),15,
			(b/4)+(b/30)+1.5*(b/30),(zzyzx/3)+(zzyzx/36),15,
			(b/30)+1.5*(b/30),zzyzx-(zzyzx/16),15,
			(b/30),zzyzx-(zzyzx/16),15
		gosub 1000
		del 1
	endif

	del 1

	del 1
endif

del 2



end

10: material gs_frame_mat
	prism_ 49,(a/20),
			0,(zzyzx/15),15,
			0,(zzyzx/30),15,
			(b/8),(zzyzx/60),79,
			(b/4),(zzyzx/120),79,
			(3*b/8),(zzyzx/240),79,
			(b/2),(zzyzx/480),79,
			(5*b/8),0,79,
			(3*b/4),(zzyzx/60),79,
			(7*b/8),(zzyzx/30),79,
			 b,(zzyzx/15),15,
			 b,(zzyzx/10),15,
			 b-(b/100),(zzyzx/10),15,
			 (7*b/8),(zzyzx/15),15,
			(7*b/8),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)+(b/18),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)+(b/18),(zzyzx/2),15,
			(7*b/8),(zzyzx/2),15,
			(b/4),(zzyzx/2),15,
			(b/18),zzyzx-(zzyzx/16),15,
			(b/18),zzyzx,15,
			0,zzyzx,15,
			0,zzyzx-(zzyzx/16),15,
			(3*b/8),(9*zzyzx/240),15,
			(b/4),(zzyzx/24),79,
			(b/8),(zzyzx/20),79,
			0,(zzyzx/15),-1,

			(7*b/8)-(b/32),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/3),15,
			(b/4)+(b/18),(zzyzx/3),15,
			(b/4),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/2)-(zzyzx/32),-1,

			(7*b/8)-(b/32),(zzyzx/3)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/5),15,
			(3*b/8)-(b/64),(zzyzx/5),15,
			(3*b/8)-(b/18),(zzyzx/3)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/3)-(zzyzx/32),-1,

			(7*b/8)-(b/32),(zzyzx/5)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/8),15,
			(3*b/8)+(b/48),(zzyzx/8),15,
			(3*b/8),(zzyzx/5)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/5)-(zzyzx/50),-1,

			(7*b/8)-(b/32),(zzyzx/8)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/15),15,
			(3*b/4),(zzyzx/20),79,
			(5*b/8),(zzyzx/30),79,
			(b/2),(17*zzyzx/480),79,
			(3*b/8)+(b/18),(9*zzyzx/240),15,
			(3*b/8)+(b/32),(zzyzx/8)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/8)-(zzyzx/50),-1
	return

20:
prism_  4,-(a-(a/10)),
		0,0,15,
		(b/64),0,15,
		(b/64),-(zzyzx/64),15,
		0,-(zzyzx/64),15
	return

30: material gs_frame_mat
	prism_ 56,(a/20),
			0,(zzyzx/15),15,
			(1*b/12),(zzyzx/15)*(sin(90)-sin(1*15)),79,
			(2*b/12),(zzyzx/15)*(sin(90)-sin(2*15)),79,
			(3*b/12),(zzyzx/15)*(sin(90)-sin(3*15)),79,
			(4*b/12),(zzyzx/15)*(sin(90)-sin(4*15)),79,
			(5*b/12),(zzyzx/15)*(sin(90)-sin(5*15)),79,
			(6*b/12),0,79,
			(7*b/12),(zzyzx/15)*(sin(90)-cos(1*15)),79,
			(8*b/12),(zzyzx/15)*(sin(90)-cos(2*15)),79,
			(9*b/12),(zzyzx/15)*(sin(90)-cos(3*15)),79,
			(10*b/12),(zzyzx/15)*(sin(90)-cos(4*15)),79,
			(11*b/12),(zzyzx/15)*(sin(90)-cos(5*15)),79,
			b,(zzyzx/15),15,
			(11.8*b/12),(zzyzx/13),79,
			(7.6*b/8),(zzyzx/12),1079,
			(7*b/8),(zzyzx/14),15,
			(7*b/8),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)+(b/18),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)+(b/18),(zzyzx/2),15,
			(7*b/8),(zzyzx/2),13,
			(b/4),(zzyzx/2),15,
			(b/18),zzyzx-(zzyzx/16),15,
			(b/18),zzyzx,15,
			0,zzyzx,15,
			0,zzyzx-(zzyzx/16),15,
			(3*b/8),(zzyzx/25),15,
			(2.5*b/8),(zzyzx/25)+(3*zzyzx/50)*(sin(90)-cos(1*15)),79,
			(2*b/8),(zzyzx/25)+(3*zzyzx/50)*(sin(90)-cos(2*15)),79,
			(1.5*b/8),(zzyzx/25)+(3*zzyzx/50)*(sin(90)-cos(3*15)),79,
			(1*b/8),(zzyzx/25)+(3*zzyzx/50)*(sin(90)-cos(4*15)),79,
			(0.5*b/8),(zzyzx/25)+(3*zzyzx/50)*(sin(90)-cos(5*15)),79,
			0,(zzyzx/15),1079,
			0,(zzyzx/15),-1,

			(7*b/8)-(b/32),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/3),15,
			(b/4)+(b/18),(zzyzx/3),15,
			(b/4),(zzyzx/2)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/2)-(zzyzx/32),-1,

			(7*b/8)-(b/32),(zzyzx/3)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/5),15,
			(3*b/8)-(b/64),(zzyzx/5),15,
			(3*b/8)-(b/18),(zzyzx/3)-(zzyzx/32),15,
			(7*b/8)-(b/32),(zzyzx/3)-(zzyzx/32),-1,

			(7*b/8)-(b/32),(zzyzx/5)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/8),15,
			(3*b/8)+(b/48),(zzyzx/8),15,
			(3*b/8),(zzyzx/5)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/5)-(zzyzx/50),-1,

			(7*b/8)-(b/32),(zzyzx/8)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/15),15,

			(3*b/4),(zzyzx/19),79,
			(5*b/8),(zzyzx/27),79,
			(b/2),(zzyzx/33),79,
			(3*b/8)+(b/18),(zzyzx/29),15,
			(3*b/8)+(b/32),(zzyzx/8)-(zzyzx/50),15,
			(7*b/8)-(b/32),(zzyzx/8)-(zzyzx/50),-1

	gosub 1000

	add b/4,zzyzx/2,-a/40
	rotx -90
	hprism_	gs_frame_mat,gs_frame_mat,gs_frame_mat,gs_frame_mat,
			4,zzyzx/64,0, zzyzx/64/2,1,
			0,0,15,
			3*b/4-a/20,0,79,
			a/20,-180,2079,
			0,-a/10,15
	gosub 2000
	del 2

	return



END

1000:
roty 90
gosub 5000
del 1
return

2000:
gosub 5000
return

3000:
rotz 90
gosub 5000
del 1
return

4000:
rotx 90
gosub 5000
del 1
return


5000:

vert 0, 0, 0
vert 1, 0, 0
vert 0, 1, 0
vert 0, 0, 1

coor 2, -1, -2, -3, -4

base

body -1

return


