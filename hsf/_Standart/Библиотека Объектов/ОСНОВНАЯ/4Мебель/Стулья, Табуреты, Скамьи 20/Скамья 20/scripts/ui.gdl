
UI_dialog `Параметры Стула`

ui_current_page gs_ui_current_page

dim tabTitles[3]
	tabTitles[1] = `Стиль, Размеры и Минимальное Пространство`
	tabTitles[2] = `Отображение и Покрытия`
	tabTitles[3] = `Характеристики`

dim tabIcons[3]
	tabIcons[1] = "uiTab_Dimension_flat(1)"
	tabIcons[2] = "uiTab_2DRepr_flat(1)"
	tabIcons[3] = "uiTab_Descriptions_flat(1)"

FILE_DEPENDENCE "uiTab_Dimension_flat(1)"
FILE_DEPENDENCE "uiTab_2DRepr_flat(1)"
FILE_DEPENDENCE "uiTab_Descriptions_flat(1)"


iPageIDRoot 			=-1
iPageIDDimMinSpace		= 1
iPageIDRepresentation	= 2
iPageIDDescriptions		= 3

pageStartY = 5
! ------------------------------------------------------------------------------
!UI_PAGES
! ------------------------------------------------------------------------------

UI_PAGE iPageIDDimMinSpace, iPageIDRoot, tabTitles[1], tabIcons[1]
	gosub "dimMinSpacePage"

UI_PAGE iPageIDRepresentation, iPageIDRoot, tabTitles[2], tabIcons[2]
	gosub "Representation"

UI_PAGE iPageIDDescriptions, iPageIDRoot, tabTitles[3], tabIcons[3]
	gosub "descriptionPage"

! ------------------------------------------------------------------------------
end
! ------------------------------------------------------------------------------


! ------------------------------------------------------------------------------
!Subroutines
! ------------------------------------------------------------------------------

! ------------------------------------------------------------------------------
"dimMinSpacePage":
! ------------------------------------------------------------------------------

	x1 = 0
	x2 = 228
	y0 = pageStartY + 4

	ui_outfield `Форма`, 	x1, y0, 		124, 15 
	ui_infield{3} "gs_chair_style_m", 125, y0 - 4, 	90, 19,
					8, "", 0, 0,
					0, 0, 0, 0,
					"", stChairStyle[1], 1,
					"", stChairStyle[2], 2

	ui_infield{3} "gs_armrest", x2, y0 - 4, 180, 19,
					7, "",
					0, 0,
					0, 0, 0, 0,
					"", `Подлокотники`, 0,
					"", `Подлокотники`, 1
	y0 = y0 + 24

	ui_outfield `Тип Сидения`, 	x1, y0, 		124, 15 
	ui_infield{3} "gs_seat_style_m", 125, y0 - 4, 	90, 19,
					8, "", 0, 0,
					0, 0, 0, 0,
					"", stSeatStyle[1], 1,
					"", stSeatStyle[2], 2

	ui_infield{3} "gs_backrest", x2, y0 - 4, 180, 19,
					7, "",
					0, 0,
					0, 0, 0, 0,
					"", `Спинка`, 0,
					"", `Спинка`, 1
	y0 = y0 + 24

	ui_outfield `Высота Сидения`, x1, y0, 124, 15
	ui_infield "gs_seat_height", 125, y0 - 4, 	90, 19

	ui_infield{3} "bMiteredLath", x2, y0 - 4, 180, 19,
					7, "",
					0, 0,
					0, 0, 0, 0,
					"", `Угловое Соединение`, 0,
					"", `Угловое Соединение`, 1

	ui_separator 0, y0 + 21, 444, y0 + 21

	pageStartY = pageStartY + 50

	if gs_chair_style_m = 1 then
		_MSType 	= 8
	else
		_MSType 	= 9
	endif

	call "ui_chairs_minimalspace" parameters 	MSType 	= _MSType, 					! MINSPACE_SIMPCHAIR
										MSFront	= MSFront,
										pageStartY = pageStartY

return

! ------------------------------------------------------------------------------
"Representation":
! ------------------------------------------------------------------------------
	_idx = 1
	dim paramNameReprArray[]
	dim childFlagReprArray[]
	dim iconNameReprArray[]

		paramNameReprArray 	[_idx] = "gs_2D_representation"
		childFlagReprArray 	[_idx] = 0
		iconNameReprArray 	[_idx] = ""

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_detlevel_2D"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_detailLevel2D_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_cont_pen"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_contourPen_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_fill_type"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_fillType_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_fill_pen"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_fillPen_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_back_pen"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_fillBgPen_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_3D_representation"
		childFlagReprArray 	[_idx] = 0
		iconNameReprArray 	[_idx] = ""

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_detlevel_3D"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_detailLevel3D_flat(1)"

		if gs_detlevel_3D_m <> 0 then	! Off
			_idx = _idx + 1
			paramNameReprArray 	[_idx] = "gs_shadow"
			childFlagReprArray 	[_idx] = 1
			iconNameReprArray 	[_idx] = "ui_list_shadow_flat(1)"
		endif

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_material"
		childFlagReprArray 	[_idx] = 0
		iconNameReprArray 	[_idx] = ""

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_frame_mat"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_surface_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_seat_mat"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_surface_flat(1)"

		_idx = _idx + 1
		paramNameReprArray 	[_idx] = "gs_back_mat"
		childFlagReprArray 	[_idx] = 1
		iconNameReprArray 	[_idx] = "ui_list_surface_flat(1)"
			
	file_dependence "ui_list_detailLevel2D_flat(1)"
	file_dependence "ui_list_contourPen_flat(1)"
	file_dependence "ui_list_fillType_flat(1)"
	file_dependence "ui_list_fillPen_flat(1)"
	file_dependence "ui_list_fillBgPen_flat(1)"
	file_dependence "ui_list_detailLevel3D_flat(1)"
	file_dependence "ui_list_resol_flat(1)"
	file_dependence "ui_list_shadow_flat(1)"
	file_dependence "ui_list_surface_flat(1)"
	
	call "ui_object_Representation" parameters all	listFieldID  	= iPageIDRepresentation,
													paramNameArray 	= paramNameReprArray,
													childFlagArray	= childFlagReprArray,
													iconNameArray	= iconNameReprArray
return

! ------------------------------------------------------------------------------
"descriptionPage":
! ------------------------------------------------------------------------------
	dim stParamNames[16]
		stParamNames[1] = "gs_list_cost"
		stParamNames[2] = "gs_list_manufacturer"
		stParamNames[3] = "gs_list_note"
		stParamNames[4] = "gs_list_location"
		stParamNames[5] = "gs_list_accessories"
		stParamNames[6] = "FM_Type"
		stParamNames[7] = "FM_InventoryNumber"
		stParamNames[8] = "FM_SerialNumber"
		stParamNames[9] = "FM_ProductionYear"
		stParamNames[10] = "FM_ObjectWeight"
		stParamNames[11] = "FM_ObjectWeightUnit"
		stParamNames[12] = "gs_list_custom1"
		stParamNames[13] = "gs_list_custom2"
		stParamNames[14] = "gs_list_custom3"
		stParamNames[15] = "gs_list_custom4"
		stParamNames[16] = "gs_list_custom5"

	call "ui_object_listing" parameters all listfieldID = iPageIDDescriptions,
										listFieldPosY = 0,
										listFieldHeight = 265,
										stDescHeader = "",
										stValueHeader = "",
										stParamNames = stParamNames
return

