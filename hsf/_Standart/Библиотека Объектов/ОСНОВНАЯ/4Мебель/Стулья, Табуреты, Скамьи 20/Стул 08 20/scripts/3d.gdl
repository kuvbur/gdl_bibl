
!!! Chair 05.gsm !!!



IF gs_detlevel_3D_m=0 THEN END

RESOL gs_resol
PEN gs_cont_pen

IF gs_shadow=0 THEN SHADOW OFF


IF GLOB_CONTEXT>20 and GLOB_CONTEXT<40 THEN gs_detlevel_3D_m=1

unID=1

HOTSPOT  0, -b/2, 0, unID: unID=unID+1
HOTSPOT  0,  b/2, 0, unID: unID=unID+1
HOTSPOT -a/2,  0, 0, unID: unID=unID+1
HOTSPOT  a/2,  0, 0, unID: unID=unID+1

hotspot -a/2,  0, 0, unID, zzyzx, 1+128: unID=unID+1
hotspot -a/2,  0, -1, unID, zzyzx, 3: unID=unID+1
hotspot -a/2,  0, zzyzx, unID, zzyzx, 2: unID=unID+1

hotspot  a/2,  0, 0, unID, zzyzx, 1+128: unID=unID+1
hotspot  a/2,  0, -1, unID, zzyzx, 3: unID=unID+1
hotspot  a/2,  0, zzyzx, unID, zzyzx, 2: unID=unID+1

	hotspot 0, -b/2, 0, unID, gs_seat_height, 1+128: unID=unID+1
	hotspot 0, -b/2, -1, unID, gs_seat_height, 3: unID=unID+1
	hotspot 0, -b/2, gs_seat_height, unID, gs_seat_height, 2: unID=unID+1

ADDY -b/2

IF gs_detlevel_3D_m=1 THEN
	MATERIAL gs_frame_mat
	RESOL 4
	ZH=gs_seat_height
	CYLIND ZH-A/30,A/40
	ADD -A/2,B/2,0
	CYLIND ZH+TOTH-A/40,A/40
	DEL 1
	ADDY B
	CYLIND ZH+TOTH-A/40,A/40
	DEL 1
	ADD A/2,B/2,0
	CYLIND ZH+TOTH-A/40,A/40

	MATERIAL gs_seat_mat
	RESOL 12
	ADD -A,0,ZH+TOTH
	ROTX -90
	MATERIAL gs_back_mat
	ELBOW A/2,180,A/40
	DEL 3
	MATERIAL gs_seat_mat
	ADDZ ZH-A/30
	PRISM_ 4,A/30,
	0,0,79,
	-A/2,B/2,79,
	0,B,79,
	A/2,B/2,79
	DEL 1

	rotz 45
	vert 0, 0, 0
	vert 1, 0, 0
	vert 0, 1, 0
	vert 0, 0, 1
	del 1

	coor 2, -1, -2, -3, -4

	base

	body -1

ENDIF

IF gs_detlevel_3D_m=2 THEN
	MATERIAL gs_frame_mat
!!! *** LEGS
	RESOL gs_resol
	ZH=gs_seat_height
	CYLIND ZH,A/40

	ROTX 90
	CUTPOLYA 2, 1, 0,
		 -a/2, zzyzx-a/40, 900,
		A/40,360,4079
	DEL 1
	ADD -A/2, a/2,0
	CYLIND ZH+TOTH,A/40
	DEL 1
	CUTEND

	ADDY B
	ADDZ ZH+TOTH
	ROTY 90
	CUTPOLYA 2,1,0,
	0,0,979,
	A/40,360,4079
	DEL 2
	CYLIND ZH+TOTH,A/40
	CUTEND
	DEL 1

	ADD A/2,B/2,0
	ADDZ ZH+TOTH
	ROTX 90
	CUTPOLYA 2,1,0,
	0,0,979,
	A/40,360,4079
	DEL 2
	CYLIND ZH+TOTH,A/40
	CUTEND

	MATERIAL gs_seat_mat
	ADD -A,0,TOTH
	ROTX -90
	ADDZ -A/30
	ROTY 180
	CUTPLANE 1,1,0
	DEL 2
	ADDY -ZH
	RESOL 2*gs_resol
	MATERIAL gs_back_mat
	ELBOW A/2,360,A/40	!! Back
	DEL 1
	CUTEND
	DEL 3

	MATERIAL gs_seat_mat

	RESOL gs_resol
	ADDZ ZH-A/30
	ROTZ 45
	PRISM_ 17,A/30,
	A/40,0,79,
	0,0,979,
	0,90,4079,
	0,A/40,79,
	0,SIN(45)*A-A/40,79,
	0,SIN(45)*A,979,
	0,90,4079,
	A/40,SIN(45)*A,79,
	SIN(45)*A-A/40,SIN(45)*A,79,
	SIN(45)*A,SIN(45)*A,979,
	0,90,4079,
	SIN(45)*A,SIN(45)*A-A/40,79,
	SIN(45)*A,A/40,79,
	SIN(45)*A,0,979,
	0,90,4079,
	SIN(45)*A-A/40,0,79,
	A/40,0,79
	DEL 2

	rotz 45
	vert 0, 0, 0
	vert 1, 0, 0
	vert 0, 1, 0
	vert 0, 0, 1
	del 1

	coor 2, -1, -2, -3, -4

	base

	body -1

ENDIF

DEL 1
