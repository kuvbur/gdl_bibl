
PEN gs_cont_pen

if gs_shadow then
	shadow ON
else
	shadow OFF
endif

r1=0.02                         ! --- CURVED PART'S RADIUS

unID = 1
addy -B
hotspot 0, 0, 0, unID : unID = unID + 1
hotspot A, 0, 0, unID : unID = unID + 1
hotspot A, B, 0, unID : unID = unID + 1
hotspot 0, B, 0, unID : unID = unID + 1
del 1


addz -r1
addy -r1

add a/2, 0, -r1
rotx -5
hotspot 0, -r1,  2*r1+0.45, unID, Dining_roo_back_height, 1, Dining_roo_back_height                      : unID = unID + 1
hotspot 0, -r1,  2*r1+0.45+Dining_roo_back_height, unID, Dining_roo_back_height, 2, Dining_roo_back_height : unID = unID + 1
hotspot 0, -r1, -1, unID, Dining_roo_back_height, 3, Dining_roo_back_height                      : unID = unID + 1
del 2

!!   |1
!!   |
!! 2 (___3___
!!			 \ 4


! --- SEAT ---------------------------------------------------------------------

addz -r1

rotz -90
roty -5

addz zzyzx-Dining_roo_back_height+r1
addx 2*r1

roty 180


bprism_ gs_seat_mat, gs_seat_mat, gs_seat_mat,		!>>> 2
	5, Dining_roo_thickness, r1,
	0,0,15,
	(2*pi*r1)/4,0,15,
	(2*pi*r1)/4,A,15,
	0,A,15,
	0,0,-1

del 1+1

rotx -90
addx 2*r1


cprism_ gs_seat_mat, gs_seat_mat, gs_seat_mat,		!>>> 3
	5, A,
	0,0,15,
	B-r1*2,0,15,
	B-r1*2,Dining_roo_thickness,15,
	0,Dining_roo_thickness,15,
	0,0,-1

del 1+1


addz r1
addx r1-Dining_roo_thickness
rotz 90
rotx 90


cprism_ gs_seat_mat, gs_seat_mat, gs_seat_mat,
	7, Dining_roo_thickness,
	0,0,15,
	A,0,15,
	A,0.02,15,
	A-A/33,Dining_roo_back_height,15,
	A/33,Dining_roo_back_height,15,
	0,0.02,15,
	0,0,-1


del 4


addz -Dining_roo_thickness
addx B


bprism_ gs_seat_mat, gs_seat_mat, gs_seat_mat,		! >> 4
	5, Dining_roo_thickness, r1,
	0,0,15,
	(2*pi*r1)/8,0,15,
	(2*pi*r1)/8,A,15,
	0,A,15,
	0,0,-1

del 2+1+1

del 4

cutplane 1, 1, 0, 1

addz -r1
addy -r1

addz -r1
rotz -90

! --- LEGS BACK ----------------------------------------------------------------

for i= 1 to 2
	gosub 100
	addy A
	mul 1,-1,1
next i
del 2

! --- LEGS FRONT ---------------------------------------------------------------

for i= 1 to 2
	gosub 200
	addy A
	mul 1,-1,1
next i
del 4

del 2
del 4

cutend

END


100:	! --- LEGS BACK --------------------------------------------------------

	roty 10
	rotx -10
	addx -0.045
	addy -0.05

	h_bleg=(zzyzx-Dining_roo_back_height)-Dining_roo_thickness-0.028+r1

	MATERIAL gs_frame_mat

	cylind h_bleg,0.008

	addz h_bleg
	rotz 90
	elbow 0.025,80.16,0.008

	addx 0.025-0.004338
	addz 0.025374-0.000731
	roty 80.16

	MATERIAL gs_frame_mat
	cylind (A/2)-0.043,0.008  !>>>>> HORIZONTAL LEG

	del 9

	return


200:
	rotx -10
	addy -0.05
	addx B-r1-0.05
	addz 0.015

	h_fleg=(zzyzx-Dining_roo_back_height)-Dining_roo_thickness-0.010+r1

	MATERIAL gs_frame_mat
	cylind h_fleg,0.008

	addz h_fleg
	rotz 90
	elbow 0.025,80.16,0.008

	addx 0.025-0.004338
	addz 0.025374-0.000731
	roty 80.16

	MATERIAL gs_frame_mat
	cylind (A/2)-0.043,0.008  !>>>>> HORIZONTAL LEG

	del 9

	return
