
EPS = 0.00001

! ==============================================================================
! variables for "fa_ChairSymbol" macro
! ==============================================================================

dim stDetlevel3D[3]
      stDetlevel3D[1] = `Детальный`
      stDetlevel3D[2] = `Простой`
      stDetlevel3D[3] = `Откл.`	

dim stSymbolTypes[16]
	stSymbolTypes[ 1] = `Круглый`
	stSymbolTypes[ 2] = `Круглый со Спинкой`
	stSymbolTypes[ 3] = `Прямоугольный`
	stSymbolTypes[ 4] = `Прямоугольный со Спинкой 1`
	stSymbolTypes[ 5] = `Трапециевидный`
	stSymbolTypes[ 6] = `Трапециевидный со Спинкой`
	stSymbolTypes[ 7] = `Криволинейный`
	stSymbolTypes[ 8] = `Криволинейный со Спинкой`
	stSymbolTypes[ 9] = `Прямоугольный со Спинкой 3`
	stSymbolTypes[10] = `Прямоугольный со Спинкой 2`
	stSymbolTypes[11] = `Круглый со Спинкой 2`
	stSymbolTypes[12] = `Круглый со Спинкой 3`
	stSymbolTypes[13] = `Криволинейный со Спинкой 2`
	stSymbolTypes[14] = `Криволинейный со Спинкой 3`
	stSymbolTypes[15] = `Детальный 1`
	stSymbolTypes[16] = `Детальный 2`

! ==============================================================================
! VARIABLES FOR 3D and 2D SCRIPT AND SUBROUTINES
! ==============================================================================

! ------------------------------------------------------------------------------
! Tray Style
! ------------------------------------------------------------------------------
dim stTrayStyleValues[2]
	stTrayStyleValues[1] = `Стиль 1`
	stTrayStyleValues[2] = `Стиль 2`

STYLE_RECTTRAY = 3
STYLE_OVALTRAY = 4

! ------------------------------------------------------------------------------
! Variables and coordinates for 3D geometry
! ------------------------------------------------------------------------------

! A				= user defined primer parameter
! B 			= user defined primer parameter
! ZZYZX 		= user defined primer parameter
! distLegs 		= user defined primer parameter
! seatDepth	= user defined primer parameter

distLegs 		= B	
_legThick		= 0.02		
_seatThick 		= 0.018
_seatOffset		= 0.04
_legRad			= 0.03
_seatHeight		= gs_seat_height - _seatThick - _legThick/2

_yLegs1			= ZZYZX - 0.25
_yLegs10		= ZZYZX- gs_seat_height 
_xLegs6			= seatDepth-0.1
_xLegs4 		= distLegs/2
_distLegs2 		= distLegs/2 - _xLegs6/2

_yLegs4			= _xLegs6 / distLegs * _yLegs1 / (1+_xLegs6/distLegs)
_yLegs3			= _yLegs1 - _yLegs4
_yLegs2			= _seatHeight - _yLegs3
_leg2AngXY		= atn(_yLegs3 / (distLegs/2))
_leg1AngXY		= _leg2AngXY


_leg2WidthBot 	= A-_legThick -2*_legThick
_leg1WidthBot 	= A-_legThick
_seatWidth 		= A-_legThick-4*_legThick
_leg2Height		= (ZZYZX) / sin(_leg2AngXY)- 0.046
_leg1Height 	= _yLegs1 / sin(_leg1AngXY)
_xLegs10 		= sin(90 - _leg2AngXY)*(ZZYZX) / sin(_leg2AngXY)
_xLegs1 		= tan(90-_leg1AngXY)* _yLegs1
_xLegs5			= _xLegs10 - (distLegs/2) - (seatDepth/2)
_xLegs7 		= tan(90-_leg2AngXY) * _yLegs2

_backAng		= atn(_xLegs5 / _yLegs10) 
_backLength		= _yLegs10 / cos(_backAng)
_backWidth		= _seatWidth/2+_legThick/2
_backRad		= min (A/5,0.1)


_sideThick		= _seatThick*2
_sideHillHeight = 0.016
_sideHeight 	= _yLegs1 - (_seatHeight + _seatThick/2 + 2*_sideHillHeight+_seatThick+0.005)

_trayEdge 		= 0.012
_trayRad3		= 0.1
_trayWidth 		=  A-2*_trayEdge
_trayDepth		= max(0.22,A/5)
_trayRad 		= _legRad/3
_trayX 			= _trayWidth/4
_trayY 			= _trayDepth/4

_edgeThick		= 0.001			!Edge protection




