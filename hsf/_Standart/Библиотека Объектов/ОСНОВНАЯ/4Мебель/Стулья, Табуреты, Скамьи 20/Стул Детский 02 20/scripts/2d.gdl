
! High Chair 01 2D Script

! ==============================================================================
! SCALE
! ==============================================================================

call "2dDetailLevel" parameters gs_detlevel_2D_m = gs_detlevel_2D_m,
				returned_parameters det2D


! ------------------------------------------------------------------------------
!  Hotspots 
! ------------------------------------------------------------------------------

unID=1
hotspot2 a/2,0, unID: unID=unID+1
hotspot2 a/2,b/2, unID: unID=unID+1

! ==============================================================================
! 2D Symbol and Minimal Space
! ==============================================================================

fill gs_fill_type
pen gs_cont_pen

fill gs_fill_type

if det2D = 4 then				! Symbolic
	call "fa_ChairSymbol" parameters all 	gs_OrigoCentered = 0
else
	call "Resize_A_B_ZZYZX" Parameters all B = max(distLegs,	_xLegs10)

	if det2D = 3 then			! 1:50
		gosub "DetailedSymbol"
		gosub "DetailedMinSpace"
	else
		if det2D = 1 then		! 1:200
			gosub "DraftSymbol"
			gosub "SimpleMinSpace"
		else					! 1:100
			gosub "SimpleSymbol"
			gosub "DetailedMinSpace"
		endif
	endif
endif

! ==============================================================================
  end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end !
! ==============================================================================

! ==============================================================================
! Minimal space subroutines
! ==============================================================================
"DetailedMinSpace":
	drawindex 10
	call "fa_minimalspace" parameters all MSType = 3, unID = 3000
return

"SimpleMinSpace":
	drawindex 10
	call "fa_minimalspace" parameters all MSType = 4, unID = 3000
return

! ==============================================================================
"DetailedSymbol":		! 1:50
! ==============================================================================
	rot2 180
	add2 -a/2,0

	add2 -a*0.011, 0 
	! Detailed picture by design !
	drawindex 20

	! ------ Legs ------
	mul2     A/0.40, B/0.66
	poly2_b 33, 1+2+64, gs_fill_pen, gs_back_pen, 
			0.1664,			-0.0195,		1, 
			0.1648,			-0.0323,		900, 
			0,				-71.3426,		4001, 
			0.1775,			-0.0297,		1, 
			0.1391,			-0.2204,		1, 
			0.1549,			-0.2204,		1, 
			0.1946,			-0.0269,		1, 
			0.1936,			-0.0217,		1, 
			0.1918,			-0.0168,		1, 
			0.1893,			-0.0123,		1, 
			0.1861,			-0.0083,		1, 
			0.1823,			-0.0050,		1, 
			0.1781,			-0.0025,		1, 
			0.1736,			0,				1, 
			0.1689,			0,				1, 
			0.1641,			0,				1, 
			-0.1641,		0,				1, 
			-0.1678,		0,				1, 
			-0.1715,		-0.0014,		1, 
			-0.1749,		-0.0031,		1, 
			-0.1779,		-0.0055,		1, 
			-0.1806,		-0.0085,		1, 
			-0.1827,		-0.0119,		1, 
			-0.1843,		-0.0157,		1, 
			-0.1853,		-0.0197,		1, 
			-0.1856,		-0.0239,		1, 
			-0.1464,		-0.2204,		1, 
			-0.1317,		-0.2204,		1, 
			-0.1692,		-0.0290,		1, 
			-0.1582,		-0.0305,		900, 
			0,				-82.8631,		4001, 
			-0.1581,		-0.0195,		1, 
			0.16643,		-0.0195,		-1

	add2 A*0.011, 0
	poly2_b 22, 1+2+4+64, gs_fill_pen, gs_back_pen, 
		0.153,		-0.220,		1,
		0.153,		-0.240,		900,
		0.173,		-0.240,		3001,
		0.173,		-0.510,		1,
		0.200,		-0.640,		1,
		0.180,		-0.640,		900,
		0.180,		-0.660,		3001,
		-0.180,		-0.660,		1,
		-0.180,		-0.640,		900,
		-0.200,		-0.640,		3001,
		-0.173,		-0.510,		1,
		-0.173,		-0.240,		1,
		-0.153,		-0.240,		900,
		-0.153,		-0.220,		3001,

		0.153,		-0.220,		-1,

		0.153,		-0.240,		1,
		0.153,		-0.510,		1,
		0.180,		-0.640,		1,
		-0.180,		-0.640,		1,
		-0.153,		-0.510,		1,
		-0.153,		-0.240,		1,

		0.153,		-0.240,		-1
		
	del 1

	del 1

	! ------ Backrest and Footholder ------
 	add2 0,-b/2 + seatDepth + _legThick
	mul2     A/0.40, 1
	
	poly2_b 48, 1+2+64, gs_fill_pen, gs_back_pen, 
		0.1257,		-0.4295,		1, 
		0.1132,		-0.4295,		1, 
		0.0937,		-0.4519,		1, 
		0.0817,		-0.4519,		1, 
		0.0817,		-0.4529,		1, 
		0.0983,		-0.5081,		1, 
		0.0969,		-0.5129,		1, 
		0.0947,		-0.5173,		1, 
		0.0918,		-0.5213,		1, 
		0.0884,		-0.5245,		1, 
		0.0846,		-0.5270,		1, 
		0.0804,		-0.5287,		1, 
		0.0298,		-0.5376,		1, 
		-0.0212,	-0.5376,		1, 
		-0.0717,	-0.5287,		1, 
		-0.0762,	-0.5270,		1, 
		-0.0805,	-0.5245,		1, 
		-0.0844,	-0.5213,		1, 
		-0.0878,	-0.5174,		1, 
		-0.0906,	-0.5129,		1, 
		-0.0763,	-0.4529,		1, 
		-0.0763,	-0.4519,		1, 
		-0.0821,	-0.4519,		1, 
		-0.1048,	-0.4318,		1, 
		-0.1190,	-0.4318,		1, 
		-0.1461,	-0.5083,		1, 
		-0.1512,	-0.5167,		1, 
		-0.1550,	-0.5260,		1, 
		-0.1573,	-0.5359,		1, 
		-0.1581,	-0.5461,		1, 
		-0.1573,	-0.5563,		1, 
		-0.1550,	-0.5662,		1, 
		-0.1512,	-0.5755,		1, 
		-0.1461,	-0.5839,		1, 
		-0.1276,	-0.6051,		1, 
		-0.0399,	-0.6207,		1, 
		0.0489,		-0.6207,		1, 
		0.1367,		-0.6051,		1, 
		0.1611,		-0.5770,		1, 
		0.1654,		-0.5667,		1, 
		0.1681,		-0.5557,		1, 
		0.1691,		-0.5443,		1, 
		0.1684,		-0.5329,		1, 
		0.1659,		-0.5219,		1, 
		0.1618,		-0.5115,		1, 
		0.1562,		-0.5020,		1, 
		0.1408,		-0.4652,		1, 
		0.1257,		-0.4295,		1
	
	poly2_b 20, 1+2+64, gs_fill_pen, gs_back_pen, 
		0.0817,		-0.4519,		1, 
		-0.0763,	-0.4519,		1, 
		-0.0763,	-0.4529,		1, 
		-0.0906,	-0.5129,		1, 
		-0.0878,	-0.5174,		1, 
		-0.0844,	-0.5213,		1, 
		-0.0805,	-0.5245,		1, 
		-0.0762,	-0.5270,		1, 
		-0.0717,	-0.5287,		1, 
		-0.0212,	-0.5376,		1, 
		0.0298,		-0.5376,		1, 
		0.0804,		-0.5287,		1, 
		0.0846,		-0.5270,		1, 
		0.0884,		-0.5245,		1, 
		0.0918,		-0.5213,		1, 
		0.0947,		-0.5173,		1, 
		0.0969,		-0.5129,		1, 
		0.0983,		-0.5081,		1, 
		0.0817,		-0.4529,		1, 
		0.0817,		-0.4519,		1
	
	poly2_b 5, 1+2+64, gs_fill_pen, gs_back_pen, 
		-0.0763,	-0.1598,		1, 
		-0.0763,	-0.4519,		1, 
		0.0817,		-0.4519,		1, 
		0.0817,		-0.1598,		1, 
		-0.0763,	-0.1598,		1

	poly2_b 12, 1+2+64, gs_fill_pen, gs_back_pen, 
		0.0817,		-0.2882,		1, 
		0.0817,		-0.4519,		1, 
		0.0937,		-0.4519,		1, 
		0.1132,		-0.4295,		1, 
		0.1257,		-0.4295,		1, 
		0.1257,		-0.4291,		1, 
		0.1257,		-0.1855,		1, 
		0.1016,		-0.1837,		900, 
		0,			94.0456,		4001, 
		0.1017,		-0.1596,		1, 
		0.0817,		-0.1598,		1, 
		0.0817,		-0.2882,		1
	
	poly2_b 12, 1+2+64, gs_fill_pen, gs_back_pen, 
		-0.1190,	-0.4318,		1,
		-0.1048,	-0.4318,		1,
		-0.0821,	-0.4519,		1,
		-0.0763,	-0.4519,		1,
		-0.0763,	-0.2887,		1,
		-0.0763,	-0.1596,		1,
		-0.0985,	-0.1596,		1,
		-0.0942,	-0.1840,		900,
		0,			78.6055,		4001,
		-0.1189,	-0.1833,		1,
		-0.1190,	-0.2722,		1,
		-0.1190,	-0.4318,		1
	
	poly2_b 16, 1+2+4+64, gs_fill_pen, gs_back_pen, 
		-0.1203,	-0.093,		1, 
		-0.1201,	-0.107,		900, 
		0,			93.4237,	4001, 
		-0.1335,	-0.1084,	1, 
		-0.1335,	-0.4729,	1, 
		-0.1190,	-0.4318,	1, 
		-0.1190,	-0.1089,	1, 
		0.1257,		-0.1089,	1, 
		0.1257,		-0.1131,	1, 
		0.1257,		-0.4291,	1, 
		0.1408,		-0.4652,	1, 
		0.1408,		-0.1081,	1, 
		0.1283,		-0.1066,	900, 
		0,			100.0300,	4001, 
		0.1276,		-0.0939,	1, 
		-0.1203,	-0.0939,	1
	
	del 2

	! --------------Tray --------------------------
	if bTray then
		drawindex 50
		add2 0,-distLegs +_xLegs1+0.03
		for k = 1 to 2
			if iTrayStyle = STYLE_OVALTRAY then
				poly2_b 6, 1+2+4+64, gs_fill_pen, gs_back_pen,
					0, 								_trayDepth/2, 	1,
					_trayWidth/2 - _trayDepth/2,	_trayDepth/2, 	1,
					_trayWidth/2 - _trayDepth/2,	0, 				900,
					0, -180, 4001,
					0.05,	-_trayDepth/2 + 0.02, 	1,
					0, 		-_trayDepth/2 + 0.02, 	0
			else
				poly2_b 16, 1+2+4+64, gs_fill_pen, gs_back_pen,
					_trayWidth/2, 			_trayDepth/2-_legRad, 				1,
					_trayWidth/2,			10, 								800,
					_trayWidth/2-_legRad,	_trayDepth/2,						1000+1,
					0,						_trayDepth/2,						0,
		
					0,						-_trayDepth/2+_TrayY,				1,
					_TrayX-_TrayRad,		-_trayDepth/2+_TrayY,				1,
					_TrayX-_TrayRad,		-_trayDepth/2+_TrayY-_TrayRad,		900,
					_TrayX,					-_trayDepth/2+_TrayY-_TrayRad,		1+3000,
					_TrayX,					-_trayDepth/2+_TrayRad,				1+64,
					_TrayX+_TrayRad,		-_trayDepth/2+_TrayRad,				900,
					_TrayX+_TrayRad,		-_trayDepth/2,						1+3000,
		
					_trayWidth/2-_legRad, 	-_trayDepth/2,						1,
					_trayWidth/2-_legRad,	-(_trayDepth/2-_legRad),			900,
					_trayWidth/2, 			-(_trayDepth/2-_legRad),			15+3000,
					_trayWidth/2,			0,									1,
					_trayWidth/2, 			_trayDepth/2-_legRad, 				1
			endif
		mul2 -1,1
		next k
		del k-1
		del 1
	endif
	del 3
return

! ==============================================================================
"SimpleSymbol":		! 1: 100
! ==============================================================================
	add2 a/2,0
	poly2_b 5, 1+2+4+64, gs_fill_pen, gs_back_pen,
		a/2,0,1,
		a/2,b,1,
		-a/2,b,1,
		-a/2,0,1,
		a/2,0,1
	del 1

	rot2 180
	add2 -a/2,0
	for i = 1 to 2
		! --------------Backrest --------------------------
		poly2_b 4, 1+4, gs_fill_pen, gs_back_pen,	
			0, 					-distLegs/2-seatDepth/2,	0,
			_seatWidth/2,		-distLegs/2-seatDepth/2,	1,
			A/2,				-B,							0,
			0,					-B,							0
		
	
		! --------------Seat --------------------------
		poly2_b 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0,					-distLegs/2-seatDepth/2,	1,
			_seatWidth/2,		-distLegs/2-seatDepth/2,	1,
			_seatWidth/2,		-distLegs/2+seatDepth/2,	1,
			0,					-distLegs/2+seatDepth/2,	0

		! --------------Leg --------------------------
		poly2_b 4, 1+4, gs_fill_pen, gs_back_pen,	
			0, 					-distLegs/2+seatDepth/2,	0,
			_seatWidth/2,		-distLegs/2+seatDepth/2,	1,
			A/2,				0,							0,
			0,					0,							0
		
	
	mul2 -1,1
	next i
	del i-1
	del 2
return

! ==============================================================================
"DraftSymbol":		! 1: 200
! ==============================================================================

poly2_b 4, 1+2+4+64, gs_fill_pen, gs_back_pen,
	0,0,1,
	0,B,1,
	A,B,1,
	A,0,1

return
