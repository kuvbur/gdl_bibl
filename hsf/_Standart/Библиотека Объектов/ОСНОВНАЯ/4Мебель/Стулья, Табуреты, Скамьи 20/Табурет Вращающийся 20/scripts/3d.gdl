
pen gs_cont_pen
if gs_shadow=0 then shadow off

resol gs_resol

if gs_detlevel_3D_m = DLEV3D_OFF then end

material gs_frame_mat
for i=1 to 4
	extrude	3, -0.4*a/2, 0, zzyzx*0.65, 55,
			a/2, 0, 1,
			a/2-th/2, 0, 901,
			0, 359.5, 4001
		gosub 1000

	addx 0.8*a/2
	addz 0.2*zzyzx
	rotz -45
	rotx 90
	addz th*0.5
	prism_	2, a*0.48,
			0, 0, 979,
			th/2*0.5, 360, 4079
	del 5

	rotz 90
next i
del i-1

addz zzyzx*0.65
prism_	3, th,
		0, 0, 979,
		0.7*a/2, 360, 4079,
		th/2*0.7, 360, 4079
gosub 10
addz th+th*0.35
gosub 10
del 1
addz -zzyzx*0.15
prism_	2, zzyzx/2-1.25*th,
		0, 0, 979,
		th/2*0.7, 360, 4079
		gosub 1000

del 2
addz zzyzx-1.25*th
gosub 10

if gs_detlevel_3D_m = DLEV3D_SIMPLE then
material gs_seat_mat
	prism_	2, 1.25*th,
			0, 0, 979,
			a/2, 360, 4079
endif

if gs_detlevel_3D_m = DLEV3D_DETAILED then
	hprism_	gs_seat_mat, gs_seat_mat, gs_seat_mat, gs_seat_mat,
			2, 1.25*th, 0, 0.5*th, 1,
			0, 0, 979,
			a/2, 360, 4079
endif

del 1

end

10: prism_	3, -th*0.35,
			0, 0, 979,
			0.7*a/2/3, 360, 4079,
			th/2*0.7, 360, 4079
	return

1000:
roty 90
gosub 5000
del 1
return


5000:

vert 0, 0, 0
vert 1, 0, 0
vert 0, 1, 0
vert 0, 0, 1

coor 2, -1, -2, -3, -4

base

body -1

return
