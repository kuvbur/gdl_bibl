
EPS=0.0001

dim stDetlevel3D[3]
	stDetlevel3D[1] = `Детальный`
	stDetlevel3D[2] = `Простой`
	stDetlevel3D[3] = `Откл.`

dim stCabinetForm[3]
	stCabinetForm[1] = `Прямой`
	stCabinetForm[2] = `L-угол`
	stCabinetForm[3] = `С-угол`

SHAPE_SQUARE   = 1
SHAPE_CORNER_L = 2
SHAPE_CORNER_C = 3

dim stDoorStyle[12]
	stDoorStyle[1] = `Стиль 1`
	stDoorStyle[2] = `Стиль 2`
	stDoorStyle[3] = `Стиль 3`
	stDoorStyle[4] = `Стиль 4`
	stDoorStyle[5] = `Стиль 5`
	stDoorStyle[6] = `Стиль 6`
	stDoorStyle[7] = `Стиль 7`
	stDoorStyle[8] = `Стиль 8`
	stDoorStyle[9] = `Стиль 9`
	stDoorStyle[10] = `Стиль 10`
	stDoorStyle[11] = `Стиль 11`
	stDoorStyle[12] = `Спец. панель`

dim stDoorType[2]
	stDoorType[1] = `Распашные`
	stDoorType[2] = `Раздвижные`

DOOR_TYPE_SIDEHUNG = 2
DOOR_TYPE_SLIDING = 1

! const values for parameter: gs_knob_type_m
KNOB_STYLE_1	= 1
KNOB_STYLE_2	= 2
KNOB_STYLE_3	= 3
KNOB_STYLE_4	= 4
KNOB_STYLE_5	= 5
KNOB_STYLE_6	= 6
KNOB_STYLE_7	= 7
KNOB_STYLE_8	= 8

dim stKnobPlacing[2]
	stKnobPlacing[1]=`Вертикальный`
	stKnobPlacing[2]=`Горизонтальный`

dim stInteriorType[4]
	stInteriorType[1]=`Полка`
	stInteriorType[2]=`Штанга`
	stInteriorType[3]=`Комбинированное`
	stInteriorType[4]=`Нет`

INTERIOR_NONE		= 0
INTERIOR_COMBINED	= 1
INTERIOR_HANGER		= 2
INTERIOR_SHELVES	= 3

! const values for parameter: gs_cornice_type_m
CORN_STYLE_1	= 1
CORN_STYLE_2	= 2
CORN_STYLE_3	= 3
CORN_STYLE_4	= 4

dim stCorniceOverhang[4]
	stCorniceOverhang[1]=`Спереди`
	stCorniceOverhang[2]=`Спереди и Слева`
	stCorniceOverhang[3]=`Спереди и Справа`
	stCorniceOverhang[4]=`Спереди и по Бокам`

! const values for parameter: gs_leg_type_m
LEG_STYLE_1    = 1
LEG_STYLE_2    = 2
LEG_STYLE_3    = 3
LEG_STYLE_4    = 4
LEG_STYLE_5    = 5
LEG_STYLE_6    = 6

!-----Definitions-----
thickness = 0.02


!-----Need Parameter Script and 3D-----
corOverhang  = 0
corOverhangL = 0
corOverhangR = 0
cabinetStartX = 0
if not(bCornice) then
	cot=0
	cooh=0
else
	if gs_lining_m=1 then
		corOverhangL = cooh
		corOverhangR = cooh
		cabinetStartX = cooh
	endif
	if gs_lining_m=2 then
		corOverhangR = cooh
		corOverhangL = 0
		cabinetStartX = 0
	endif
	if gs_lining_m=3 then
		corOverhangR = 0
		corOverhangL = cooh
		cabinetStartX = cooh
	endif
endif
corOverhang = corOverhangL+corOverhangR
if cot=0 then cooh=0

doorHeight=ZZYZX-cot-leg_h-2*thickness*(iDoorType <> 2)-thickness*(iDoorType = 2)
if iCabinetForm = SHAPE_SQUARE then
	doorFullWidth=A-corOverhang-2*thickness*(iDoorType <> 2)-thickness*(iDoorType = 2)
else
	if iCabinetForm = SHAPE_CORNER_L then
		doorWidthA = A-sideDepth1+cooh*bCornice-corOverhangR-thickness*(iDoorType <> 2)+thickness/2*(iDoorType = 2)-doorThickness
		doorWidthB = B-sideDepth2+cooh*bCornice-corOverhangL-thickness*(iDoorType <> 2)+thickness/2*(iDoorType = 2)-doorThickness
		!doorFullWidth = min(doorWidthA, doorWidthB)
		doorFullWidth = doorWidthB
	else
		tempSideDepth1 = sideDepth1 - cooh - doorThickness*(iDoorType = 2)
		tempSideDepth2 = sideDepth2 - cooh - doorThickness*(iDoorType = 2)
		tempB = B
		tempA = A
		if gs_lining_m=3 or gs_lining_m=1 then tempB = b - cooh
		if gs_lining_m=2 or gs_lining_m=1 then tempA = a - cooh

		if abs(tempSideDepth1-tempA)< EPS or abs(tempSideDepth2-tempB) < EPS then
			beta = 90
		else
			beta = atn((tempB-tempSideDepth2)/(tempA-tempSideDepth1))
		endif

		doorFullWidth=sqr((tempB-tempSideDepth2-doorThickness/cos(beta))**2 + (tempA-tempSideDepth1-doorThickness/sin(beta))**2)
	endif
endif



