
UI_dialog `Параметры Гардеробного Шкафа`

ui_current_page gs_ui_current_page

iPageIDRoot 		=-1
iPageIDDim			= 1
iPageIDOpening		= 2
iPageIDAppearance	= 3
iPageIDDescriptions	= 4

pageStartY = 5

! ==============================================================================
!UI_PAGES
! ==============================================================================

UI_PAGE iPageIDDim, iPageIDRoot, `Размеры и Форма Шкафа`, "uiTab_Dimension_flat(1)"
	gosub "dimPage"

UI_PAGE iPageIDOpening, iPageIDRoot, `Открывание`, "uiTab_WardrobeDoor_flat(1)"
	gosub "openingPage"

UI_PAGE iPageIDAppearance, iPageIDRoot, `Внешний Вид`, "uiTab_2DRepr_flat(1)"
	gosub "appearancePage"

UI_PAGE iPageIDDescriptions, iPageIDRoot, `Характеристики`, "uiTab_Descriptions_flat(1)"
	gosub "descriptionPage"

! ==============================================================================
end
! ==============================================================================


! ==============================================================================
!Subroutines
! ==============================================================================

! ------------------------------------------------------------------------------
"dimPage":
! ------------------------------------------------------------------------------

	x1 = 206
	x2 = 360
	x3 = 420
	x4 = 420+18
	yCurrent = pageStartY + 1

	UI_OUTFIELD	`Ширина`,			x1,	 yCurrent,		x2-x1-2,	15
	UI_INFIELD	"A",				x2,	 yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Длина`,			x1,	 yCurrent,		x2-x1-2,	15
	UI_INFIELD	"melys",			x2,	 yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Высота`,			x1,	 yCurrent,		x2-x1-2,	15
	UI_INFIELD	"B",				x2,	 yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Количество Полок`,	x1,	yCurrent,		x2-x1-2,	15
	UI_INFIELD	"polc_num",			x2,	yCurrent-2,		x4-x2,		20
	yCurrent = yCurrent + 21

	UI_INFIELD{3}	"tok",			x1,		yCurrent-2,	 	x4-x1-2,	 20,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Наличник`, 0,
				2, `Наличник`, 1
	yCurrent = yCurrent + 21

	UI_INFIELD{3}	"tok_diff",		x1,		yCurrent-2,	 	x4-x1-2,	 20,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Различная Ширина Наличников`, 0,
				2, `Различная Ширина Наличников`, 1
	yCurrent = yCurrent + 21

	if tok then
		textFlag = 0
		textFlag2 = 0
		if tok_diff then
			UI_OUTFIELD	`Слева`,		x1,	yCurrent,	x2-x1-2,	15
			UI_INFIELD	"tok_b",	x2,	yCurrent-2,	x3-x2,		20
		else
		textFlag2 = 4
			UI_OUTFIELD	`Ширина`,			x1,	yCurrent,	x2-x1-2,	15, textFlag
			UI_INFIELD	"gs_frame_width",	x2,	yCurrent-2,	x3-x2,		20
		endif
	else
		textFlag = 4
		textFlag2 = 4
		UI_OUTFIELD	`Ширина`,			x1,	yCurrent,	x2-x1-2,	15, textFlag
		UI_INFIELD	"gs_frame_width",	x2,	yCurrent-2,	x3-x2,		20
	endif
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Справа`,		x1,	yCurrent,	x2-x1-2,	15, textFlag2
	UI_INFIELD	"tok_j",		x2,	yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Сверху`,		x1,	yCurrent,	x2-x1-2,	15, textFlag2
	UI_INFIELD	"tok_f",		x2,	yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21

	UI_OUTFIELD	`Толщина`,	x1,	yCurrent,	x2-x1-2,	15,	textFlag
	UI_INFIELD	"gs_frame_thk",	x2,	yCurrent-2,	x3-x2,		20
	yCurrent = yCurrent + 21


	UI_INFIELD "gs_ap",8,pageStartY + 3,186,220,
			1,"Built-in_Door_Panels(13)",15,3,
			41,108,40,80,
			1,stDoorPanel[1],
			2,stDoorPanel[2],
			3,stDoorPanel[3],
			4,stDoorPanel[4],
			5,stDoorPanel[5],
			6,stDoorPanel[6],
			7,stDoorPanel[7],
			8,stDoorPanel[8],
			9,stDoorPanel[9],
			10,stDoorPanel[10],
			11,stDoorPanel[11]

	IF gs_ap_m = 10 Then
		UI_OUTFIELD	`Имя Специальной Панели`,	x1,	yCurrent,	x2-x1-2,	15
		UI_INFIELD	"gs_cust_p",			x2,	yCurrent-2,	x4-x2,		20
		
		yCurrent = yCurrent + 21
		
		UI_INFIELD{3}	"bTurnPanel",		x1,	yCurrent-2,	 x4-x1-2,	20,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Поворот панели`, 0,
				2, `Поворот панели`, 1
	Endif

return

! ------------------------------------------------------------------------------
"openingPage":
! ------------------------------------------------------------------------------

	UI_STYLE 0,1
	UI_OUTFIELD	`Открывание`,			210,	pageStartY + 47,	145,	13
	UI_STYLE 0,0

	UI_OUTFIELD	`Тип Двери`,		210,	pageStartY + 25,	145,	13
	UI_INFIELD{3}	"gs_oef",		210,	pageStartY + 67,	230,	18,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Линия в 2D`, 0,
				2, `Линия в 2D`, 1

	UI_OUTFIELD	`Угол в 2D`,		210,	pageStartY + 91,	145,	13
	UI_OUTFIELD	`Угол в 3D`,		210,	pageStartY + 113,	145,	13
	UI_OUTFIELD	`Высота Цоколя`,	210,	pageStartY + 135,	145,	13
	UI_OUTFIELD	`Разрешение Ручки`,210,	pageStartY + 157,	145,	13


	UI_INFIELD	"optyp",		360,	pageStartY + 23,		78,	18
	UI_INFIELD	"gs_open_2D",	360,	pageStartY + 89,		60,	16
	UI_INFIELD	"gs_open_3D",	360,	pageStartY + 111,		78,	16
	UI_INFIELD	"labmag",		360,	pageStartY + 133,		60,	16
	UI_INFIELD	"gs_resol",		360,	pageStartY + 155,		60,	18



	UI_INFIELD "gs_hando",8,pageStartY + 3,186,220,
	1,"Built-in_Door_Handles(13)",5,1,
	82,106,80,85,
	1,stHandleStyle[1],
	2,stHandleStyle[2],
	3,stHandleStyle[3],
	4,stHandleStyle[4],
	5,stHandleStyle[5]

return

! ------------------------------------------------------------------------------
"appearancePage":
! ------------------------------------------------------------------------------

	x1 = 2
	x2 = 115
	x3 = 215
	x4 = 249
	x5 = 333
	x6 = 393
	x7 = 442

	UI_SEPARATOR	0,	pageStartY + 139,	x7+2,	pageStartY + 139
	UI_SEPARATOR	0,	pageStartY + 139 + 24,	x7+2,	pageStartY + 139 + 24
	UI_SEPARATOR	0,	pageStartY + 208 + 24,	x7+2,	pageStartY + 208 + 24

	yCurrent = pageStartY - 2

	UI_STYLE 0,1
	UI_OUTFIELD	`2D-отображение`,	x1,	yCurrent,	x3-x1,	16
	UI_STYLE 0,0
	yCurrent = yCurrent + 18

	UI_OUTFIELD	`Тип Символа`,	x1,		yCurrent,	x2-x1-2,	15

	UI_INFIELD{3}	"gs_cabStyle_2D",	x2,	yCurrent,	66,54,
				3,"2Dstypcab(13)",8,2,
				64,52,60,48,
				1,stCabStyle[1],stCabStyle[1],
				7,stCabStyle[2],stCabStyle[2],
				5,stCabStyle[3],stCabStyle[3]

	yCurrent = yCurrent + 56

	UI_INFIELD{3}	"gs_zoneRel",			x1,	yCurrent,	 	x3-x1-2,	 18,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Часть Зоны`, 0,
				2, `Часть Зоны`, 1
	yCurrent = yCurrent + 20

	UI_INFIELD{3}	"gs_bFills",			x1,	yCurrent,	 	x3-x1-2,	 18,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Использовать Штриховку`, 0,
				2, `Использовать Штриховку`, 1

	yCurrent = yCurrent + 20

	UI_INFIELD{3}	"gs_wfill_2d",			x1,	yCurrent,	 	x4-x1-2,	 26,
				7, "", 2, 1, 0, 0, 0, 0,
				1, `Штриховка Стены в 2D при Толщине Стены > Глубины Шкафа`, 0,
				2, `Штриховка Стены в 2D при Толщине Стены > Глубины Шкафа`, 1

	yCurrent = pageStartY + 144

	UI_STYLE 0,1
	UI_OUTFIELD	`3D-отображение`,	x1,	yCurrent,	x3-x1,		16
	UI_STYLE 0,0

	UI_OUTFIELD `Показ в 3D`, x4,	yCurrent,	x5-x4-2,	15
	UI_INFIELD{3} "gs_detlevel_3D_m", x5, yCurrent - 4, x7-x5, 22,
			8, "", 2, 1, 0, 0, 0, 0,
			1, `Детальный`, 2,
			2, `Откл.`, 0

	yCurrent = yCurrent + 24

	UI_STYLE 0,1
	UI_OUTFIELD	`Покрытия`,	x1,	yCurrent,	x3-x1,		16
	UI_STYLE 0,0
	yCurrent = yCurrent + 22

	UI_OUTFIELD	`Наличник`,		x1,	yCurrent,	x2-x1-2,	15
	UI_INFIELD	"gs_frame_mat",	x2,	yCurrent-5,	x3-x2,		23

	UI_OUTFIELD	`Ручка`,		x4,	yCurrent,	x5-x4-2,	15
	UI_INFIELD	"gs_metal_mat",	x5,	yCurrent-5,	x7-x5,		23
	yCurrent = yCurrent + 23

	UI_OUTFIELD	`Полотно Двери`,	x1,	yCurrent,	x2-x1-2,	15
	UI_INFIELD	"gs_leaf_mat",	x2,	yCurrent-4,	x3-x2,		23

	UI_OUTFIELD	`Стекло`,		x4,	yCurrent,	x5-x4-2,	15
	UI_INFIELD	"gs_glass_mat",	x5,	yCurrent-4,	x7-x5,		23
	yCurrent = yCurrent + 28

	UI_STYLE 0,1
	UI_OUTFIELD `Минимальное Пространство`, x1,	yCurrent,	x3-x1-2,	15
	UI_STYLE 0,0
	UI_OUTFIELD `Спереди`, x4,	yCurrent,	x5-x4-2,	15
	UI_INFIELD	"MSFront",	x5,	yCurrent-4,	x7-x5,		22

	yCurrent = pageStartY -2 + 18

	UI_OUTFIELD	`Перо Контура`,		x4,	yCurrent,	x6-x4-2,	15
	UI_INFIELD	"gs_pen_2D",		x6,	yCurrent-2,	x7-x6,		24
	yCurrent = yCurrent + 27

	UI_OUTFIELD	`Тип Штриховки`,		x4,	yCurrent,	x5-x4-2,	15
	UI_INFIELD	"gs_fillFr",		x5,	yCurrent-2,	x7-x5,		24
	yCurrent = yCurrent + 27

	UI_OUTFIELD	`Перо Штриховки`,			x4,	yCurrent,	x6-x4-2,	15
	UI_INFIELD	"gs_penFr_fg",		x6,	yCurrent-2,	x7-x6,		24
	yCurrent = yCurrent + 27

	UI_OUTFIELD	`Перо Фона`,	x4,	yCurrent,	x6-x4-2,	15
	UI_INFIELD	"gs_penFr_bg",		x6,	yCurrent-2,	x7-x6,		24

return

! ------------------------------------------------------------------------------
"descriptionPage":
! ------------------------------------------------------------------------------
	dim stParamNames[16]
		stParamNames[1] = "gs_list_cost"
		stParamNames[2] = "gs_list_manufacturer"
		stParamNames[3] = "gs_list_note"
		stParamNames[4] = "gs_list_location"
		stParamNames[5] = "gs_list_accessories"
		stParamNames[6] = "FM_Type"
		stParamNames[7] = "FM_InventoryNumber"
		stParamNames[8] = "FM_SerialNumber"
		stParamNames[9] = "FM_ProductionYear"
		stParamNames[10] = "FM_ObjectWeight"
		stParamNames[11] = "FM_ObjectWeightUnit"
		stParamNames[12] = "gs_list_custom1"
		stParamNames[13] = "gs_list_custom2"
		stParamNames[14] = "gs_list_custom3"
		stParamNames[15] = "gs_list_custom4"
		stParamNames[16] = "gs_list_custom5"

	call "ui_object_listing" parameters all listfieldID = iPageIDDescriptions,
										listFieldPosY = 0,
										listFieldHeight = 265,
										stDescHeader = "",
										stValueHeader = "",
										stParamNames = stParamNames
return
