
EPS = 0.0001

dim stStyles[3]
	stStyles[1] = `Прямоугольный`
	stStyles[2] = `Угол`
	stStyles[3] = `Скругленный Угол`

dim stSymbolTypes[2]
	stSymbolTypes[1] = `Тип 1`
	stSymbolTypes[2] = `Тип 2`

! -----------------------------------------------------------------------------
! Object Types
! -----------------------------------------------------------------------------

iObjectType = 20
if iStyle = 2 then iObjectType = 21
if iStyle = 3 then iObjectType = 22

! -----------------------------------------------------------------------------
! Show MEP Connections
! -----------------------------------------------------------------------------

isavailable = 0
isInArchiCAD = APPLICATION_QUERY ("MEPMODELER", "IsAvailable()", isavailable)
isMEPEnabled = (isavailable OR isInArchiCAD = 0)
if isMEPEnabled then
	bShowMEP = 1
	reqBMep = 0
	success = LIBRARYGLOBAL ("LibraryGlobals13", "showMepConnect", reqBMep)
	if success > 0 then
		bShowMEP = reqBMep
	endif
else
	bShowMEP = 0
endif


showerBorderWidth		= 0.05
showerBorderRadInner	= 0.02
showerBorderRadOuter	= 0.1

showerBorderRadRound1	= a - showerBorderWidth * 2 - showerBorderRadOuter
showerBorderRadRound2	= b - showerBorderWidth * 2 - showerBorderRadOuter

simbolLineAngle			= 0
if iStyle = 1 then
	if iSymbolType = 1 then
		drainPosX		= a / 2
		drainPosY		= b / 2
	else
		drainPosX		= 0.175
		drainPosY		= 0.175
	endif
endif
if iStyle = 2 then
	drainPosX			= a / 2
	drainPosY			= b / 2
endif
if iStyle = 3 then
	if iSymbolType = 1 then
		drainPosX		= 0.225
		drainPosY		= 0.225
	else
		drainPosX		= 0.175
		drainPosY		= 0.175
	endif
endif

if iStyle <> 2 and iSymbolType = 2 then
	simbolLineAngle		= ATN((b - drainPosY * 2) / (a - drainPosX * 2))
endif

	
