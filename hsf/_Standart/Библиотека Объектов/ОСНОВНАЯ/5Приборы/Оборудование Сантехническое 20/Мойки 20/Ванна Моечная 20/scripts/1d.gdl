!--------------------------------------Основной--------------------------------
EPS = 0.00001
show_el = 1
if (GLOB_SCRIPT_TYPE = 2 or GLOB_SCRIPT_TYPE = 3) and (GLOB_PREVIEW_MODE <> 0 or GLOB_FEEDBACK_MODE <> 0) then
	gs_detlevel_2D_m = 1
	gs_detlevel_3D_m = 1
	show_axis = 0
	show_axis_and = 1
	show_conventions = 0
	show_size = 0
	show_isol = 0
else
	call "Показ_систем" PARAMETERS All isMep=1, isEqp=1 RETURNED_PARAMETERS show_el, syst_name
	show_axis = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis", show_axis)
	show_axis_and = 1 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_axis_and", show_axis_and)
	show_isol = 1 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_isol", show_isol)
	show_conventions = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_conventions", show_conventions)
	show_size = 0 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "show_size", show_size)
	gs_detlevel_2D_m = 2 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_2D_m",gs_detlevel_2D_m)
	gs_detlevel_3D_m = 2 : success = LIBRARYGLOBAL ("Libraryflobals-mep", "gs_detlevel_3D_m", gs_detlevel_3D_m)
endif
IF gs_detlevel_3D_m = 2 THEN res = 22
IF gs_detlevel_3D_m = 1 THEN res = 12
IF gs_detlevel_3D_m = 0 THEN res = 12


if ZZYZX<0.05 then  ZZYZX=0.05

dim stSymbolTypes[2]
	stSymbolTypes[1] = `Символический`
	stSymbolTypes[2] = `На Основе Модели`

if gs_symbol_type_enable then
	iSymbolType = 1
	if gs_symbol_type = stSymbolTypes[2] then iSymbolType = 2
else
	iSymbolType = 2
endif



DIM stLegType[3]
	stLegType[1]=`Нет`
	stLegType[2]=`Основание`
	stLegType[3]=`Ножки`


rimWidth			= 0.015													!Rim Profile Width
rimHeight			= 0.02													!Rim Profile Height

sinkWallThkSide		= 0.04 + rimWidth * brim								!Sink Wall Thickness Side
sinkWallThkBottom	= 0.1													!Sink Wall Thickness Bottom
sinkRad				= 0.05													!Sink Inner Radius

footingWidth		= 0.03													!Footing Rim Width

legPos				= 0.04													!Leg Position from Sink Side

legDia1				= 0.015													!Leg Part 1 Diameter
legHeight1			= min(0.02, underSinkHeight/5)							!Leg Part 1 Height
legDia2				= 0.02													!Leg Part 2 Diameter
legHeight2			= min(0.01, underSinkHeight/10)							!Leg Part 2 Height

legDia4				= 0.035													!Leg Part 4 Diameter
legHeight4			= min(0.07, underSinkHeight*0.7)						!Leg Part 4 Height

legDia3				= 0.03													!Leg Part 3 Diameter
legHeight3			= underSinkHeight - legHeight1 - legHeight2 - legHeight4	!Leg Part 3 Height

legBandDia			= 0.02													!Leg Band Diameter
legBandElev			= 0.15													!Leg Band Elevation

escapeDia1			= 0.08													!Escape Inner Diameter
escapeDia2			= 0.14													!Escape Outer Diameter
escapeHeight		= 0.01													!Escape Height

bWallMountedTap	= (gs_tap_type_m > 20 and gs_tap_type_m < 28) or (gs_tap_type_m = -1)

! ConPosX/ConPosY Range
if bWallmountedTap then
	if gs_tap_type_m = 21 then
		widthTap = 0.068
		posTap = 0.041
	else
		if gs_tap_type_m = -1 then
			widthTap = 0.05
			posTap = 0.036
		else
			widthTap = 0.05
			posTap = 0.0765
		endif
	endif
endif

! Show MEP Connections -------------------------------------------------------------[

isavailable = 0
isInArchiCAD = APPLICATION_QUERY ("MEPMODELER", "IsAvailable()", isavailable)
isMEPEnabled = (isavailable OR isInArchiCAD = 0)
if isMEPEnabled then
	bShowMEP = 1
	reqBMep = 0
	success = LIBRARYGLOBAL ("LibraryGlobals13", "showMepConnect", reqBMep)
	if success > 0 then
		bShowMEP = reqBMep
	endif
else
	bShowMEP = 0
endif

! Show MEP Connections -------------------------------------------------------------]
