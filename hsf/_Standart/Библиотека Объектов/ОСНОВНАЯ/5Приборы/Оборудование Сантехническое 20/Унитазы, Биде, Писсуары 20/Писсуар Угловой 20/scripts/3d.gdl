
!! Urinal Corner.gsm
!! Modified by Zsolt Feke/CSD/2006 - made more simple model


IF gs_detlevel_3D_m = -1 THEN
	gs_detlevel_3D_m = 2	! Detailed
	IF gs_detlevel_3D = `Откл.` THEN gs_detlevel_3D_m = 0
	IF gs_detlevel_3D = `Простой` THEN gs_detlevel_3D_m = 1
	IF gs_detlevel_3D = `Упрощенный` THEN gs_detlevel_3D_m = 3
ENDIF

IF gs_detlevel_3D_m = 0 THEN END

addStatus = 0
IF GLOB_CONTEXT > 40 AND GLOB_CONTEXT < 50 THEN
	gs_detlevel_3D_m = 1
	addStatus = 1
ENDIF

if gs_shadow=0 then SHADOW OFF
if gs_shadow=1 then SHADOW ON


! --- start of modifying to Shaft

				! --- CONNECTIONS --- !

IF gs_detlevel_3D_m=1 OR gs_detlevel_3D_m=3 THEN RESOL 8
IF gs_detlevel_3D_m=2 THEN RESOL 24

if bShowMEP then

	IF useSysMat THEN
		gs_bowl_mat = sMat
		mat2		= sMat
		gs_con_mat	= sMat
	ENDIF

	addz h_stand+0.83184*zzyzx !0.456

	CALL "MEP_m_ConnectionsACL_4" PARAMETERS SetProgram = SetProgram,
		ui_current_con = ui_current_con,
		MEP_NumberConnections = MEP_NumberConnections,
		MEP_NumConnectionData = gs_Connections,
		gs_AddConnections = gs_AddConnections,
		cShow3D = 1,
		gs_ConMat = gs_con_mat,
		MEP_InsShow = 0,
		MEP_cline_show_3D = 0,
		gs_cont_pen = gs_cont_pen,
		ConPosX_1=ConPosX_1, ConPosY_1=ConPosY_1, ConPosZ_1=ConPosZ_1, ConLength_1=ConLength_1, ConEdit_1 = 1,
		ConPosX_2=ConPosX_2, ConPosY_2=ConPosY_2, ConPosZ_2=ConPosZ_2, ConLength_2=ConLength_2, ConEdit_2 = 13
	del 1
ENDIF

! --- end of modifying to Shaft


IF gs_detlevel_3D_m=1 OR gs_detlevel_3D_m=3 THEN gs_resol=8
if GLOB_CONTEXT>20 and GLOB_CONTEXT<40 and GLOB_CONTEXT<40 then gs_resol=4


RESOL gs_resol
pen gs_cont_pen


!! *** Hotspot Editing
unID=1
hotspot	0,-b,0,unID,h_stand,1+128 : unID=unID+1
hotspot	0,-b,-1,unID,h_stand,3 : unID=unID+1
hotspot	0,-b,h_stand,unID,h_stand,2 : unID=unID+1

addz h_stand
hotspot	0,0,0,unID,b,1+128 : unID=unID+1
hotspot	0,1,0,unID,b,3 : unID=unID+1
hotspot	0,-b,0,unID,b,2 : unID=unID+1

addz 0.83184*zzyzx!+0.456
hotspot	-A*0.5,  -b+b*0.22/0.420509,0,unID,a,1+256 : unID=unID+1
hotspot	-A*0.5-1,-b+b*0.22/0.420509,0,unID,a,3 : unID=unID+1
hotspot	A*0.5,   -b+b*0.22/0.420509,0,unID,a,2 : unID=unID+1

add 0*a/2, -b, 0
hotspot	0,b*0.22/0.420509,0,unID,ZZYZX,1+256 : unID=unID+1
hotspot	0,b*0.22/0.420509,1,unID,ZZYZX,3 : unID=unID+1
hotspot	0,b*0.22/0.420509,-zzyzx,unID,ZZYZX,2 : unID=unID+1

hotspot	0,b,-0.83184*zzyzx-h_stand,unID : unID=unID+1
del 1

ADD 0,-b/2,-zzyzx

IF gs_detlevel_3D_m=2 THEN

	mul a/0.4,b/0.420509,zzyzx/0.535522
	ADDy 0.020509/2

	MATERIAL mat2
	addz 0.38
	addy 0.026
	rotx 102
		CYLIND 0.005,0.015
	del 3

	MATERIAL gs_bowl_mat
	mulz 535/500
	al=atn (0.2435066/0.121753)
	rotx al
	addz 0.232769

		PRISM_           78,     0,
			   -0.080766,     0.022948,     15,
			   -0.060525,     0.005216,     15,
			   -0.041207,    -0.013516,     15,
			   -0.028612,    -0.021179,     15,
			   -0.014655,    -0.025927,     15,
				0.0,    -0.027535,     15,
				0.014655,    -0.025927,     15,
				0.028612,    -0.021179,     15,
				0.041207,    -0.013516,     15,
				0.060525,     0.005216,     15,
				0.080766,     0.022948,     15,
				0.101878,     0.039632,     15,
				0.123806,     0.055229,     15,
				0.146496,     0.069695,     15,
				0.169888,     0.082996,     15,
				0.178343,     0.09079,     15,
				0.18473,     0.100354,     15,
				0.188689,     0.11115,     15,
				0.189999,     0.122575,     15,
				0.188587,     0.133988,     15,
				0.184531,     0.144749,     15,
				0.043103,     0.416997,     15,
				0.032311,     0.430872,     15,
				0.017288,     0.439998,     15,
				0.0,     0.443178,     15,
			   -0.017288,     0.439998,     15,
			   -0.032311,     0.430872,     15,
			   -0.043103,     0.416997,     15,
			   -0.184531,     0.144749,     15,
			   -0.188587,     0.133988,     15,
			   -0.189999,     0.122575,     15,
			   -0.188689,     0.11115,     15,
			   -0.18473,     0.100354,     15,
			   -0.178343,     0.09079,     15,
			   -0.169888,     0.082996,     15,
			   -0.146496,     0.069695,     15,
			   -0.123806,     0.055229,     15,
			   -0.101878,     0.039632,     15,
			   -0.080766,     0.022948,     -1,
			   -0.071726,     0.03381,     15,
			   -0.050947,     0.015607,     15,
			   -0.03251,    -0.002271,     15,
			   -0.022594,    -0.008304,     15,
			   -0.011572,    -0.012053,     15,
				0.0,    -0.013323,     15,
				0.011572,    -0.012053,     15,
				0.022594,    -0.008304,     15,
				0.03251,    -0.002271,     15,
				0.050947,     0.015607,     15,
				0.071726,     0.03381,     15,
				0.093399,     0.050938,     15,
				0.115909,     0.066949,     15,
				0.139202,     0.0818,     15,
				0.1615,     0.094479,     15,
				0.16753,     0.100037,     15,
				0.172046,     0.106799,     15,
				0.174845,     0.114433,     15,
				0.175772,     0.122512,     15,
				0.174773,     0.130582,     15,
				0.171607,     0.138981,     15,
				0.031161,     0.409341,     15,
				0.022756,     0.420147,     15,
				0.012175,     0.426574,     15,
				0.0,     0.428813,     15,
			   -0.012175,     0.426574,     15,
			   -0.022756,     0.420147,     15,
			   -0.031161,     0.409341,     15,
			   -0.171607,     0.138981,     15,
			   -0.174773,     0.130582,     15,
			   -0.175772,     0.122512,     15,
			   -0.174845,     0.114433,     15,
			   -0.172046,     0.106799,     15,
			   -0.16753,     0.100037,     15,
			   -0.1615,     0.094479,     15,
			   -0.139202,     0.0818,     15,
			   -0.115909,     0.066949,     15,
			   -0.093399,     0.050938,     15,
			   -0.071726,     0.03381,     -1



	mulz -1
	sweep             39,8, 0,0.8,2+4+16,
			   -0.071726,     0.03381,     1,
			   -0.050947,     0.015607,     1,
			   -0.03251,    -0.002271,     1,
			   -0.022594,    -0.008304,     1,
			   -0.011572,    -0.012053,     1,
				0.0,    -0.013323,     1,
				0.011572,    -0.012053,     1,
				0.022594,    -0.008304,     1,
				0.03251,    -0.002271,     1,
				0.050947,     0.015607,     1,
				0.071726,     0.03381,     1,
				0.093399,     0.050938,     1,
				0.115909,     0.066949,     1,
				0.139202,     0.0818,     1,
				0.1615,     0.094479,     1,
				0.16753,     0.100037,     1,
				0.172046,     0.106799,     1,
				0.174845,     0.114433,     1,
				0.175772,     0.122512,     1,
				0.174773,     0.130582,     1,
				0.171607,     0.138981,     1,
				0.031161,     0.409341,     1,
				0.022756,     0.420147,     1,
				0.012175,     0.426574,     1,
				0.0,     0.428813,     1,
			   -0.012175,     0.426574,     1,
			   -0.022756,     0.420147,     1,
			   -0.031161,     0.409341,     1,
			   -0.171607,     0.138981,     1,
			   -0.174773,     0.130582,     1,
			   -0.175772,     0.122512,     1,
			   -0.174845,     0.114433,     1,
			   -0.172046,     0.106799,     1,
			   -0.16753,     0.100037,     1,
			   -0.1615,     0.094479,     1,
			   -0.139202,     0.0818,     1,
			   -0.115909,     0.066949,     1,
			   -0.093399,     0.050938,     1,
			   -0.071726,     0.03381,     1,

	0,0.045,0,
	0,0.045,0.08,
	0,0.045,0.13,
	0,0.045,0.17,
	0,0.045,0.19,
	0,0.045,0.20,
	0,0.045,0.205,
	0,0.045,0.208

	del 2

	rotx -al
	rotx 90




	mulz -1
	sweep             39,2, 0,22/40,2+4+16+32,
			   -0.045372,     0.467929,     1,
			   -0.034012,     0.482534,     1,
			   -0.018198,     0.49214,     1,
				0.0,     0.495488,     1,
				0.018198,     0.49214,     1,
				0.034012,     0.482534,     1,
				0.045372,     0.467929,     1,
				0.194243,     0.181352,     1,
				0.198513,     0.170025,     1,
				0.199999,     0.158011,     1,
				0.19862,     0.145985,     1,
				0.194453,     0.13462,     1,
				0.18773,     0.124553,     1,
				0.178829,     0.116349,     1,
				0.154206,     0.102348,     1,
				0.130322,     0.08712,     1,
				0.10724,     0.070703,     1,
				0.085017,     0.05314,     1,
				0.063711,     0.034475,     1,
				0.043376,     0.014757,     1,
				0.030118,     0.006691,     1,
				0.015426,     0.001693,     1,
				0.0,     0.0,     1,
			   -0.015426,     0.001693,     1,
			   -0.030118,     0.006691,     1,
			   -0.043376,     0.014757,     1,
			   -0.063711,     0.034475,     1,
			   -0.085017,     0.05314,     1,
			   -0.10724,     0.070703,     1,
			   -0.130322,     0.08712,     1,
			   -0.154206,     0.102348,     1,
			   -0.178829,     0.116349,     1,
			   -0.18773,     0.124553,     1,
			   -0.194453,     0.13462,     1,
			   -0.19862,     0.145985,     1,
			   -0.199999,     0.158011,     1,
			   -0.198513,     0.170025,     1,
			   -0.194243,     0.181352,     1,
			   -0.045372,     0.467929,     1,
	0,0,0,
	0,0,0.09


	del 1
	addy 0.495488
	sweep             39,2, 0,0.95,4+16+32,
			   -0.045372,    -0.027559,     1,
			   -0.034012,    -0.012954,     1,
			   -0.018198,    -0.003348,     1,
				0.0,     0.0,     1,
				0.018198,    -0.003348,     1,
				0.034012,    -0.012954,     1,
				0.045372,    -0.027559,     1,
				0.194243,    -0.314136,     1,
				0.198513,    -0.325463,     1,
				0.199999,    -0.337477,     1,
				0.19862,    -0.349503,     1,
				0.194453,    -0.360868,     1,
				0.18773,    -0.370935,     1,
				0.178829,    -0.379139,     1,
				0.154206,    -0.39314,     1,
				0.130322,    -0.408368,     1,
				0.10724,    -0.424785,     1,
				0.085017,    -0.442348,     1,
				0.063711,    -0.461013,     1,
				0.043376,    -0.480731,     1,
				0.030118,    -0.488797,     1,
				0.015426,    -0.493795,     1,
			   -0.0,    -0.495488,     1,
			   -0.015426,    -0.493795,     1,
			   -0.030118,    -0.488797,     1,
			   -0.043376,    -0.480731,     1,
			   -0.063711,    -0.461013,     1,
			   -0.085017,    -0.442348,     1,
			   -0.10724,    -0.424785,     1,
			   -0.130322,    -0.408368,     1,
			   -0.154206,    -0.39314,     1,
			   -0.178829,    -0.379139,     1,
			   -0.18773,    -0.370935,     1,
			   -0.194453,    -0.360868,     1,
			   -0.19862,    -0.349503,     1,
			   -0.199999,    -0.337477,     1,
			   -0.198513,    -0.325463,     1,
			   -0.194243,    -0.314136,     1,
			   -0.045372,    -0.027559,     1,

	0,0,0,
	0,0.005,0.01

	del 8
ENDIF

IF gs_detlevel_3D_m=1 THEN

	mul a/0.4,b/0.420509,zzyzx/0.535522
	ADDy 0.020509/2

	MATERIAL mat2
	addz 0.38
	addy 0.026
	rotx 102
		CYLIND 0.005,0.015
	del 3

	MATERIAL gs_bowl_mat
	mulz 535/500
	al=atn (0.2435066/0.121753)
	rotx al
	addz 0.232769

		PRISM_  36,     0,
			   -0.080766,     0.022948,     15,
			   -0.028612,    -0.021179,     15,
				0.0,    -0.027535,     15,
				0.028612,    -0.021179,     15,
				0.080766,     0.022948,     15,
				0.146496,     0.069695,     15,
				0.18473,     0.100354,     15,
				0.188689,     0.11115,     15,
				0.184531,     0.144749,     15,
				0.043103,     0.416997,     15,
				0.017288,     0.439998,     15,
			   -0.017288,     0.439998,     15,
			   -0.043103,     0.416997,     15,
			   -0.184531,     0.144749,     15,
			   -0.188689,     0.11115,     15,
			   -0.18473,     0.100354,     15,
			   -0.146496,     0.069695,     15,
			   -0.080766,     0.022948,     -1,
			   -0.071726,     0.03381,     15,
			   -0.022594,    -0.008304,     15,
				0.0,    -0.013323,     15,
				0.022594,    -0.008304,     15,
				0.071726,     0.03381,     15,
				0.115909,     0.066949,     15,
				0.16753,     0.100037,     15,
				0.174845,     0.114433,     15,
				0.171607,     0.138981,     15,
				0.031161,     0.409341,     15,
				0.012175,     0.426574,     15,
			   -0.012175,     0.426574,     15,
			   -0.031161,     0.409341,     15,
			   -0.171607,     0.138981,     15,
			   -0.174845,     0.114433,     15,
			   -0.16753,     0.100037,     15,
			   -0.115909,     0.066949,     15,
			   -0.071726,     0.03381,     -1



	mulz -1
	sweep       18,3, 0,0.458,addStatus+2+4+16,
			   -0.071726,     0.03381,     1,
			   -0.022594,    -0.008304,     1,
				0.0,    -0.013323,     1,
				0.022594,    -0.008304,     1,
				0.071726,     0.03381,     1,
				0.115909,     0.066949,     1,
				0.16753,     0.100037,     1,
				0.174845,     0.114433,     1,
				0.171607,     0.138981,     1,
				0.031161,     0.409341,     1,
				0.012175,     0.426574,     1,
			   -0.012175,     0.426574,     1,
			   -0.031161,     0.409341,     1,
			   -0.171607,     0.138981,     1,
			   -0.174845,     0.114433,     1,
			   -0.16753,     0.100037,     1,
			   -0.115909,     0.066949,     1,
			   -0.071726,     0.03381,     1,

	0,0.045,0,
	0,0.045,0.19,
	0,0.045,0.208

	del 2

	rotx -al
	rotx 90


	mulz -1
	sweep       18,2, 0,22/40,addStatus+2+4+16+32,
			   -0.045372,     0.467929,     1,
			   -0.018198,     0.49214,     1,
				0.018198,     0.49214,     1,
				0.045372,     0.467929,     1,
				0.194243,     0.181352,     1,
				0.19862,     0.145985,     1,
				0.194453,     0.13462,     1,
				0.154206,     0.102348,     1,
				0.085017,     0.05314,     1,
				0.030118,     0.006691,     1,
				0.0,     0.0,     1,
			   -0.030118,     0.006691,     1,
			   -0.085017,     0.05314,     1,
			   -0.154206,     0.102348,     1,
			   -0.194453,     0.13462,     1,
			   -0.19862,     0.145985,     1,
			   -0.194243,     0.181352,     1,
			   -0.045372,     0.467929,     1,
	0,0,0,
	0,0,0.09


	del 1
	addy 0.495488
	sweep       18,2, 0,0.95,addStatus+4+16+32,
			   -0.045372,    -0.027559,     1,
			   -0.018198,    -0.003348,     1,
				0.018198,    -0.003348,     1,
				0.045372,    -0.027559,     1,
				0.194243,    -0.314136,     1,
				0.19862,    -0.349503,     1,
				0.194453,    -0.360868,     1,
				0.154206,    -0.39314,     1,
				0.085017,    -0.442348,     1,
				0.030118,    -0.488797,     1,
			   -0.0,    -0.495488,     1,
			   -0.030118,    -0.488797,     1,
			   -0.085017,    -0.442348,     1,
			   -0.154206,    -0.39314,     1,
			   -0.194453,    -0.360868,     1,
			   -0.19862,    -0.349503,     1,
			   -0.194243,    -0.314136,     1,
			   -0.045372,    -0.027559,     1,

	0,0,0,
	0,0.005,0.01

	del 7
ENDIF

IF gs_detlevel_3D_m=3 THEN

	mul a/0.4,b/0.420509,zzyzx/0.535522
	ADDy 0.020509/2

	MATERIAL gs_bowl_mat
	mulz 535/500
	al=atn (0.2435066/0.121753)
	rotx al
	addz 0.232769

		PRISM_           10,     0,
			0.0,    -0.027535,     15,
			0.189999,     0.122575,     15,
			0.0,     0.443178,     15,
			-0.189999,     0.122575,     15,
			0.0,    -0.027535,     -1,
			0.0,    -0.013323,     15,
			0.175772,     0.122512,     15,
			0.0,     0.428813,     15,
			-0.175772,     0.122512,     15,
			0.0,    -0.013323,     -1


	mulz -1
	sweep             4,2, 0,0.2,2+4+16,
					0.0,    -0.013323,     1,
					0.175772,     0.122512,     1,
					0.0,     0.428813,     1,
					-0.175772,     0.122512,     1,

	0,0.045,0,
	0,0.045,0.208

	del 2

	rotx -al
	rotx 90




	mulz -1
	sweep             4,2, 0,22/40,2+4+16+32,
				0.0,     0.495488,     1,
				0.199999,     0.158011,     1,
				0.0,     0.0,     1,
			   -0.199999,     0.158011,     1,

	0,0,0,
	0,0,0.09


	del 1
	addy 0.495488
	sweep             4,2, 0,0.95,4+16+32,
				0.0,     0.0,     1,
				0.199999,    -0.337477,     1,
			   -0.0,    -0.495488,     1,
			   -0.199999,    -0.337477,     1,

	0,0,0,
	0,0.005,0.01

	del 7
ENDIF
del 1
