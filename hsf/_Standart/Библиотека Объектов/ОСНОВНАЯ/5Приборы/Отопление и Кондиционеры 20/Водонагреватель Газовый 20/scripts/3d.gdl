
!!Gas Water Heater.gsm


IF gs_detlevel_3D_m = -1 THEN
	gs_detlevel_3D_m = 2	! Detailed
	IF gs_detlevel_3D = `Откл.` THEN gs_detlevel_3D_m = 0
	IF gs_detlevel_3D = `Простой` THEN gs_detlevel_3D_m = 1
ENDIF

IF gs_detlevel_3D_m = 0 THEN END

IF gs_shadow=0 THEN SHADOW OFF
IF gs_shadow=1 THEN SHADOW ON

hotspot a/2,b/2,0
hotspot 0,0,0
hotspot a,0,0
hotspot a,b,0
hotspot 0,b,0
hotspot 0,0,zzyzx
hotspot a,0,zzyzx
hotspot a,b,zzyzx
hotspot 0,b,zzyzx


! --- start of modifying to Shaft

				! --- CONNECTIONS --- !

PEN gs_cont_pen
IF gs_detlevel_3D_m = 1 THEN RESOL 8
IF gs_detlevel_3D_m = 2 THEN RESOL 24


IF bShowMEP THEN

	IF useSysMat THEN
		mat1 = sMat
		mat2 = sMat
		gs_con_mat = sMat
	ENDIF

	CALL "MEP_m_ConnectionsACL_4" PARAMETERS SetProgram = SetProgram,
		ui_current_con = ui_current_con,
		MEP_NumberConnections = MEP_NumberConnections,
		MEP_NumConnectionData = gs_Connections,
		gs_AddConnections = gs_AddConnections,
		cShow3D = 1,
		gs_ConMat = gs_con_mat,
		MEP_InsShow = 0,
		MEP_cline_show_3D = 0,
		gs_cont_pen = gs_cont_pen,
		ConPosX_1=ConPosX_1, ConPosY_1=ConPosY_1, ConPosZ_1=ConPosZ_1, ConLength_1=ConLength_1, ConEdit_1 = 16,
		ConPosX_2=ConPosX_2, ConPosY_2=ConPosY_2, ConPosZ_2=ConPosZ_2, ConLength_2=ConLength_2, ConEdit_2 = 16,
		ConPosX_3=ConPosX_3, ConPosY_3=ConPosY_3, ConPosZ_3=ConPosZ_3, ConLength_3=ConLength_3, ConEdit_3 = 16,
		ConPosX_4=ConPosX_4, ConPosY_4=ConPosY_4, ConPosZ_4=ConPosZ_4, ConLength_4=ConLength_4, ConEdit_4 = 1
ENDIF

! --- end of modifying to Shaft


if gs_detlevel_3D_m = 1 then gs_resol=8

pen gs_cont_pen
addx a
if sp=1 then
	material gs_con_mat
	addx -a/2
	addy b
	addz zzyzx
	rotz 180
	revolve 2,90,16+32,
		0,b/2,901,
		ConWidth_4/2+ConWallThickness_4,360,4001
	del 4
endif

if gs_detlevel_3D_m = 2 then
	material mat1
	rotx 90
	addx -5*a/6
	addz -0.025
	addy 0.05
	RESOL gs_resol
	cylind 0.025,0.025
	addx a/6
	cylind 0.025,0.025
	del 5
endif

roty -90

PRISM_              7,     a,
			0.0,     0.05,     15,
			0.1,     0.05,     15,
			0.1,     0.0,     15,
			zzyzx,     0.0,     15,
			zzyzx,     b,     15,
			0.0,     b,     15,
			0.0,     0.05,     -1

del 1
addx -a
addy 0.025
material mat2
PRISM_              7,     0.1,
			a/2,    -0.025,     15,
			a,    -0.025,     15,
			a,     0.025,     15,
			0.0,     0.025,     15,
			0.0,     0.0,     15,
			a/2,    -0.0,     15,
			a/2,    -0.025,     -1

del top
