

UI_CURRENT_PAGE gs_ui_current_page

IF isMEPEnabled THEN
    
ENDIF

IF isMEPEnabled THEN
	DIM ui_matpar_names[3][2]
		ui_matpar_names[1][1] = `Отделка`
		ui_matpar_names[2][1] = `Панель Управления`
		ui_matpar_names[3][1] = `Соединение`

		ui_matpar_names[1][2] = "mat1"
		ui_matpar_names[2][2] = "mat2"
		ui_matpar_names[3][2] = "gs_con_mat"

	DIM ui_matpar_locked[3]
		ui_matpar_locked[1] = 0
		ui_matpar_locked[2] = 0
		ui_matpar_locked[3] = (NOT(ConStatus_1) AND NOT(ConStatus_2) AND NOT(ConStatus_3) AND NOT(ConStatus_4))

	DIM ui_con_type[4]
		ui_con_type[1] = 0
		ui_con_type[2] = 0
		ui_con_type[3] = 0
		ui_con_type[4] = 0
ELSE	
	DIM ui_matpar_names[3][2]
		ui_matpar_names[1][1] = `Отделка`
		ui_matpar_names[2][1] = `Панель Управления`
		ui_matpar_names[3][1] = `Соединение`

		ui_matpar_names[1][2] = "mat1"
		ui_matpar_names[2][2] = "mat2"
		ui_matpar_names[3][2] = "gs_con_mat"
ENDIF

iPageIDRoot 	    	=-1
iPageIDRepAndSurface	= 1
iPageIDConnections	    = 2

pageStartY = 5

! ==============================================================================
!UI_PAGES
! ==============================================================================

UI_PAGE iPageIDRepAndSurface, iPageIDRoot, `Отображение и Покрытия`, "uiTab_2DRepr_flat(1)"
	gosub "repAndSurfacePage"

IF isMEPEnabled THEN
	UI_PAGE iPageIDConnections, iPageIDRoot, `Соединения`, "uiTab_Connections_flat(1)"
		gosub "connectionsPage"
ENDIF

! ==============================================================================
END
! ==============================================================================


! ==============================================================================
!Subroutines
! ==============================================================================

! ------------------------------------------------------------------------------
"repAndSurfacePage":
! ------------------------------------------------------------------------------

	IF isMEPEnabled THEN	
		CALL "ui_visualizationtab" PARAMETERS ALL 	bEnableCenterlinePars = 0,
													bEnable3dDetail = 1,
													bEnableUseSystemMat = 0,
													bEnableDashedLineType = sp,
													ui_matpar_names = ui_matpar_names,
													ui_matpar_locked = ui_matpar_locked,
													ui_3dviewpar_rowspace = 2
	ELSE
!		UI_STYLE 2,1
!		UI_OUTFIELD `Appearance`, 121, pageStartY + 7, 200, pageStartY + 14, 2

		CALL "ui_visualizationtab" PARAMETERS ALL 	bEnableCenterlinePars = 0,
													bEnable3dDetail = 1,
													bEnableUseSystemMat = 0,
													bEnableDashedLineType = sp,
													ui_matpar_names = ui_matpar_names,
													ui_3dviewpar_rowspace = 2
	ENDIF

RETURN

! ------------------------------------------------------------------------------
"connectionsPage":
! ------------------------------------------------------------------------------


	CALL "MEP_m_ConnectionsACL_4" PARAMETERS ALL ui_con_type = ui_con_type,
												ui_system_var_pos = 2



RETURN
