!-----------3d---------------------
if show_el < EPS and GLOB_VIEW_TYPE<>2 then end
if GLOB_VIEW_TYPE=2 then gs_detlevel_3D_m = gs_detlevel_2D_m
IF gs_detlevel_3D_m < EPS THEN END
if GLOB_PREVIEW_MODE = 0 and GLOB_FEEDBACK_MODE = 0 then CALL "MEP_m_RequestSystemGlobals" PARAMETERS ALL one_ConID=0 returned_parameters gs_cont_pen, sMat, gs_InsMat, MEP_cline_pen, show_el
MATERIAL sMat
PEN gs_cont_pen
RESOL res
SHADOW OFF


IF GLOB_CONTEXT > 40 AND GLOB_CONTEXT < 50 THEN gs_detlevel_3D_m = 1

! --- start of modifying to Shaft

IF bShowMEP THEN

					! --- CONNECTIONS --- !

	IF useSysMat THEN
		bomat	= sMat
		fmat	= sMat
		lamat	= sMat
	ENDIF

	PEN gs_cont_pen
	IF gs_detlevel_3D_m = 1 THEN RESOL 8
	IF gs_detlevel_3D_m = 2 THEN RESOL 24

	CALL "MEP_m_ConnectionsACL_4" PARAMETERS SetProgram = SetProgram,
		ui_current_con = ui_current_con,
		MEP_NumberConnections = MEP_NumberConnections,
		MEP_NumConnectionData = gs_Connections,
		gs_AddConnections = gs_AddConnections,
		cShow3D = 1,
		gs_ConMat = bomat,
		MEP_InsShow = 0,
		MEP_cline_show_3D = 0,
		gs_cont_pen = gs_cont_pen,
		ConPosX_1=ConPosX_1, ConPosY_1=ConPosY_1, ConPosZ_1=ConPosZ_1, ConLength_1=ConLength_1, ConEdit_1 = 17,
		ConPosX_2=ConPosX_2, ConPosY_2=ConPosY_2, ConPosZ_2=ConPosZ_2, ConLength_2=ConLength_2, ConEdit_2 = 17, MEP_StrConnectionData = MEP_StrConnectionData

ENDIF

! --- end of modifying to Shaft


if gs_detlevel_3D=`Простой` then gs_resol=12

pen gs_cont_pen

hotspot 0,0,0
hotspot 0,b,zzyzx
hotspot 0,0,zzyzx
hotspot 0,b,0
hotspot a,0,zzyzx
hotspot a,b,0
hotspot a,0,0
hotspot a,b,zzyzx

A1=A*4/5            ! Length of the blades
B1=B*1/10           ! Width of the blades
R=Min(A1,zzyzx)*0.4 ! Radius of the central circle
N=int(zzyzx/0.03)-1 ! Number of the blades
dh=zzyzx/(N+1)      ! Distance between the blades

	! ======================================================================
	! Wire Basket Texture
	! ======================================================================

	DIM	tmp_C4D_ChCol_Color[3]
		tmp_C4D_ChCol_Color[1] = 0.642266824085
		tmp_C4D_ChCol_Color[2] = 0.6509023444088
		tmp_C4D_ChCol_Color[3] = 0.6530612244898
	DIM	tmp_C4D_GKRGB_Color_4[3]
		tmp_C4D_GKRGB_Color_4[1] =            1
		tmp_C4D_GKRGB_Color_4[2] =            1
		tmp_C4D_GKRGB_Color_4[3] =            1
	DIM	tmp_C4D_GKRGB_Color_5[3]
		tmp_C4D_GKRGB_Color_5[1] = 0.765306122449
		tmp_C4D_GKRGB_Color_5[2] = 0.765306122449
		tmp_C4D_GKRGB_Color_5[3] = 0.765306122449
	DIM	tmp_C4D_ShNoise_Color1_6[3]
		tmp_C4D_ShNoise_Color1_6[1] = 0.6428571428571
		tmp_C4D_ShNoise_Color1_6[2] = 0.6428571428571
		tmp_C4D_ShNoise_Color1_6[3] = 0.6428571428571
	DIM	tmp_C4D_ShNoise_Color2_6[3]
		tmp_C4D_ShNoise_Color2_6[1] =            1
		tmp_C4D_ShNoise_Color2_6[2] =            1
		tmp_C4D_ShNoise_Color2_6[3] =            1
	DIM	tmp_C4D_ShNoise_RelativeScale_6[3]
		tmp_C4D_ShNoise_RelativeScale_6[1] =            1
		tmp_C4D_ShNoise_RelativeScale_6[2] =            1
		tmp_C4D_ShNoise_RelativeScale_6[3] =            1
	DIM	tmp_C4D_ChLum_Color[3]
		tmp_C4D_ChLum_Color[1] =            1
		tmp_C4D_ChLum_Color[2] =            1
		tmp_C4D_ChLum_Color[3] =            1
	DIM	tmp_C4D_ChTra_Color[3]
		tmp_C4D_ChTra_Color[1] =            1
		tmp_C4D_ChTra_Color[2] =            1
		tmp_C4D_ChTra_Color[3] =            1
	DIM	tmp_C4D_ChTra_AbsorptionColor[3]
		tmp_C4D_ChTra_AbsorptionColor[1] =            1
		tmp_C4D_ChTra_AbsorptionColor[2] =            1
		tmp_C4D_ChTra_AbsorptionColor[3] =            1
	DIM	tmp_C4D_ChRef_Color[3]
		tmp_C4D_ChRef_Color[1] =            1
		tmp_C4D_ChRef_Color[2] =            1
		tmp_C4D_ChRef_Color[3] =            1
	DIM	tmp_C4D_GKRGB_Color_9[3]
		tmp_C4D_GKRGB_Color_9[1] =            1
		tmp_C4D_GKRGB_Color_9[2] =            1
		tmp_C4D_GKRGB_Color_9[3] =            1
	DIM	tmp_C4D_GKRGB_Color_10[3]
		tmp_C4D_GKRGB_Color_10[1] =            0
		tmp_C4D_GKRGB_Color_10[2] =            0
		tmp_C4D_GKRGB_Color_10[3] =            0
	DIM	tmp_C4D_ChEnv_Color[3]
		tmp_C4D_ChEnv_Color[1] =            1
		tmp_C4D_ChEnv_Color[2] =            1
		tmp_C4D_ChEnv_Color[3] =            1
	DIM	tmp_C4D_ChFog_Color[3]
		tmp_C4D_ChFog_Color[1] =            1
		tmp_C4D_ChFog_Color[2] =            1
		tmp_C4D_ChFog_Color[3] =            1
	DIM	tmp_C4D_ShNoise_Color1_12[3]
		tmp_C4D_ShNoise_Color1_12[1] =         0.98
		tmp_C4D_ShNoise_Color1_12[2] =         0.98
		tmp_C4D_ShNoise_Color1_12[3] =         0.98
	DIM	tmp_C4D_ShNoise_Color2_12[3]
		tmp_C4D_ShNoise_Color2_12[1] =            1
		tmp_C4D_ShNoise_Color2_12[2] =            1
		tmp_C4D_ShNoise_Color2_12[3] =            1
	DIM	tmp_C4D_ShNoise_RelativeScale_12[3]
		tmp_C4D_ShNoise_RelativeScale_12[1] =            1
		tmp_C4D_ShNoise_RelativeScale_12[2] =            1
		tmp_C4D_ShNoise_RelativeScale_12[3] =            1
	DIM	tmp_C4D_ShNoise_Color1_13[3]
		tmp_C4D_ShNoise_Color1_13[1] =            0
		tmp_C4D_ShNoise_Color1_13[2] =            0
		tmp_C4D_ShNoise_Color1_13[3] =            0
	DIM	tmp_C4D_ShNoise_Color2_13[3]
		tmp_C4D_ShNoise_Color2_13[1] =            1
		tmp_C4D_ShNoise_Color2_13[2] =            1
		tmp_C4D_ShNoise_Color2_13[3] =            1
	DIM	tmp_C4D_ShNoise_RelativeScale_13[3]
		tmp_C4D_ShNoise_RelativeScale_13[1] =            1
		tmp_C4D_ShNoise_RelativeScale_13[2] =            1
		tmp_C4D_ShNoise_RelativeScale_13[3] =            1
	DIM	tmp_C4D_ChAlp_Color[3]
		tmp_C4D_ChAlp_Color[1] =            1
		tmp_C4D_ChAlp_Color[2] =            1
		tmp_C4D_ChAlp_Color[3] =            1
	DIM	tmp_C4D_ChAlp_Delta[3]
		tmp_C4D_ChAlp_Delta[1] = 0.1000000014901
		tmp_C4D_ChAlp_Delta[2] = 0.1000000014901
		tmp_C4D_ChAlp_Delta[3] = 0.1000000014901
	DIM	tmp_C4D_ChSpe_Color[3]
		tmp_C4D_ChSpe_Color[1] =            1
		tmp_C4D_ChSpe_Color[2] =            1
		tmp_C4D_ChSpe_Color[3] =            1
	DIM	tmp_C4D_ChGlo_Color[3]
		tmp_C4D_ChGlo_Color[1] =            1
		tmp_C4D_ChGlo_Color[2] =            1
		tmp_C4D_ChGlo_Color[3] =            1
	DIM	tmp_C4D_GKRGB_Color_15[3]
		tmp_C4D_GKRGB_Color_15[1] =            0
		tmp_C4D_GKRGB_Color_15[2] =            0
		tmp_C4D_GKRGB_Color_15[3] =            0
	DIM	tmp_C4D_GKRGB_Color_16[3]
		tmp_C4D_GKRGB_Color_16[1] =            1
		tmp_C4D_GKRGB_Color_16[2] =            1
		tmp_C4D_GKRGB_Color_16[3] =            1
	define material	"builtInMatWireBasket" 0,
	  0.642252,   0.650889,   0.653056,
	 0.65,  0.65,   0.9,     0,     11,     0,
	         1,          1,          1,
	         0,          0,          0,     0,
	ADDITIONAL_DATA		C4D_VER_MAIN= 1,
	C4D_VER_SUB =            0,
	C4D_ChCol_State =            1,
	C4D_ChCol_Color = tmp_C4D_ChCol_Color,
	C4D_ChCol_Brightness =          0.5,
	C4D_ChCol_Texture = "1",
	C4D_ShLayer_BlendMode_1 = "Normal",
	C4D_ShLayer_BlendStre_1 =            1,
	C4D_ShLayer_BlurOffset_1 =            0,
	C4D_ShLayer_BlurScale_1 =            0,
	C4D_ShLayer_Shaders_1 = "2,6",
	C4D_ShFresnel_BlendMode_2 = "Multiply",
	C4D_ShFresnel_BlendStre_2 =            1,
	C4D_ShFresnel_BlurOffset_2 =            0,
	C4D_ShFresnel_BlurScale_2 =            0,
	C4D_ShFresnel_UseBump_2 =            1,
	C4D_ShFresnel_Render_2 = "FrontAndBack",
	C4D_ShFresnel_Gradient_2 = "3",
	C4D_GradientRGB_Interpol_3 = "SmoothKnot",
	C4D_GradientRGB_Knots_3 = "4,5",
	C4D_GKRGB_Color_4 = tmp_C4D_GKRGB_Color_4,
	C4D_GKRGB_Intensity_4 =            1,
	C4D_GKRGB_Position_4 =            1,
	C4D_GKRGB_Bias_4 =          0.5,
	C4D_GKRGB_Color_5 = tmp_C4D_GKRGB_Color_5,
	C4D_GKRGB_Intensity_5 =            1,
	C4D_GKRGB_Position_5 =       0.0022,
	C4D_GKRGB_Bias_5 =          0.5,
	C4D_ShFresnel_Physical_2 =            0,
	C4D_ShFresnel_IOR_2 =      1.33283,
	C4D_ShFresnel_Preset_2 = "Water",
	C4D_ShFresnel_Invert_2 =            0,
	C4D_ShNoise_BlendMode_6 = "Normal",
	C4D_ShNoise_BlendStre_6 =            1,
	C4D_ShNoise_BlurOffset_6 =            0,
	C4D_ShNoise_BlurScale_6 =            0,
	C4D_ShNoise_Color1_6 = tmp_C4D_ShNoise_Color1_6,
	C4D_ShNoise_Color2_6 = tmp_C4D_ShNoise_Color2_6,
	C4D_ShNoise_Seed_6 =          610,
	C4D_ShNoise_Noise_6 = "Turbulence",
	C4D_ShNoise_Octaves_6 =            5,
	C4D_ShNoise_Space_6 = "Texture",
	C4D_ShNoise_GlobalScale_6 = 0.002000000094995,
	C4D_ShNoise_RelativeScale_6 = tmp_C4D_ShNoise_RelativeScale_6,
	C4D_ShNoise_Absolute_6 =            0,
	C4D_ShNoise_Cycles_6 =            0,
	C4D_ShNoise_LowClip_6 =            0,
	C4D_ShNoise_HighClip_6 =            1,
	C4D_ShNoise_Brightness_6 =            0,
	C4D_ShNoise_Contrast_6 =            0,
	C4D_ChCol_MixMode = "Multiply",
	C4D_ChCol_MixStrength =            1,
	C4D_ChDif_State =            0,
	C4D_ChDif_Brightness =            1,
	C4D_ChDif_Luminance =            0,
	C4D_ChDif_Specular =            1,
	C4D_ChDif_Reflection =            0,
	C4D_ChDif_MixMode = "Normal",
	C4D_ChDif_MixStrength =            1,
	C4D_ChLum_State =            0,
	C4D_ChLum_Color = tmp_C4D_ChLum_Color,
	C4D_ChLum_Brightness =            1,
	C4D_ChLum_MixMode = "Normal",
	C4D_ChLum_MixStrength =            1,
	C4D_ChTra_State =            0,
	C4D_ChTra_Color = tmp_C4D_ChTra_Color,
	C4D_ChTra_Brightness =            1,
	C4D_ChTra_Refraction =            1,
	C4D_ChTra_InternalReflections =            0,
	C4D_ChTra_ExitReflection =            1,
	C4D_ChTra_FresnelReflectivity =            1,
	C4D_ChTra_Additive =            0,
	C4D_ChTra_MixMode = "Normal",
	C4D_ChTra_MixStrength =            1,
	C4D_ChTra_AbsorptionColor = tmp_C4D_ChTra_AbsorptionColor,
	C4D_ChTra_AbsorptionDistance =          100,
	C4D_ChTra_Blurriness =            0,
	C4D_ChTra_MinSamples =            5,
	C4D_ChTra_MaxSamples =          128,
	C4D_ChTra_Accuracy =          0.5,
	C4D_ChRef_State =            1,
	C4D_ChRef_Color = tmp_C4D_ChRef_Color,
	C4D_ChRef_Brightness =            1,
	C4D_ChRef_Additive =            1,
	C4D_ChRef_Texture = "7",
	C4D_ShFresnel_BlendMode_7 = "Normal",
	C4D_ShFresnel_BlendStre_7 =            1,
	C4D_ShFresnel_BlurOffset_7 =            0,
	C4D_ShFresnel_BlurScale_7 =            0,
	C4D_ShFresnel_UseBump_7 =            1,
	C4D_ShFresnel_Render_7 = "FrontAndBack",
	C4D_ShFresnel_Gradient_7 = "8",
	C4D_GradientRGB_Interpol_8 = "SmoothKnot",
	C4D_GradientRGB_Knots_8 = "9,10",
	C4D_GKRGB_Color_9 = tmp_C4D_GKRGB_Color_9,
	C4D_GKRGB_Intensity_9 =            1,
	C4D_GKRGB_Position_9 =            0,
	C4D_GKRGB_Bias_9 =          0.5,
	C4D_GKRGB_Color_10 = tmp_C4D_GKRGB_Color_10,
	C4D_GKRGB_Intensity_10 =            1,
	C4D_GKRGB_Position_10 =            1,
	C4D_GKRGB_Bias_10 =          0.5,
	C4D_ShFresnel_Physical_7 =            1,
	C4D_ShFresnel_IOR_7 =          2.5,
	C4D_ShFresnel_Preset_7 = "Custom",
	C4D_ShFresnel_Invert_7 =            0,
	C4D_ChRef_MixMode = "Multiply",
	C4D_ChRef_MixStrength =            1,
	C4D_ChRef_Blurriness =          0.2,
	C4D_ChRef_MinSamples =            5,
	C4D_ChRef_MaxSamples =          128,
	C4D_ChRef_Accuracy =          0.5,
	C4D_ChEnv_State =            0,
	C4D_ChEnv_Color = tmp_C4D_ChEnv_Color,
	C4D_ChEnv_Brightness =            1,
	C4D_ChEnv_MixMode = "Multiply",
	C4D_ChEnv_MixStrength =            1,
	C4D_ChEnv_TilesX =            1,
	C4D_ChEnv_TilesY =            1,
	C4D_ChEnv_Exclusive =            1,
	C4D_ChFog_State =            0,
	C4D_ChFog_Color = tmp_C4D_ChFog_Color,
	C4D_ChFog_Brightness =            1,
	C4D_ChFog_Distance =           10,
	C4D_ChBum_State =            1,
	C4D_ChBum_Strength =         0.02,
	C4D_ChBum_MipFalloff =            1,
	C4D_ChBum_Texture = "11",
	C4D_ShLayer_BlendMode_11 = "Normal",
	C4D_ShLayer_BlendStre_11 =            1,
	C4D_ShLayer_BlurOffset_11 =            0,
	C4D_ShLayer_BlurScale_11 =            0,
	C4D_ShLayer_Shaders_11 = "12,13",
	C4D_ShNoise_BlendMode_12 = "Multiply",
	C4D_ShNoise_BlendStre_12 =            1,
	C4D_ShNoise_BlurOffset_12 =            0,
	C4D_ShNoise_BlurScale_12 =            0,
	C4D_ShNoise_Color1_12 = tmp_C4D_ShNoise_Color1_12,
	C4D_ShNoise_Color2_12 = tmp_C4D_ShNoise_Color2_12,
	C4D_ShNoise_Seed_12 =          665,
	C4D_ShNoise_Noise_12 = "Noise",
	C4D_ShNoise_Octaves_12 =            5,
	C4D_ShNoise_Space_12 = "UV",
	C4D_ShNoise_GlobalScale_12 =         0.01,
	C4D_ShNoise_RelativeScale_12 = tmp_C4D_ShNoise_RelativeScale_12,
	C4D_ShNoise_Absolute_12 =            0,
	C4D_ShNoise_Cycles_12 =            0,
	C4D_ShNoise_LowClip_12 =            0,
	C4D_ShNoise_HighClip_12 =            1,
	C4D_ShNoise_Brightness_12 =            0,
	C4D_ShNoise_Contrast_12 =            0,
	C4D_ShNoise_BlendMode_13 = "Normal",
	C4D_ShNoise_BlendStre_13 =            1,
	C4D_ShNoise_BlurOffset_13 =            0,
	C4D_ShNoise_BlurScale_13 =            0,
	C4D_ShNoise_Color1_13 = tmp_C4D_ShNoise_Color1_13,
	C4D_ShNoise_Color2_13 = tmp_C4D_ShNoise_Color2_13,
	C4D_ShNoise_Seed_13 =          665,
	C4D_ShNoise_Noise_13 = "Turbulence",
	C4D_ShNoise_Octaves_13 =            5,
	C4D_ShNoise_Space_13 = "UV",
	C4D_ShNoise_GlobalScale_13 =            8,
	C4D_ShNoise_RelativeScale_13 = tmp_C4D_ShNoise_RelativeScale_13,
	C4D_ShNoise_Absolute_13 =            0,
	C4D_ShNoise_Cycles_13 =            0,
	C4D_ShNoise_LowClip_13 =            0,
	C4D_ShNoise_HighClip_13 =            1,
	C4D_ShNoise_Brightness_13 =            0,
	C4D_ShNoise_Contrast_13 = 0.3199999332428,
	C4D_ChNor_State =            0,
	C4D_ChNor_Strength =            1,
	C4D_ChNor_Method = "Tangent",
	C4D_ChNor_FlipX =            0,
	C4D_ChNor_FlipY =            0,
	C4D_ChNor_FlipZ =            0,
	C4D_ChNor_SwapYZ =            0,
	C4D_ChAlp_State =            0,
	C4D_ChAlp_Color = tmp_C4D_ChAlp_Color,
	C4D_ChAlp_Delta = tmp_C4D_ChAlp_Delta,
	C4D_ChAlp_Invert =            0,
	C4D_ChAlp_Soft =            1,
	C4D_ChAlp_ImageAlpha =            1,
	C4D_ChAlp_PreMultiplied =            0,
	C4D_ChSpe_State =            1,
	C4D_ChSpe_Color = tmp_C4D_ChSpe_Color,
	C4D_ChSpe_Brightness =            1,
	C4D_ChSpe_MixMode = "Normal",
	C4D_ChSpe_MixStrength =            1,
	C4D_ChSpe_Mode = "Colored",
	C4D_ChSpe_Width =          0.7,
	C4D_ChSpe_Height =            2,
	C4D_ChSpe_Falloff =            0,
	C4D_ChSpe_InnerWidth =            0,
	C4D_ChGlo_State =            0,
	C4D_ChGlo_Color = tmp_C4D_ChGlo_Color,
	C4D_ChGlo_Brightness =            1,
	C4D_ChGlo_InnerStrength =            1,
	C4D_ChGlo_OuterStrength =            5,
	C4D_ChGlo_Radius =           10,
	C4D_ChGlo_Random =            0,
	C4D_ChGlo_Frequency =            1,
	C4D_ChGlo_UseMatColor =            1,
	C4D_ChDis_State =            0,
	C4D_ChDis_Strength =            1,
	C4D_ChDis_Height =            5,
	C4D_ChDis_Type = "IntensityCentered",
	C4D_ChDis_SubDivision =            0,
	C4D_ChDis_Level =            4,
	C4D_ChDis_RoundGeometry =            0,
	C4D_ChDis_RoundContour =            1,
	C4D_ChDis_MapRounded =            1,
	C4D_ChDis_MapResult =            0,
	C4D_ChDis_KeepEdges =            1,
	C4D_ChDis_BestDistribution =            1,
	C4D_ChGra_State =            0,
	C4D_ChGra_Color = "14",
	C4D_GradientRGB_Interpol_14 = "SmoothKnot",
	C4D_GradientRGB_Knots_14 = "15,16",
	C4D_GKRGB_Color_15 = tmp_C4D_GKRGB_Color_15,
	C4D_GKRGB_Intensity_15 =            1,
	C4D_GKRGB_Position_15 =            0,
	C4D_GKRGB_Bias_15 =          0.5,
	C4D_GKRGB_Color_16 = tmp_C4D_GKRGB_Color_16,
	C4D_GKRGB_Intensity_16 =            1,
	C4D_GKRGB_Position_16 =            1,
	C4D_GKRGB_Bias_16 =          0.5,
	C4D_ChGra_MixStrength =          0.5,
	C4D_ChGra_Density =            1,
	C4D_ChGra_Length =          0.1,
	C4D_ChGra_Width =        0.005,
	C4D_ChGra_Crinkle =          0.1,
	C4D_ChGra_Bend =          0.6,
	C4D_ChGra_Wetness =         0.05,
	C4D_ChIll_GenerateGI =            1,
	C4D_ChIll_GenGIStrength =            1,
	C4D_ChIll_GenGISaturat =            1,
	C4D_ChIll_ReceiveGI =            1,
	C4D_ChIll_RecGIStrength =            1,
	C4D_ChIll_RecGISaturat =            1,
	C4D_ChIll_GIPortal =            0,
	C4D_ChIll_GILight =            0,
	C4D_ChIll_GenerateCaustics =            1,
	C4D_ChIll_GenCausticsStrength =            1,
	C4D_ChIll_ReceiveCaustics =            1,
	C4D_ChIll_RecCausticsStrength =            1,
	C4D_ChIll_Radius =          0.1,
	C4D_ChIll_CausticsSamples =          100,
	C4D_ChIll_Model = "Blinn",
	C4D_ChIll_DiffuseFalloff =            0,
	C4D_ChIll_DiffuseLevel =            1,
	C4D_ChIll_Roughness =          0.5

RESOL gs_resol
MATERIAL bomat
IF gs_detlevel_3D_m=2 THEN
	addy B1
	rotx -90
	! Box

	extrude 5,0,0,B-B1,2+4+16+32,
		0,0,0,
		A,0,0,
		A,-zzyzx,0,
		0,-zzyzx,0,
		0,0,-1

	! Hole

	prism_ 7,0,
		0,0,15,
		A1,0,15,
		A1,-zzyzx,15,
		0,-zzyzx,15,
		0,0,-1,
		A1/2,-zzyzx/2,915,
		R,360,4015

	material "builtInMatWireBasket"
	addz -B/100
	extrude 2,0,0,B-B1,2+4,
		A1/2,-zzyzx/2,901,
		R,360,4001
	del 1
	del 2

	! Block on the right side

	MATERIAL fmat
	rotx -90
	EXTRUDE 10,0,0,B1,1+4+16+32,
	0,0,0,
	A,0,0,
	A,-zzyzx,0,
	0,-zzyzx,0,
	0,0,-1,
	A/100,-zzyzx/100,0,
	A1,-zzyzx/100,0,
	A1,-zzyzx*99/100,0,
	A/100,-zzyzx*99/100,0,
	A/100,-zzyzx/100,-1
	del 1

	! Blades

	MATERIAL lamat
	for i=1 to N
		addz dh
		block A1,B1,0
		next i
	del N
ELSE
	addy B1
	rotx -90
	! Box

	extrude 5,0,0,B-B1,1+2+4+16+32,
		0,0,0,
		A,0,0,
		A,-zzyzx,0,
		0,-zzyzx,0,
		0,0,-1

	del 2

	! Block on the right side

	MATERIAL fmat
	rotx -90
	EXTRUDE 5,0,0,B1,1+2+4+16+32,
	0,0,0,
	A,0,0,
	A,-zzyzx,0,
	0,-zzyzx,0,
	0,0,-1
	del 1
ENDIF
