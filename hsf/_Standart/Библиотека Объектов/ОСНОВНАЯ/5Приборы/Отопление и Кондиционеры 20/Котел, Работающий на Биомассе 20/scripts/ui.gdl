
UI_CURRENT_PAGE gs_ui_current_page

IF isMEPEnabled THEN
    
ENDIF

IF isMEPEnabled THEN
	DIM ui_matpar_names[4][2]
		ui_matpar_names[1][1] = `Котел`
		ui_matpar_names[2][1] = `Дверца`
		ui_matpar_names[3][1] = `Ручка`
		ui_matpar_names[4][1] = `Соединение`

		ui_matpar_names[1][2] = "matBoiler"
		ui_matpar_names[2][2] = "matDoor"
		ui_matpar_names[3][2] = "matHandle"
		ui_matpar_names[4][2] = "gs_con_mat"

	DIM ui_matpar_locked[4]
		ui_matpar_locked[1] = 0
		ui_matpar_locked[2] = 0
		ui_matpar_locked[3] = 0
		ui_matpar_locked[4] = (NOT(ConStatus_1) AND NOT(ConStatus_2) AND NOT(ConStatus_3))
ELSE
	DIM ui_matpar_names[3][2]
		ui_matpar_names[1][1] = `Котел`
		ui_matpar_names[2][1] = `Дверца`
		ui_matpar_names[3][1] = `Ручка`

		ui_matpar_names[1][2] = "matBoiler"
		ui_matpar_names[2][2] = "matDoor"
		ui_matpar_names[3][2] = "matHandle"
ENDIF

iPageIDRoot 		    =-1
iPageIDRepAndSurface	= 1
iPageIDConnections	    = 2

pageStartY = 5

! ==============================================================================
!UI_PAGES
! ==============================================================================

UI_PAGE iPageIDRepAndSurface, iPageIDRoot, `Отображение и Покрытия`, "uiTab_2DRepr_flat(1)"
	gosub "repAndSurfacePage"

IF isMEPEnabled THEN
	UI_PAGE iPageIDConnections, iPageIDRoot, `Соединения`, "uiTab_Connections_flat(1)"
		gosub "connectionsPage"
ENDIF

! ==============================================================================
END
! ==============================================================================


! ==============================================================================
!Subroutines
! ==============================================================================

! ------------------------------------------------------------------------------
"repAndSurfacePage":
! ------------------------------------------------------------------------------

!	IF not(isMEPEnabled) THEN
!		UI_STYLE 2,1
!		UI_OUTFIELD `Appearance`, 121, pageStartY + 7, 200, pageStartY + 14, 2
!	ENDIF


	CALL "ui_visualizationtab" PARAMETERS ALL 	bEnableCenterlinePars = 0,
												bEnable3dDetail = 1,
												bEnableUseSystemMat = 0,
												ui_matpar_names = ui_matpar_names,
												ui_3dviewpar_rowspace = 2,
												bResol = 0,
												bEnableShadow = 0
RETURN

! ------------------------------------------------------------------------------
"connectionsPage":
! ------------------------------------------------------------------------------

	DIM ui_con_type[2]
		ui_con_type[1] = 0
		ui_con_type[2] = 0

	CALL "MEP_m_ConnectionsACL_4" PARAMETERS ALL ui_con_type = ui_con_type,
												ui_system_var_pos = 2
RETURN
