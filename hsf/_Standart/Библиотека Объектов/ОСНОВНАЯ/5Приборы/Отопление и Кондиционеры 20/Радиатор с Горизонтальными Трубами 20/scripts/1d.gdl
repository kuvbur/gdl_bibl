
! --- start of modifying to Shaft

	EPS = 0.00001

! --- end of modifying to Shaft

RADIATORTYPE_BARS   = 1
RADIATORTYPE_FLAT   = 2
RADIATORTYPE_CURVED = 3

dim stRadiatorTypes[3]
	stRadiatorTypes[1] = `Круглые Трубы`
	stRadiatorTypes[2] = `Плоские Панели`
	stRadiatorTypes[3] = `Змеевик`
	
connectLength = 0.06
	
if iRadiatorType = RADIATORTYPE_BARS then
	panelThk = 0
	panelOverhang = 0
	b = connectLength + bd
endif

if iRadiatorType = RADIATORTYPE_FLAT then
	bd = 0.03
	panelThk = 0.005
	panelOverhang = 0.02
	nGaps = bGaps * INT((nb - 1) / 4)
	b = connectLength + bd
endif

if iRadiatorType = RADIATORTYPE_CURVED then
	panelThk = bd
	panelOverhang = 0.05
	connectLength = max(0, 0.06 - bd)
	b = connectLength + 2 * bd
	aa = (ZZYZX - nb * bd) / nb
	barDistance = aa + bd
endif

parameters b = b

! Show MEP Connections -------------------------------------------------------------[

isavailable = 0
isInArchiCAD = APPLICATION_QUERY ("MEPMODELER", "IsAvailable()", isavailable)
isMEPEnabled = (isavailable OR isInArchiCAD = 0)
if isMEPEnabled then
	bShowMEP = 1
	reqBMep = 0
	success = LIBRARYGLOBAL ("LibraryGlobals13", "showMepConnect", reqBMep)
	if success > 0 then
		bShowMEP = reqBMep
	endif
else
	bShowMEP = 0
endif

! Show MEP Connections -------------------------------------------------------------]
