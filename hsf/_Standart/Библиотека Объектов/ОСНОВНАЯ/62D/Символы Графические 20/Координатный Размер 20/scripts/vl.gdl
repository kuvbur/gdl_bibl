
!=============================================================================
! String resources
!=============================================================================

dim strLatitudeRef_strings[2]
	strLatitudeRef_strings[1] = `Север`
	strLatitudeRef_strings[2] = `Юг`

dim strLongitudeRef_strings[2]
	strLongitudeRef_strings[1] = `Восток`
	strLongitudeRef_strings[2] = `Запад`

values "strCoorSystem" 		strCoorSystem_strings

if iCoorSystem = WORLD_COOR_CUST then
	values "strHeightRef" 	strHeightRef_strings[1]
else
	values "strHeightRef" 	strHeightRef_strings
endif

values "strLatitudeRef" 	strLatitudeRef_strings
values "strLongitudeRef" 	strLongitudeRef_strings
values "strApplyFontTo" 	strApplyFontTo_strings


dim strMarkerStyle3D_strings[3]
	strMarkerStyle3D_strings[1] = `Конус`
	strMarkerStyle3D_strings[2] = `Пирамида`
	strMarkerStyle3D_strings[3] = `Булавка`

values "strMarkerStyle3D" 	strMarkerStyle3D_strings

values "typeTextRotation" stTypeTextRotation
values "iTypeTextRotation" 1, 2, 3
if GLOB_MODPAR_NAME = "typeTextRotation" then
	for i = 1 to vardim1(stTypeTextRotation)
	   if typeTextRotation = stTypeTextRotation[i]	then iTypeTextRotation = i
	next i
	parameters iTypeTextRotation = iTypeTextRotation
else
	typeTextRotation = stTypeTextRotation[max(min(iTypeTextRotation,vardim1(stTypeTextRotation)),1)]
	parameters typeTextRotation = typeTextRotation
endif



! --- Integer values ---------------------------------------------------------

values{2} "iMarkerStyle2D"	CROSS,				strMarkerStyle_strings[1],
							CROSS_WITH_CIRCLE,	strMarkerStyle_strings[2],
							CROSS_IN_CIRCLE,	strMarkerStyle_strings[3],
							TRIANGLE_EMPTY,		strMarkerStyle_strings[4],
							TRIANGLE_FILLED,	strMarkerStyle_strings[5]

values "iCoorSystem" 	1,2,3
values "iHeightRef" 	1,2,3,4
values "iLatitudeRef" 	1,2
values "iLongitudeRef" 	1,2
values "iApplyFontTo" 	1,2,3,4

values "iMarkerStyle3D" 1,2,3

if GLOB_MODPAR_NAME = "strCoorSystem" then
	iCoorSystem = PROJECT_COOR
	if strCoorSystem = strCoorSystem_strings[2] then iCoorSystem = WORLD_COOR_PROJ
	if strCoorSystem = strCoorSystem_strings[3] then iCoorSystem = WORLD_COOR_CUST
	parameters iCoorSystem = iCoorSystem
else
	strCoorSystem = strCoorSystem_strings[1]
	if iCoorSystem = WORLD_COOR_PROJ then strCoorSystem = strCoorSystem_strings[2]
	if iCoorSystem = WORLD_COOR_CUST then strCoorSystem = strCoorSystem_strings[3]
	parameters strCoorSystem = strCoorSystem
endif

if GLOB_MODPAR_NAME = "strHeightRef" then
	iHeightRef = PROJECT_ZERO
	if strHeightRef = strHeightRef_strings[2] then iHeightRef = FIRST_REF
	if strHeightRef = strHeightRef_strings[3] then iHeightRef = SECOND_REF
	if strHeightRef = strHeightRef_strings[4] then iHeightRef = ALTITUDE_REF
	parameters iHeightRef = iHeightRef
else
	strHeightRef = strHeightRef_strings[1]
	if iHeightRef = FIRST_REF 	  then strHeightRef = strHeightRef_strings[2]
	if iHeightRef = SECOND_REF    then strHeightRef = strHeightRef_strings[3]
	if iHeightRef = ALTITUDE_REF  then strHeightRef = strHeightRef_strings[4]
	parameters strHeightRef = strHeightRef
endif

if GLOB_MODPAR_NAME = "strLatitudeRef" then
	iLatitudeRef = LAT_NORTH
	if strLatitudeRef = strLatitudeRef_strings[2] then iLatitudeRef = LAT_SOUTH
	parameters iLatitudeRef = iLatitudeRef
else
	strLatitudeRef = strLatitudeRef_strings[1]
	if iLatitudeRef = LAT_SOUTH then strLatitudeRef = strLatitudeRef_strings[2]
	parameters strLatitudeRef = strLatitudeRef
endif

if GLOB_MODPAR_NAME = "strLongitudeRef" then
	iLongitudeRef = LONG_EAST
	if strLongitudeRef = strLongitudeRef_strings[2] then iLongitudeRef = LONG_WEST
	parameters iLongitudeRef = iLongitudeRef
else
	strLongitudeRef = strLongitudeRef_strings[1]
	if iLongitudeRef = LONG_WEST then strLongitudeRef = strLongitudeRef_strings[2]
	parameters strLongitudeRef = strLongitudeRef
endif

if GLOB_MODPAR_NAME = "strApplyFontTo" then
	iApplyFontTo = APPLY_TO_HEADER
	if strApplyFontTo = strApplyFontTo_strings[2] then iApplyFontTo = APPLY_TO_COOR
	if strApplyFontTo = strApplyFontTo_strings[3] then iApplyFontTo = APPLY_TO_ID
	if strApplyFontTo = strApplyFontTo_strings[4] then iApplyFontTo = APPLY_TO_CUSTORIG
	parameters iApplyFontTo = iApplyFontTo
else
	strApplyFontTo = strApplyFontTo_strings[1]
	if iApplyFontTo = APPLY_TO_COOR 	then strApplyFontTo = strApplyFontTo_strings[2]
	if iApplyFontTo = APPLY_TO_ID 		then strApplyFontTo = strApplyFontTo_strings[3]
	if iApplyFontTo = APPLY_TO_CUSTORIG	then strApplyFontTo = strApplyFontTo_strings[4]
	parameters strApplyFontTo = strApplyFontTo
endif

if GLOB_MODPAR_NAME = "strMarkerStyle3D" then
	iMarkerStyle3D = MARKER_CONE
	if strMarkerStyle3D = strMarkerStyle3D_strings[2] then iMarkerStyle3D = MARKER_PYRAMID
	if strMarkerStyle3D = strMarkerStyle3D_strings[3] then iMarkerStyle3D = MARKER_PIN
	parameters iMarkerStyle3D = iMarkerStyle3D
else
	strMarkerStyle3D = strMarkerStyle3D_strings[1]
	if iMarkerStyle3D = MARKER_PYRAMID	then strMarkerStyle3D = strMarkerStyle3D_strings[2]
	if iMarkerStyle3D = MARKER_PIN 		then strMarkerStyle3D = strMarkerStyle3D_strings[3]
	parameters strMarkerStyle3D = strMarkerStyle3D
endif


!=============================================================================
! Limitations
!=============================================================================

values "iLatitudeDegree" range[0,90]

if ABS(iLatitudeDegree-90) < EPS then
	values "iLatitudeMinute" range[0,0]
	values "rLatitudeSecond" range[0,0]
else
	values "iLatitudeMinute" range[0,60)
	values "rLatitudeSecond" range[0,60)
endif

values "iLongitudeDegree" range[0,180]

if ABS(iLongitudeDegree-180) < EPS then
	values "iLongitudeMinute" range[0,0]
	values "rLongitudeSecond" range[0,0]
else
	values "iLongitudeMinute" range[0,60)
	values "rLongitudeSecond" range[0,60)
endif


!=============================================================================
! Hide or lock items
!=============================================================================

if not(bCustomOrig) then
	hideparameter "CustomOrigX", "CustomOrigY", "CustomOrigZ", "bShowCustomOrig", "bShowCustomOrig3D"
	lock "CustomOrigX", "CustomOrigY", "CustomOrigZ", "bShowCustomOrig", "bShowCustomOrig3D"
	CustomOrigX = 0
	CustomOrigY = 0
	CustomOrigZ = 0
	parameters	CustomOrigX = CustomOrigX,
				CustomOrigY = CustomOrigY,
				CustomOrigZ = CustomOrigZ
endif

if not(bCustomOrig) or (NOT(bShowCustomOrig) and NOT(bShowCustomOrig3D)) then
	lock			"strFontTypeCustOrig",
					"bBoldCustOrig",
					"bItalicCustOrig",
					"bUnderlinedCustOrig",
					"fontSizeCustOrig_mm",
					"fontSizeCustOrig_pt",
					"penFontCustOrig",
					"iPenFontCustOrig"
	hideparameter	"strFontTypeCustOrig",
					"bBoldCustOrig",
					"bItalicCustOrig",
					"bUnderlinedCustOrig",
					"fontSizeCustOrig_mm",
					"fontSizeCustOrig_pt",
					"penFontCustOrig",
					"iPenFontCustOrig"
endif

if not(bCustomOrig) or NOT(bShowCustomOrig3D) then
	lock			"fontSizeCustOrig3D",
					"fontCustOrigMat"
	hideparameter	"fontSizeCustOrig3D",
					"fontCustOrigMat"
endif

if iCoorSystem = PROJECT_COOR then
	hideparameter "titleWorldCoor"
	lock "iLatitudeDegree", 	"iLatitudeMinute", 	"rLatitudeSecond", 	"strLatitudeRef"
	lock "iLongitudeDegree", 	"iLongitudeMinute", "rLongitudeSecond", "strLongitudeRef"
	lock "elevWorldCoor"
endif

if iCoorSystem = WORLD_COOR_PROJ then
	lock "iLatitudeDegree", 	"iLatitudeMinute", 	"rLatitudeSecond", 	"strLatitudeRef"
	lock "iLongitudeDegree", 	"iLongitudeMinute", "rLongitudeSecond", "strLongitudeRef"
	lock "elevWorldCoor"
endif


if not(bHeight) then
	lock "strHeightRef", "CustomOrigZ", "bShowCoorZ", "strPrefix3"
	hideparameter "point_elevation"
endif


if not(bAddText) then lock "strAddTextContent"

if not(bShowCoorX) then lock "strPrefix1"
if not(bShowCoorY) then lock "strPrefix2"
if not(bShowCoorZ) then lock "strPrefix3"


if STRSTR (workingLengthUnit,"m")  > 0 then
	lock 			"markerSize_pt", "fontSizeHeader_pt", "fontSizeCoor_pt", "fontSizeID_pt", "fontSizeCustOrig_pt"
	hideparameter 	"markerSize_pt", "fontSizeHeader_pt", "fontSizeCoor_pt", "fontSizeID_pt", "fontSizeCustOrig_pt"
else
	lock 			"markerSize_mm", "fontSizeHeader_mm", "fontSizeCoor_mm", "fontSizeID_mm", "fontSizeCustOrig_mm"
	hideparameter 	"markerSize_mm", "fontSizeHeader_mm", "fontSizeCoor_mm", "fontSizeID_mm", "fontSizeCustOrig_mm"
endif


if not(bHeader) then lock "bID", "bAddText", "strAddTextContent"

if not(bAddText3D) then lock "strAddTextContent3D"

if not(bShowCoorX3D) then lock "strPrefix13D"
if not(bShowCoorY3D) then lock "strPrefix23D"
if not(bShowCoorZ3D) then lock "strPrefix33D"

if NOT(bMarker3D) then
	lock			"strMarkerStyle3D",
					"markerSize3D",
					"markerMat1",
					"markerMat2",
					"bShowMarkerID3D",
					"fontSizeID3D",
					"fontIDMat",
					"titleFont3D",
					"gs_3D_representation",
					"res",
					"bShadow",
					"titleStamp3D",
					"bShowCustomOrig3D"
	hideparameter	"strMarkerStyle3D",
					"markerSize3D",
					"markerMat1",
					"markerMat2",
					"bShowMarkerID3D",
					"fontSizeID3D",
					"fontIDMat",
					"titleFont3D",
					"gs_3D_representation",
					"res",
					"bShadow",
					"titleStamp3D",
					"bShowCustomOrig3D"
endif

if NOT(bMarker3D) then
	lock			"titleFont3D",
					"bHeader3D",
					"bID3D",
					"bAddText3D",
					"strAddTextContent3D",
					"bShowCoorX3D",
					"strPrefix13D",
					"bShowCoorY3D",
					"strPrefix23D",
					"bShowCoorZ3D",
					"strPrefix33D",
					"textRotAngX",
					"textRotAngZ",
					"fontSizeHeader3D",
					"fontHeaderMat",
					"fontSizeCoor3D",
					"fontCoorMat"
	hideparameter	"titleFont3D",
					"bHeader3D",
					"bID3D",
					"bAddText3D",
					"strAddTextContent3D",
					"bShowCoorX3D",
					"strPrefix13D",
					"bShowCoorY3D",
					"strPrefix23D",
					"bShowCoorZ3D",
					"strPrefix33D",
					"textRotAngX",
					"textRotAngZ",
					"fontSizeHeader3D",
					"fontHeaderMat",
					"fontSizeCoor3D",
					"fontCoorMat"
endif

if not(bHeader3D) then lock "bID3D", "bAddText3D", "strAddTextContent3D"

if NOT(bShowMarkerID3D) then
	lock			"fontSizeID3D", "fontIDMat"
	hideparameter	"fontSizeID3D", "fontIDMat"
endif


!=============================================================================
! Font and marker sizes
!=============================================================================

if GLOB_MODPAR_NAME = "markerSize_pt" then
	markerSize_mm = markerSize_pt / DOT_IN_MM
	parameters markerSize_mm = markerSize_mm
else
	markerSize_pt = markerSize_mm * DOT_IN_MM
	parameters markerSize_pt = markerSize_pt
endif

if GLOB_MODPAR_NAME = "fontSizeHeader_pt" then
	fontSizeHeader_mm = fontSizeHeader_pt / DOT_IN_MM
	parameters fontSizeHeader_mm = fontSizeHeader_mm
else
	fontSizeHeader_pt = fontSizeHeader_mm * DOT_IN_MM
	parameters fontSizeHeader_pt = fontSizeHeader_pt
endif

if GLOB_MODPAR_NAME = "fontSizeCoor_pt" then
	fontSizeCoor_mm = fontSizeCoor_pt / DOT_IN_MM
	parameters fontSizeCoor_mm = fontSizeCoor_mm
else
	fontSizeCoor_pt = fontSizeCoor_mm * DOT_IN_MM
	parameters fontSizeCoor_pt = fontSizeCoor_pt
endif

if GLOB_MODPAR_NAME = "fontSizeID_pt" then
	fontSizeID_mm = fontSizeID_pt / DOT_IN_MM
	parameters fontSizeID_mm = fontSizeID_mm
else
	fontSizeID_pt = fontSizeID_mm * DOT_IN_MM
	parameters fontSizeID_pt = fontSizeID_pt
endif

if GLOB_MODPAR_NAME = "fontSizeCustOrig_pt" then
	fontSizeCustOrig_mm = fontSizeCustOrig_pt / DOT_IN_MM
	parameters fontSizeCustOrig_mm = fontSizeCustOrig_mm
else
	fontSizeCustOrig_pt = fontSizeCustOrig_mm * DOT_IN_MM
	parameters fontSizeCustOrig_pt = fontSizeCustOrig_pt
endif


!=============================================================================
! Pen Colors
!=============================================================================

if penMarker 		< 1 then penMarker 			= 1
if penFontHeader 	< 1 then penFontHeader 		= 1
if penFontCoor 		< 1 then penFontCoor 		= 1
if penFontID 		< 1 then penFontID 			= 1
if penFontCustOrig	< 1 then penFontCustOrig	= 1

if penMarker 		> 255 then penMarker 		= 255
if penFontHeader 	> 255 then penFontHeader 	= 255
if penFontCoor 		> 255 then penFontCoor 		= 255
if penFontID 		> 255 then penFontID 		= 255
if penFontCustOrig	> 255 then penFontCustOrig	= 255

parameters 	penMarker 		= penMarker,
			penFontHeader 	= penFontHeader,
			penFontCoor 	= penFontCoor,
			penFontID 		= penFontID,
			penFontCustOrig	= penFontCustOrig

if iPenMarker 		< 1 then iPenMarker 		= 1
if iPenFontHeader 	< 1 then iPenFontHeader 	= 1
if iPenFontCoor 	< 1 then iPenFontCoor 		= 1
if iPenFontID 		< 1 then iPenFontID 		= 1
if iPenFontCustOrig	< 1 then iPenFontCustOrig	= 1

if iPenMarker 		> 255 then iPenMarker 		= 255
if iPenFontHeader 	> 255 then iPenFontHeader 	= 255
if iPenFontCoor 	> 255 then iPenFontCoor 	= 255
if iPenFontID 		> 255 then iPenFontID 		= 255
if iPenFontCustOrig	> 255 then iPenFontCustOrig	= 255

parameters 	iPenMarker 			= iPenMarker,
			iPenFontHeader 		= iPenFontHeader,
			iPenFontCoor 		= iPenFontCoor,
			iPenFontID 			= iPenFontID,
			iPenFontCustOrig	= iPenFontCustOrig

if GLOB_MODPAR_NAME = "iPenMarker" then
	penMarker = iPenMarker
	parameters penMarker = penMarker
else
	iPenMarker = penMarker
	parameters iPenMarker = iPenMarker
endif

if GLOB_MODPAR_NAME = "iPenFontHeader" then
	penFontHeader = iPenFontHeader
	parameters penFontHeader = penFontHeader
else
	iPenFontHeader = penFontHeader
	parameters iPenFontHeader = iPenFontHeader
endif

if GLOB_MODPAR_NAME = "iPenFontCoor" then
	penFontCoor = iPenFontCoor
	parameters penFontCoor = penFontCoor
else
	iPenFontCoor = penFontCoor
	parameters iPenFontCoor = iPenFontCoor
endif

if GLOB_MODPAR_NAME = "iPenFontID" then
	penFontID = iPenFontID
	parameters penFontID = penFontID
else
	iPenFontID = penFontID
	parameters iPenFontID = iPenFontID
endif

if GLOB_MODPAR_NAME = "iPenFontCustOrig" then
	penFontCustOrig = iPenFontCustOrig
	parameters penFontCustOrig= penFontCustOrig
else
	iPenFontCustOrig = penFontCustOrig
	parameters iPenFontCustOrig = iPenFontCustOrig
endif


!=============================================================================
! User interface
!=============================================================================

values "gs_ui_current_page" pageIds

