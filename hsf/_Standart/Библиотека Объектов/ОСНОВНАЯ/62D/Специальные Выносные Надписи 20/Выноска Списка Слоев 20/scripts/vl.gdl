

if not(_isEnabledContent) then
	lock all
endif

! =============================================================================
! Appearence
! =============================================================================
values "gs_ui_current_page" 1,2,3,4, 5

call "label_marker_form" parameters AC_CustomReadability = AC_CustomReadability,
	bUseBuiltinPointer			= not(LABEL_CUSTOM_ARROW),

	! Position
	iReferencePoint				= 5,
	iLabelOrientation 			= iLabelOrientation,
	bFlipLabel 					= bFlipLabel,
	bMirrorLabel 				= bMirrorLabel,
	anglePosition 				= LABEL_ROTANGLE,

	! Paragraph Format
	bEnablePrefixColumn			= 0,
	bUsePrefixColumn			= 0,
	bWrapText					= LABEL_TEXT_WRAP,
	widthTextBoxContent_mm		= widthTextBoxContent_mm,
	widthTextBoxContent_pt		= widthTextBoxContent_pt,
	xFirstIndentParagraph		= 0,
	xLeftIndentParagraph		= 0,
	xRightIndentParagraph		= 0,
	xTabPositionParagraph		= 0,
	widthFactorTextBlock		= LABEL_TEXT_WIDTH_FACT,
	charspaceFactorTextBlock	= LABEL_TEXT_CHARSPACE_FACT,
	iFixedHeightTextBlock		= 0,		! fixed_height 	1: the placed TEXTBLOCK will be scale-independent and all specified length type parameters will mean millimeters, !
															!0: the placed TEXTBLOCK will be scale-dependent and all specified length type parameters will mean meters in model space
	! Head apperance
	bEnableCustomHeaderStyle 	= 1,
	bUseCustomHeaderStyle		= bUseCustomHeaderStyle,
	penTextHeader				= penTextHeader,
	fontTypeHeader				= fontTypeHeader,
	sizeFontHeader_mm			= sizeFontHeader_mm,
	sizeFontHeader_pt			= sizeFontHeader_pt,
	bBoldStyleHeader			= bBoldStyleHeader,
	bItalicStyleHeader			= bItalicStyleHeader,
	bUnderlineStyleHeader		= bUnderlineStyleHeader,
	bStrikethroughStyleHeader	= bStrikethroughStyleHeader,
	iAlignmentHeader			= 2,	! 1: left aligned, 2: center aligned, 3: right aligned, 4: full justified
	sizeLeadingHeader			= 1,

	! Body skin list appearance
	bUseTextBoxOnLine				= 1,
	listTextTopDistance_mm			= listTextTopDistance_mm,
	listTextTopDistance_pt			= listTextTopDistance_pt,
	bShowSeparatorLines				= bShowSeparatorLines,
	bCustomListContent				= bCustomListContent,
	dataCustomSkinRow				= dataCustomSkinRow,
	penTextBoxOnLine						= LABEL_TEXT_PEN,
	sTypeFontTextBoxOnLine					= LABEL_FONT_NAME,
	iStyleFontTextBoxOnLine					= LABEL_FONT_STYLE2,
	sizeFontTextBoxOnLine					= LABEL_TEXT_SIZE,
	iAlignmentTextBoxOnLine			= LABEL_TEXT_ALIGN,			! 0: custom, 1: left aligned, 2: center aligned, 3: right aligned, 4: full justified
	sizeLeadingTextBoxOnLine					= LABEL_TEXT_LEADING,

	! Label Head Representation
	bEnableHeadSwitch			= 1,							! Enable to switch the Show Label Head ON-OFF
	bShowHead					= bShowHead,
	iShapeHead					= iShapeHead,
	bFitFrameToText				= bFitFrameToText,
	widthHead_mm				= widthHead_mm,
	widthHead_pt				= widthHead_pt,
	heightHead_mm				= heightHead_mm,
	heightHead_pt				= heightHead_pt,
	bLinkSizes					= bLinkSizes,
	bShowHeadContour			= LABEL_FRAME_ON,
	penHead						= LABEL_ARROW_PEN,
	lineTypeHead				= LABEL_ARROW_LINETYPE,
	bShowFill					= 1,
	fillType					= filltypeBackground,
	penForeground				= LABEL_TEXT_BG_PEN,
	penBackground				= LABEL_TEXT_BG_PEN,

	! Label Line Representation
	distanceLabelHead_mm		= distanceLabelHead_mm,
	distanceLabelHead_pt		= distanceLabelHead_pt,
	bEnableLeaderLine			= 1,
	bShowLeaderLine				= bShowLeaderLine,
	penLeaderLine				= LABEL_ARROW_PEN,
	linetypeLeaderLine			= LABEL_ARROW_LINETYPE,
	iLeaderLineStyle			= iLeaderLineStyle,
	thkLeaderLine_mm			= thkLeaderLine_mm,
	thkLeaderLine_pt			= thkLeaderLine_pt,
	iExtensionLineStyle 		= iExtensionLineStyle,
	lengthExtensionLine_mm		= lengthExtensionLine_mm,
	lengthExtensionLine_pt		= lengthExtensionLine_pt,
	thkExtensionLine_mm			= thkExtensionLine_mm,
	thkExtensionLine_pt			= thkExtensionLine_pt,

	gs_ui_sub_tab				= gs_ui_sub_tab,

	! For Link Sizes only at PM scripts
	ratioHeadSizes				= ratioHeadSizes

! ==============================================================================
! Special own content
! ==============================================================================

values{2} "iIDText" 	IDVALUE_IDNUMBER, 	sIDTextValues[1],
						IDVALUE_MASTERID,	sIDTextValues[4],
						IDVALUE_FULLIDNUM,	sIDTextValues[3],
				 		IDVALUE_CUSTOMTEXT,	sIDTextValues[2]

if iIDText <> IDVALUE_CUSTOMTEXT then
	lock "sIDTextCustom"
	hideparameter "sIDTextCustom"
endif

if not(bShowID) then
	! Head attributes hiding is in the label_form_macro

	lock "iIDText",	"sIDTextCustom", "bFitFrameToText"
	hideparameter "iIDText", "sIDTextCustom", "bFitFrameToText"
endif

if not(LABEL_CUSTOM_ARROW) then
	lock	"bFitFrameToText"
	hideparameter	"bFitFrameToText"
endif

if 	not(bShowID) | (iIDText = IDVALUE_CUSTOMTEXT & sIDTextCustom = "") then
	lock 			"bUseCustomHeaderStyle", "penTextHeader", "fontTypeHeader", "sizeFontHeader_mm", "sizeFontHeader_pt", "bBoldStyleHeader", "bItalicStyleHeader", "bUnderlineStyleHeader", "bStrikethroughStyleHeader" 
	hideparameter 	"bUseCustomHeaderStyle", "penTextHeader", "fontTypeHeader", "sizeFontHeader_mm", "sizeFontHeader_pt", "bBoldStyleHeader", "bItalicStyleHeader", "bUnderlineStyleHeader", "bStrikethroughStyleHeader"

	if bFitFrameToText & not(LABEL_TEXT_WRAP) then
		lock 			"bShowHead", "distanceLabelHead_mm", "distanceLabelHead_pt", "iShapeHead"
		hideparameter	"bShowHead", "distanceLabelHead_mm", "distanceLabelHead_pt", "iShapeHead"
	endif
endif

! ==============================================================================
! List Text
! ==============================================================================

values{2} "iTypeSkinContent"	CONTENT_BUILDING_MATERIAL,		_stTypeSkinContentValues[1],
								CONTENT_BUILDING_ID,			_stTypeSkinContentValues[3],
								CONTENT_BUILDING_MANUFACTURER,	_stTypeSkinContentValues[4],
								CONTENT_BUILDING_DESCRIPTION,	_stTypeSkinContentValues[5],
								CONTENT_CUT_FILL,				_stTypeSkinContentValues[2]

values{2} "iWorkUnitLinear"	DIMUNIT_MM,			stUnitFormats[1],
							DIMUNIT_CM,			stUnitFormats[2],
							DIMUNIT_DM,			stUnitFormats[3],
							DIMUNIT_METER,		stUnitFormats[4],
							DIMUNIT_INCH,		stUnitFormats[5],
							DIMUNIT_PROJECT,	stUnitFormats[6]
	
put 0, 1
if iWorkUnitLinear = DIMUNIT_CM		then put 2
if iWorkUnitLinear = DIMUNIT_DM		then put 2, 3
if iWorkUnitLinear = DIMUNIT_METER	then put 2, 3, 4

values "iWorkUnitLinearDecimal" get(NSP)

if not(bShowSkinThickness) then
	lock	"bShowUnit",
			"iWorkUnitLinear"
endif

if iWorkUnitLinear = DIMUNIT_INCH then
	lock "bShowUnit"
endif

if _bLockLinearUnitDecimal then
	lock "iWorkUnitLinearDecimal"
	hideparameter "iWorkUnitLinearDecimal"
endif

if not(bCustomListContent) then
	lock "dataCustomSkinRow"
endif


if GLOB_ELEM_TYPE = ELEM_TYPE_FILL then
	if fill_fill_category = 1 and FILL_BMAT_NAME <> "" then
		! Cut fill - Building Material
	else
		! Draw, Cover and nature Cut fill
		lock "iTypeSkinContent"
	endif

	lock 	"bShowUnit",
			"iWorkUnitLinear",
			"iWorkUnitLinearDecimal",
			"bChangeSkinDirection"

	hideparameter	"bShowUnit",
					"iWorkUnitLinear",
					"iWorkUnitLinearDecimal",
					"bChangeSkinDirection"
endif

if not(LABEL_CUSTOM_ARROW) then
	lock "bMirrorLabel"
	hideparameter "bMirrorLabel"
endif

! ==============================================================================
! SKIN CONTENT: in case the custom content array is empty, it is filled up with the automatic content 
! ==============================================================================

dim _iUnitLocal[]
dim _iSelectedContent[]
	for iA = 1 to 13
		_iUnitLocal[iA] = 1
		_iSelectedContent[iA] = 0	! None
	next iA
_iSelectedContent[1] = CONTENT_SKIN
_iUnitLocal[CONTENT_SKIN] = iWorkUnitLinear

! set iSurfaceToDisplay values
call "label_content_macro" parameters all iSelectedContent = _iSelectedContent,
		iUnitLocal				= _iUnitLocal,
		bUseInSingleRank		= 0,
		bUsePrefixColumn		= 0,

		! for Skin List
		bChangeSkinDirection	= bChangeSkinDirection,
		iTypeSkinContent		= iTypeSkinContent,
		dataCustomSkinRow		= dataCustomSkinRow,
		bCustomListContent		= bCustomListContent


