
EPS = 0.0001

dim sMeasuredDimension[2]
	sMeasuredDimension[1] = `Измеренное Значение`
	sMeasuredDimension[2] = `Специальный Текст`

DIM_MEASURED	= 1
DIM_CUSTOM	= 2

dim sAutoCustom[2]
	sAutoCustom[1] = `Автоматически`
	sAutoCustom[2] = `Специальный Текст`

VALUE_AUTOMATIC		= 1
VALUE_CUSTOM		= 2

dim sSillToOptions[4]
	sSillToOptions[1] = `Привязка`
	sSillToOptions[2] = `Основание Стены`
	sSillToOptions[3] = `Текущий Этаж`
	sSillToOptions[4] = `Специальный Текст`

SILL_TO_ANCHOR		= 1
SILL_TO_WALLBASE	= 2
SILL_TO_CURRSTORY	= 3
SILL_TO_CUSTOM		= 4

dim	sMaterials[4]
	sMaterials[1] = `Дерево`
	sMaterials[2] = `Алюминий`
	sMaterials[3] = `Пластик`
	sMaterials[4] = `Специальный`

dim sIDTextValues [4]
	sIDTextValues[1] = `Компактный ID Элемента`
	sIDTextValues[2] = `Специальный`
	sIDTextValues[3] = `Полный ID Элемента`
	sIDTextValues[4] = `Основной ID`

IDVALUE_IDNUMBER	= 1
IDVALUE_CUSTOMTEXT	= 2
IDVALUE_FULLIDNUM	= 3
IDVALUE_MASTERID	= 4

! Parents properties
! const values for parameter: iSillType
SILL_TIMBER       = 1
SILL_BRICK        = 2
SILL_STONE        = 3
SILL_CERAMIC      = 4
SILL_ETHERNIT     = 5
SILL_CONCRETE_TUB = 6
SILL_ALUMINIUM    = 7
SILL_SOLID_11     = 8
SILL_SOLID_12     = 9
SILL_SOLID_22     = 10
SILL_METAL_1      = 11
SILL_PARALLEL     = 12
SILL_METAL_2      = 13
SILL_PARALLEL_2   = 14
SILL_SIMPLEBLOCK  = 15
SILL_BLOCK        = 16
SILL_DUTCH        = 17

! const values for parameter: iHoleUnderThreshold
WALLHOLE_THRESHOLD_OFF		= 0
WALLHOLE_THRESHOLD_STORY	= 1
WALLHOLE_THRESHOLD_WALL		= 2
WALLHOLE_THRESHOLD_CUSTOM	= 3

dim stUnitFormats[6]
	stUnitFormats[1] = `мм`
	stUnitFormats[2] = `см`
	stUnitFormats[3] = `дм`
	stUnitFormats[4] = `м`
	stUnitFormats[5] = `дюйм`
	stUnitFormats[6] = `по Параметрам Проекта`

DIMUNIT_MM		= 11  
DIMUNIT_CM		= 12
DIMUNIT_METER	= 13
DIMUNIT_INCH	= 14
DIMUNIT_DM		= 15
DIMUNIT_PROJECT	= 10

! ==============================================================================
! For Content Dimension
! ==============================================================================

! iContentOrderDim
DIM_WDT	= 1
DIM_HGT	= 2

_maxDimensionNum = 2

dim	_stDimContentDescription[2]
	_stDimContentDescription[1] = `Ширина`
	_stDimContentDescription[2] = `Высота`

! ==============================================================================
! values for GLOB_ELEM_TYPE
! ==============================================================================
ELEM_TYPE_LABEL		= 0
ELEM_TYPE_OBJECT	= 1
ELEM_TYPE_LAMP		= 2
ELEM_TYPE_WINDOW	= 3
ELEM_TYPE_DOOR		= 4
ELEM_TYPE_WALL		= 5
ELEM_TYPE_COLUMN	= 6
ELEM_TYPE_SLAB		= 7
ELEM_TYPE_ROOF		= 8
ELEM_TYPE_FILL		= 9
ELEM_TYPE_MESH		= 10
ELEM_TYPE_ZONE		= 11
ELEM_TYPE_BEAM		= 12
ELEM_TYPE_CW		= 13
ELEM_TYPE_CWFRAME	= 14
ELEM_TYPE_CWPANEL	= 15
ELEM_TYPE_CWJUNCT	= 16
ELEM_TYPE_CWACC		= 17
ELEM_TYPE_SHELL		= 18
ELEM_TYPE_SKYLIGHT	= 19
ELEM_TYPE_MORPH		= 20

_isEnabledContent	= 0
bDefaultElem		= (GLOB_INTGUID = "" | GLOB_INTGUID = "{00000000-0000-0000-0000-000000000000}")
if GLOB_ELEM_TYPE = ELEM_TYPE_DOOR |\
	GLOB_ELEM_TYPE = ELEM_TYPE_WINDOW |\
	bDefaultElem then
	_isEnabledContent = 1
endif

! ==============================================================================
! Content by tools
! ==============================================================================

! ------------------------------------------------------------------------------
! Initializing Enabling bools
! ------------------------------------------------------------------------------

dim _sParamProperties[][2]
dim _iParamEnabled[][1]
PARAM_NAME = 1
PARAM_DESC = 2

for iNi = 1 to 15
	_sParamProperties[iNi][PARAM_NAME] = ""
	_sParamProperties[iNi][PARAM_DESC] = ""
next iNi

CONTENT_NONE		= 1
CONTENT_ID			= 2
CONTENT_WALLHOLE	= 3
CONTENT_UNIT		= 4
CONTENT_REVEAL		= 5
CONTENT_EGRESS		= 6
CONTENT_SILL		= 7
CONTENT_THRESHOLD	= 8
CONTENT_FIRE		= 9
CONTENT_ACOUSTIC	= 10
CONTENT_UVALUE		= 11
CONTENT_MATERIAL	= 12
CONTENT_HARDWARE	= 13
CONTENT_CUSTOM1		= 14
CONTENT_CUSTOM2		= 15

_maxContentValues = 15
_maxFunctionOrder = 14

dim _stContentDescription[15]
	_stContentDescription[1]	= `Нет`
	_stContentDescription[2]	= `ID`
	_stContentDescription[3]	= `Размеры Проема`
	_stContentDescription[4]	= `Размеры Блока`
	_stContentDescription[5]	= `Размеры Четверти`
	_stContentDescription[6]	= `Размеры Прохода`
	_stContentDescription[7]	= `Высота Отлива`
	_stContentDescription[8]	= `Высота Порога`
	_stContentDescription[9]	= `Огнестойкость`
	_stContentDescription[10]	= `Шумозащита`
	_stContentDescription[11]	= `U-значение`
	_stContentDescription[12]	= `Материал`
	_stContentDescription[13]	= `Фурнитура`
	_stContentDescription[14]	= `Специальный Текст 1`
	_stContentDescription[15]	= `Специальный Текст 2`

dim	_bShowContent[15]
	_bShowContent[CONTENT_NONE]			= 0
	_bShowContent[CONTENT_ID]			= bShowID
	_bShowContent[CONTENT_WALLHOLE]		= bShowWallholeDimension
	_bShowContent[CONTENT_UNIT]			= bShowUnitDimension
	_bShowContent[CONTENT_REVEAL]		= bShowRevealDimension
	_bShowContent[CONTENT_EGRESS]		= bShowEgressDimension
	_bShowContent[CONTENT_SILL]			= bShowSillHeight
	_bShowContent[CONTENT_THRESHOLD]	= bShowThresholdHeight
	_bShowContent[CONTENT_FIRE]			= bShowFireRating
	_bShowContent[CONTENT_ACOUSTIC]		= bShowAcousticRating
	_bShowContent[CONTENT_UVALUE]		= bShowUValue
	_bShowContent[CONTENT_MATERIAL]		= bShowMaterial
	_bShowContent[CONTENT_HARDWARE]		= bShowHardwareSet
	_bShowContent[CONTENT_CUSTOM1]		= bShowCustomText1
	_bShowContent[CONTENT_CUSTOM2]		= bShowCustomText2

_iParentTool = GLOB_ELEM_TYPE + 1	! because Label tool num is zero
_numTool	= 21
_numContentParameter = 15

dim _bToolFilter[21]
dim _iEnabledContentParameter[21][15]
	for iTool = 1 to _numTool
		for iParam = 1 to _numContentParameter
			_bToolFilter[iTool] = 0
			_iEnabledContentParameter[iTool][iParam] = 0
		next iParam
	next iTool

_bToolFilter[ELEM_TYPE_WINDOW	+1]		= bUseWithWindow
_bToolFilter[ELEM_TYPE_DOOR		+1]		= bUseWithDoor

INVALID		= 0
VALID		= 1	! valid
RELATIVE	= 2 ! valid only at UI  but there is another invalid tool (need relativ complement sign to display)


for iTool = 1 to _numTool

	if iTool = (ELEM_TYPE_DOOR + 1) |\
		iTool = (ELEM_TYPE_WINDOW + 1) then
		_iEnabledContentParameter[iTool][CONTENT_ID]		= VALID
		_iEnabledContentParameter[iTool][CONTENT_WALLHOLE]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_UNIT]		= VALID
	endif
	if iTool = (ELEM_TYPE_WINDOW + 1) then
		_iEnabledContentParameter[iTool][CONTENT_REVEAL]	= VALID
	endif
	if iTool = (ELEM_TYPE_DOOR + 1) then
		_iEnabledContentParameter[iTool][CONTENT_EGRESS]	= VALID
	endif
	if iTool = (ELEM_TYPE_WINDOW + 1) then
		_iEnabledContentParameter[iTool][CONTENT_SILL]		= VALID
	endif
	if iTool = (ELEM_TYPE_DOOR + 1) then
		_iEnabledContentParameter[iTool][CONTENT_THRESHOLD]	= VALID
	endif
	if iTool = (ELEM_TYPE_DOOR + 1) |\
		iTool = (ELEM_TYPE_WINDOW + 1) then
		_iEnabledContentParameter[iTool][CONTENT_FIRE]		= VALID
		_iEnabledContentParameter[iTool][CONTENT_ACOUSTIC]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_UVALUE]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_MATERIAL]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_HARDWARE]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_CUSTOM1]	= VALID
		_iEnabledContentParameter[iTool][CONTENT_CUSTOM2]	= VALID
	endif

next iTool


! ==============================================================================
! UI Display and Ordering
! ==============================================================================

EMPTY		= -1
INVALID		= 0
VALID		= 1	! valid
RELATIVE	= 2 ! valid only at UI  but there is another invalid tool (need relativ complement sign to display)

dim _iDisplayContentParametersUI[]
dim _iDisplayContentParameters2D[]
	for iIni = 1 to _numContentParameter
		_iDisplayContentParametersUI[iIni] = EMPTY
		_iDisplayContentParameters2D[iIni] = EMPTY
	next iIni

for iTool = 1 to _numTool
	if _bToolFilter[iTool] then
		for iContentParams = 1 to _numContentParameter
			if _iEnabledContentParameter[iTool][iContentParams] then
				if _iDisplayContentParametersUI[iContentParams] = EMPTY then _iDisplayContentParametersUI[iContentParams] = VALID
				if _iDisplayContentParametersUI[iContentParams] = INVALID then _iDisplayContentParametersUI[iContentParams] = RELATIVE
			else
				if _iDisplayContentParametersUI[iContentParams] = EMPTY then _iDisplayContentParametersUI[iContentParams] = INVALID
				if _iDisplayContentParametersUI[iContentParams] = VALID then _iDisplayContentParametersUI[iContentParams] = RELATIVE
			endif
		next iContentParams
	endif
next iTool

! numbers of UI valid content groups
_numShownContentGroupUI = 0
for iContent = 1 to _maxContentValues
	if _iDisplayContentParametersUI[iContent] > INVALID and _bShowContent[iContent] then
		_numShownContentGroupUI = _numShownContentGroupUI + 1
	endif
next iContent

for iContentParams = 1 to _numContentParameter
	if _iEnabledContentParameter[_iParentTool][iContentParams] and _iDisplayContentParametersUI[iContentParams] > INVALID then
		_iDisplayContentParameters2D[iContentParams] = VALID
	else
		_iDisplayContentParameters2D[iContentParams] = INVALID
	endif
next iContentParams


! for function ordering tablap
dim _iDisplayOrderingGroupUI[]
for iContent = 1 to _maxContentValues
	if _iDisplayContentParametersUI[iContent] > INVALID and _bShowContent[iContent] then
		_iDisplayOrderingGroupUI[iContent] = VALID
	else
		_iDisplayOrderingGroupUI[iContent] = INVALID
	endif
next iContent



_bLockLinearUnitDecimal		= (iWorkUnitLinear = DIMUNIT_INCH	| iWorkUnitLinear = DIMUNIT_PROJECT)
_bLockSillHgtUnitDecimal	= (iWorkUnitSillHgt = DIMUNIT_INCH	| iWorkUnitSillHgt = DIMUNIT_PROJECT)


