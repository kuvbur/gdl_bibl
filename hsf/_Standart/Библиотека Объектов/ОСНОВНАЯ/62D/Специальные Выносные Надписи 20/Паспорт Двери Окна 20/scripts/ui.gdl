
! ==============================================================================
! Placeholder if there is not valid content for parent tool
! ==============================================================================

if not(_isEnabledContent) then
	gosub "callPlaceholder"
	END
endif


! ==============================================================================
! Tabpage IDs, Titles and Icons
! ==============================================================================

PAGE_ID_CONTENT		= 1
PAGE_ID_DISPORDER	= 2
PAGE_ID_GENERAL		= 3
PAGE_ID_1STLINETEXT	= 4
PAGE_ID_INFORMATION	= 5

dim tabTitles[5]
	tabTitles[1] = `Настройка Данных`
	tabTitles[2] = `Порядок Показа`
	tabTitles[3] = `Общие Параметры`
	tabTitles[4] = `Стиль Текста Первой Строки`
	tabTitles[5] = `Информация`

dim tabIcons[5]
	tabIcons[1] = "uiTab_MarkerLabelContent_flat(1)"
	tabIcons[2] = "uiTab_ContentOrder_flat(1)"
	tabIcons[3] = "uiTab_areaContent_flat(1)"
	tabIcons[4] = "uiTab_TextMarkerLabelZone_flat(1)"
	tabIcons[5] = "uiTab_Info_flat(1)"

file_dependence "uiTab_MarkerLabelContent_flat(1)"
file_dependence "uiTab_ContentOrder_flat(1)"
file_dependence "uiTab_TextMarkerLabelZone_flat(1)"
file_dependence "uiTab_areaContent_flat(1)"
file_dependence "uiTab_Info_flat(1)"
file_dependence "ui_list_contentSetup_flat(1)"

ui_current_page gs_ui_current_page
ui_page gs_ui_current_page

! ==============================================================================
! Call tabpage selector
! ==============================================================================
call "ui_tab_popup" parameters 	nTabs 				= vardim1(tabTitles),
								gs_ui_current_page 	= gs_ui_current_page,
								tabTitles			= tabTitles,
								tabIcons			= tabIcons


! ==============================================================================
! Tabpages
! ==============================================================================

ui_page PAGE_ID_CONTENT
	gosub "ContentSettingsPage"

ui_page PAGE_ID_DISPORDER
	gosub "OrderSettingsPage"

ui_page PAGE_ID_GENERAL
	gosub "TableSettingsPage"

ui_page PAGE_ID_1STLINETEXT
	gosub "FirstLineTextPage"

ui_page PAGE_ID_INFORMATION
	gosub "callPlaceholder"


! ==============================================================================
end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! en
! ==============================================================================


! ==============================================================================
"ContentSettingsPage":
! ------------------------------------------------------------------------------
	inFieldHeight = 19
	outFieldHeight = 15
	endx = 466

	inFieldWidth1 = 160
	inFieldWidth2 = 50
	inFieldWidth3 = 70

	x1 = 1
	x2 = 85
	x3 = 140
	x4 = 375

	yCurr = 35

	dy = 24

	ui_style 0,1
	ui_outfield `Показ параметров следующих Инструментов` + ":", x1, yCurr, x4-x2, outFieldHeight
	ui_style 0,0

	yCurr = yCurr + outFieldHeight + 1

	buttonWidth = 22
	buttonHeight = 22
	xPos = x1
	xdiff = 8 + buttonWidth

	dim _bParamTool[2]
	dim _pictParamTool[2]
	dim _pictToolTip[2]
		_bParamTool[1]	= "bUseWithDoor"		: _pictParamTool[1]		= "ui_toolpict_door_flat(1).png"		:_pictToolTip[1]		= `Дверь`
		_bParamTool[2]	= "bUseWithWindow"		: _pictParamTool[2]		= "ui_toolpict_window_flat(1).png"		:_pictToolTip[2]		= `Окно, Угловое Окно`

	for iIcon = 1 to vardim1(_bParamTool)
		ui_infield{4} _bParamTool[iIcon], xPos, yCurr, buttonWidth, buttonHeight,
			6, "",
			2,
			1, 18, 18, 18, 18,
			_pictParamTool[iIcon], "", 0,
			_pictParamTool[iIcon], "", 1\
			ui_tooltip _pictToolTip[iIcon]
		xPos = xPos + xdiff
	next iIcon
	yCurr = yCurr + buttonHeight + 5

	ui_style 0,1
	ui_outfield `Настройка Данных Выносной Надписи` + ":", x1, yCurr, x4-x2, outFieldHeight
	ui_style 0,0
	yCurr = yCurr + outFieldHeight + 1

	iParam = 1
	dim paramNames[]
	dim imageRelative[]
	dim paramtitle[]

	if _iDisplayContentParametersUI[CONTENT_ID] > INVALID then
		paramNames[iParam] 		= "bShowID"
		if _iDisplayContentParametersUI[CONTENT_ID] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowID then
			paramNames[iParam] 		= "sDescriptionID"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iIDText"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iIDText = IDVALUE_CUSTOMTEXT then
				paramNames[iParam] 		= "sIDTextCustom"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_WALLHOLE] > INVALID then
		paramNames[iParam] 		= "bShowWallholeDimension"
		if _iDisplayContentParametersUI[CONTENT_WALLHOLE] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowWallholeDimension then
			paramNames[iParam] 		= "sDescriptionWallholeDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iWallholeDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iWallholeDimension = DIM_CUSTOM then
				paramNames[iParam] 		= "sValueWallholeDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			else
				paramNames[iParam] 		= "sSeparatorWallholeDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_UNIT] > INVALID then
		paramNames[iParam] 		= "bShowUnitDimension"
		if _iDisplayContentParametersUI[CONTENT_UNIT] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowUnitDimension then
			paramNames[iParam] 		= "sDescriptionUnitDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iUnitDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iUnitDimension = DIM_CUSTOM then
				paramNames[iParam] 		= "sValueUnitDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			else
				paramNames[iParam] 		= "sSeparatorUnitDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_REVEAL] > INVALID then
		paramNames[iParam] 		= "bShowRevealDimension"
		if _iDisplayContentParametersUI[CONTENT_REVEAL] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowRevealDimension then
			paramNames[iParam] 		= "sDescriptionRevealDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iRevealDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iRevealDimension = DIM_CUSTOM then
				paramNames[iParam] 		= "sValueRevealDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			else
				paramNames[iParam] 		= "sSeparatorRevealDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_EGRESS] > INVALID then
		paramNames[iParam] 		= "bShowEgressDimension"
		if _iDisplayContentParametersUI[CONTENT_EGRESS] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowEgressDimension then
			paramNames[iParam] 		= "sDescriptionEgressDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iEgressDimension"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iEgressDimension = DIM_CUSTOM then
				paramNames[iParam] 		= "sValueEgressDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			else
				paramNames[iParam] 		= "sSeparatorEgressDimension"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_SILL] > INVALID then
		paramNames[iParam] 		= "bShowSillHeight"
		if _iDisplayContentParametersUI[CONTENT_SILL] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowSillHeight then
			paramNames[iParam] 		= "sDescriptionSillHeight"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iSillHeight"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iSillHeight <> DIM_CUSTOM then
				paramNames[iParam] 		= "iSillHeightMeasuredTo"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			else
				paramNames[iParam] 		= "sValueSillHeight"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif

			paramNames[iParam] 		= "bSillHeightReduce"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_THRESHOLD] > INVALID then
		paramNames[iParam] 		= "bShowThresholdHeight"
		if _iDisplayContentParametersUI[CONTENT_THRESHOLD] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowThresholdHeight then
			paramNames[iParam] 		= "sDescriptionThresholdHeight"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iThresholdHeight"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iThresholdHeight = DIM_CUSTOM then
				paramNames[iParam] 		= "sValueThresholdHeight"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_FIRE] > INVALID then
		paramNames[iParam] 		= "bShowFireRating"
		if _iDisplayContentParametersUI[CONTENT_FIRE] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowFireRating then
			paramNames[iParam] 		= "sDescriptionFireRating"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iFireRating"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iFireRating = VALUE_CUSTOM then
				paramNames[iParam] 		= "sValueFireRating"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif

	endif

	if _iDisplayContentParametersUI[CONTENT_ACOUSTIC] > INVALID then
		paramNames[iParam] 		= "bShowAcousticRating"
		if _iDisplayContentParametersUI[CONTENT_ACOUSTIC] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowAcousticRating then
			paramNames[iParam] 		= "sDescriptionAcousticRating"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iAcousticRating"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iAcousticRating = VALUE_CUSTOM then
				paramNames[iParam] 		= "sValueAcousticRating"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_UVALUE] > INVALID then
		paramNames[iParam] 		= "bShowUValue"
		if _iDisplayContentParametersUI[CONTENT_UVALUE] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowUValue then
			paramNames[iParam] 		= "sDescriptionUValue"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iUValue"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iUValue = VALUE_CUSTOM then
				paramNames[iParam] 		= "sValueUValue"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_MATERIAL] > INVALID then
		paramNames[iParam] 		= "bShowMaterial"
		if _iDisplayContentParametersUI[CONTENT_MATERIAL] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowMaterial then
			paramNames[iParam] 		= "sDescriptionMaterial"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iMaterial"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iMaterial = 4 then		! Custom
				paramNames[iParam] 		= "sValueMaterial"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_HARDWARE] > INVALID then
		paramNames[iParam] 		= "bShowHardwareSet"
		if _iDisplayContentParametersUI[CONTENT_HARDWARE] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowHardwareSet then
			paramNames[iParam] 		= "sDescriptionHardwareSet"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "iHardwareSet"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			if iHardwareSet = VALUE_CUSTOM then
				paramNames[iParam] 		= "sValueHardwareSet"
				imageRelative[iParam]	= ""
				paramtitle[iParam] = 1
				iParam = iParam + 1
			endif
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_CUSTOM1] > INVALID then
		paramNames[iParam] 		= "bShowCustomText1"
		if _iDisplayContentParametersUI[CONTENT_CUSTOM1] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowCustomText1 then
			paramNames[iParam] 		= "sDescriptionCustomText1"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "sValueCustomText1"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1
		endif
	endif

	if _iDisplayContentParametersUI[CONTENT_CUSTOM2] > INVALID then
		paramNames[iParam] 		= "bShowCustomText2"
		if _iDisplayContentParametersUI[CONTENT_CUSTOM1] = RELATIVE then
			imageRelative[iParam]	= "ui_list_contentSetup_flat(1).png"
		else
			imageRelative[iParam]	= ""
		endif
		paramtitle[iParam] = 0
		iParam = iParam + 1

		if bShowCustomText2 then
			paramNames[iParam] 		= "sDescriptionCustomText2"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1

			paramNames[iParam] 		= "sValueCustomText2"
			imageRelative[iParam]	= ""
			paramtitle[iParam] = 1
			iParam = iParam + 1
		endif
	endif

	UIGroup = 1
	ui_listfield UIGroup, 0, yCurr, 444, 266-yCurr-outFieldHeight*1.2, 1

	itemID = 1
	for i = 1 to vardim1(paramNames)
		ui_listitem itemID, UIGroup, paramNames[i], paramtitle[i], imageRelative[i], ""
		itemID = itemID + 1
	next i

	yCurr = 266-outFieldHeight
	if iParam = 1 then ! empty listfield
		ui_pict "ui_warningIcon_flat(1)", x1, yCurr, 14, 14, 1
		ui_outfield `Инструмент не выбран.`, x1+15, yCurr, endx-x1-15, outFieldHeight
	else
		! if there is any relative content then note
		for i = 1 to vardim1(paramNames)
			if imageRelative[i] <> "" then
				ui_pict "ui_InfoIcon_flat(1)", x1, yCurr, 14, 14, 1
				ui_pict "ui_contentSetup_flat(1)", x1+15, yCurr, 14, 15, 1
				ui_outfield `Помеченные типы Данных недоступны для выбранных Инструментов.`, x1+2*15, yCurr, endx-x1-2*15-2, outFieldHeight
				i = vardim1(paramNames)
			endif
		next i
	endif

return


! ==============================================================================
"FirstLineTextPage":
! ------------------------------------------------------------------------------
	call "label_table_form" parameters AC_CustomReadability = AC_CustomReadability,

		bEnableCustomHeaderStyle 	= 1,
		bUseCustomHeaderStyle		= bUseCustomHeaderStyle,

		penTextHeader				= penTextHeader,
		fontTypeHeader				= fontTypeHeader,
		sizeFontHeader_mm			= sizeFontHeader_mm,
		sizeFontHeader_pt			= sizeFontHeader_pt,
		bBoldStyleHeader			= bBoldStyleHeader,
		bItalicStyleHeader			= bItalicStyleHeader,
		bUnderlineStyleHeader		= bUnderlineStyleHeader,
		bStrikethroughStyleHeader	= bStrikethroughStyleHeader,
		iAlignmentHeader			= iAlignmentHeader,	! 1: left aligned, 2: center aligned, 3: right aligned, 4: full justified
		iLineSpaceHeader			= iLineSpaceHeader,
		sizeLineSpaceHeader_mm		= sizeLineSpaceHeader_mm,
		sizeLineSpaceHeader_pt		= sizeLineSpaceHeader_pt,

		idTab_HeaderStyle			= PAGE_ID_1STLINETEXT,
		idTab_FrameStyle			= 0,
		gs_ui_current_page			= gs_ui_current_page
								
return


! ==============================================================================
"OrderSettingsPage":
! ------------------------------------------------------------------------------

	dy = 21
	yCurr = 33
	outFieldWidth1 = 160
	outFieldHeight = 15

	buttonX	= 13
	buttonY = 13
	buttonOffsetY = 2
	x1	= 10
	x2	= x1 + buttonX + buttonOffsetY
	x3	= x2 + buttonX + buttonOffsetY + 15
	endx = 222 + x3 + outFieldWidth1


	if _numShownContentGroupUI > EPS then

		ui_style 0, 1
		ui_outfield `Порядок Данных`, x1, yCurr, endx-x1, outFieldHeight
		yCurr = yCurr + dy-4

		ui_style 0, 0
		for iRow = 1 to vardim1(functionOrder)
			if iRow = 8 then
				x1	= 232
				x2	= x1 + buttonX + buttonOffsetY
				x3	= x2 + buttonX + buttonOffsetY + 15

				yCurr = 29 + dy
			endif

			! Down
			if (iRow <> vardim1(functionOrder)) then
				ui_pict_button ui_function, "", "ui_arrow_down_flat(1)", x1, yCurr+buttonOffsetY, buttonX, buttonY, 1000 + iRow ui_tooltip `Переместить Ниже`
			endif

			if iRow <> 1 then
				ui_pict_button ui_function, "", "ui_arrow_up_flat(1)", x2, yCurr+buttonOffsetY,	buttonX, buttonY, 2000 + iRow ui_tooltip `Переместить Выше`
			endif

			ui_outfield _stContentDescription[functionOrder[iRow]], x3, yCurr, outFieldWidth1, outFieldHeight
			yCurr = yCurr + dy

		next iRow
	endif

	! --------------------------------------------------------------------------
	ui_separator 0, 196,	444, 196
	! --------------------------------------------------------------------------

	buttonX	= 27
	buttonY = 13
	buttonOffset = 2
	x1	= 10

	outFieldWidth2 = 83
	yCurr = 208

	xOffset	= buttonOffset + buttonX
	diffX	= outFieldWidth2 + 2 * buttonOffset + buttonX

	xCurr = 11

	ui_style 0, 1
	ui_outfield `Порядок Размеров`, x1, yCurr, endx-x1, outFieldHeight
	yCurr = yCurr + 19

	ui_style 0, 0
	for iCol = 1 to vardim1(iContentOrderDim)

		if iCol <> 1 then
			ui_pict_button ui_function, "", "ui_arrow_swap_flat(1)", xCurr-xOffset, yCurr+1, buttonX, buttonY, 3000 + iCol ui_tooltip `Изменить Порядок`
		endif

		_fieldFlag = 2
		if iCol = 1 then _fieldFlag = 0
		if iCol = vardim1(iContentOrderDim) then _fieldFlag = 1

		ui_outfield _stDimContentDescription[iContentOrderDim[iCol]], xCurr, yCurr, outFieldWidth2, outFieldHeight, _fieldFlag
		xCurr = xCurr + diffX
	next iCol

	ui_pict "ui_InfoIcon_flat(1)", x1, 250, 14, 14, 1
	ui_outfield `Добавить/удалить Данные можно на вкладке 'Настройки Данных'`, x1+15, 250, endx-x1-15, outFieldHeight

return


! ==============================================================================
"TableSettingsPage":
! ------------------------------------------------------------------------------
	! all drawing from macro
	! only the units are drawing from here

	_yBottomPosGeneral = 195

	call "label_table_form" parameters AC_CustomReadability = AC_CustomReadability,
		bUseBuiltinPointer			= not(LABEL_CUSTOM_ARROW),
		anglePosition 				= LABEL_ROTANGLE,
		bUsePrefixColumn			= bUsePrefixColumn,
		bUseContentColumn			= 1,

		bWrapText					= LABEL_TEXT_WRAP,
		widthTextBoxPrefix_mm		= widthTextBoxPrefix_mm,
		widthTextBoxPrefix_pt		= widthTextBoxPrefix_pt,
		widthTextBoxContent_mm		= widthTextBoxContent_mm,
		widthTextBoxContent_pt		= widthTextBoxContent_pt,


		bShowFrame					= LABEL_FRAME_ON,
		penFrame					= LABEL_ARROW_PEN,
		lineTypeFrame				= LABEL_ARROW_LINETYPE,
		iFrameStyle					= iFrameStyle,
		iReferencePoint				= iReferencePoint,
		iLabelOrientation 			= iLabelOrientation,
		idTab_HeaderStyle			= 0,
		idTab_FrameStyle			= PAGE_ID_GENERAL,
		yBottomPosGeneral			= _yBottomPosGeneral,
		gs_ui_current_page			= gs_ui_current_page


	inFieldHeight = 19
	outFieldHeight = 15
	inFieldWidth1 = 160
	inFieldWidth2 = 100
	inFieldWidthContMini = 40
	inFieldWidthShort = 125

	yCurr = _yBottomPosGeneral + 11

	ui_separator 1, _yBottomPosGeneral, 444, _yBottomPosGeneral

	x1 = 1
	x2 = 135
	x3 = x2 + inFieldWidth1 + 2
	x4 = x3 + inFieldWidth2
	x5 = x4 + inFieldWidthContMini

	ui_style 0,1
	ui_infield{3} "bUsePrefixColumn", x1, yCurr-4,	x3-x1-1, inFieldHeight,
			7, "", 2, 1, 0, 0, 0, 0,
			1, `Показать Столбец Названий Параметров`, 0,
			2, `Показать Столбец Названий Параметров`, 1

	ui_style 0,1
	ui_infield{3} "bShowUnit", x3, yCurr-4,	x5-x3, inFieldHeight,
			7, "", 2, 1, 0, 0, 0, 0,
			1, `Единицы Измерения`, 0,
			2, `Единицы Измерения`, 1

	yCurr = yCurr + dy

	ui_style 0,0

	ui_outfield `Единицы Размеров`,  x1, yCurr,	x2-x1-1, outFieldHeight
	ui_infield{3} "iWorkUnitLinear", x2, yCurr-4, inFieldWidth1, inFieldHeight,
			8, "", 3, 1, 0, 0, 0, 0,
			"", stUnitFormats[1],	DIMUNIT_MM,
			"", stUnitFormats[2],	DIMUNIT_CM,
			"", stUnitFormats[3],	DIMUNIT_DM,
			"", stUnitFormats[4],	DIMUNIT_METER,
			"", stUnitFormats[5],	DIMUNIT_INCH,
			"", stUnitFormats[6],	DIMUNIT_PROJECT

	ui_outfield `Десятичные`,  x3, yCurr,	inFieldWidth2, outFieldHeight, 4 * _bLockLinearUnitDecimal
	ui_infield{3} "iWorkUnitLinearDecimal", x4 , yCurr-4,	inFieldWidthContMini, inFieldHeight,
			8, "", 3, 1, 0, 0, 0, 0,
			"", '0', 0,
			"", '1', 1,
			"", '2', 2,
			"", '3', 3,
			"", '4', 4

	yCurr = yCurr + dy

	ui_outfield `Единицы Высоты Отлива`,  x1, yCurr,	x2-x1-1, outFieldHeight
	ui_infield{3} "iWorkUnitSillHgt", x2, yCurr-4, inFieldWidth1, inFieldHeight,
			8, "", 3, 1, 0, 0, 0, 0,
			"", stUnitFormats[1],	DIMUNIT_MM,
			"", stUnitFormats[2],	DIMUNIT_CM,
			"", stUnitFormats[3],	DIMUNIT_DM,
			"", stUnitFormats[4],	DIMUNIT_METER,
			"", stUnitFormats[5],	DIMUNIT_INCH,
			"", stUnitFormats[6],	DIMUNIT_PROJECT

	ui_outfield `Десятичные`,  x3, yCurr,	inFieldWidth2, outFieldHeight, 4 * _bLockSillHgtUnitDecimal
	ui_infield{3} "iWorkUnitSillHgtDecimal", x4 , yCurr-4,	inFieldWidthContMini, inFieldHeight,
			8, "", 3, 1, 0, 0, 0, 0,
			"", '0', 0,
			"", '1', 1,
			"", '2', 2,
			"", '3', 3,
			"", '4', 4

return


! =============================================================================
"callPlaceholder":
! -----------------------------------------------------------------------------
	! - Offered Tools: Door, Window
	call "label_placeholder" parameters bitAvailableTool = 8+16,
										bEnableUIContent = _isEnabledContent

return

