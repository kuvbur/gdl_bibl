<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="A8C978E3-4252-4230-9903-A916756A15EC" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["Libraryflobals-pokr"]]></MName>
		<MainGUID>D428728D-CE5B-4C97-B78F-49F061656F05</MainGUID>
	</Macro>
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
max_tip = 30
max_n = 10

dim tip_p_arr[60]
dim n_sloi_arr[60]
dim s_sloi_arr[60][10]
dim v_sloi_arr[60][10]
dim t_sloi_min_arr[60][10]
dim t_sloi_arr[60][10]
dim mat_arr[60]
dim germ_arr[60]
dim fill_arr[60]
dim fill_pen_arr[60]
dim fill_bac_arr[60]
dim strih_r_arr[10]
dim tolsh_r_arr[10]
dim tolsh_min_r_arr[10]
dim pokaz_arr[10]
mat_r = 0
n_sloi_r = 0
germ_r = 0
fill_r = 0
fill_pen_r = 0
fill_bac_r = 0
for i = 1 to max_n
	strih_r_arr[i] = 0
	tolsh_r_arr[i] = 0
	tolsh_min_r_arr[i] = 0
	pokaz_arr[i] = 0
	germ_arr[i]=0
	fill_arr[i] = 0
	fill_pen_arr[i]=0
	fill_bac_arr[i]=0
next i

success = LIBRARYGLOBAL ("Libraryflobals-pokr", "is_use_mview", is_use_mview)
success = LIBRARYGLOBAL ("Libraryflobals-pokr", "is_cfg_mview", is_cfg_mview)

read_flag = 0
if success > 0 then
	if is_use_mview and is_cfg_mview then
		read_flag = 1	
	else
		read_flag = 0
	endif
endif

if read_flag then
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "tip_p", tip_p_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "n_sloi", n_sloi_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "s_sloi", s_sloi_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "v_sloi", v_sloi_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "t_sloi", t_sloi_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "t_sloi_min", t_sloi_min_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "mat_tip", mat_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "germ_pot", germ_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "fill_tip", fill_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "fill_pen_tip", fill_pen_arr)
	success = LIBRARYGLOBAL ("Libraryflobals-pokr", "fill_bac_tip", fill_bac_arr)
	inx = 0
	for i = 1 to max_tip
		if tip_p_arr[i] = tip_pol then
			inx = i
		endif
	next i
	if inx > 0 then
		n_sloi_r = n_sloi_arr[inx]
		for i = 1 to max_n
			if i<=n_sloi_r then
				strih_r_arr[i] = s_sloi_arr[inx][i]
				tolsh_r_arr[i] = t_sloi_arr[inx][i]
				tolsh_min_r_arr[i] = t_sloi_min_arr[inx][i]
				pokaz_arr[i] = v_sloi_arr[inx][i]
			else
				strih_r_arr[i] = 0
				tolsh_r_arr[i] = 0
				pokaz_arr[i] = 0
			endif
		next i
		inx_osn = n_sloi_r+1
		strih_r_arr[inx_osn] = s_sloi_arr[inx][10]
		tolsh_r_arr[inx_osn] = t_sloi_arr[inx][10]
		tolsh_min_r_arr[inx_osn] = t_sloi_min_arr[inx][10]
		pokaz_arr[inx_osn] = v_sloi_arr[inx][10]
		mat_r = mat_arr[inx]
		germ_r = germ_arr[inx]
		fill_r = fill_arr[inx]
		fill_pen_r = fill_pen_arr[inx]
		fill_bac_r = fill_bac_arr[inx]
	endif
else
	n_sloi_r = -1
endif

if inx<=0 and read_flag = 1 then
	n_sloi_r = -2
else
	if inx<=0 and read_flag = 0 then
		n_sloi_r = -3
	endif
endif

if fill_pen_r<1 or fill_pen_r>254 then fill_pen_r = 1
if fill_bac_r<0 or fill_bac_r>254 then fill_pen_r = 0

r = REQUEST ("Name_of_main", "", main_name)
if main_name = "" then
	if n_sloi_r = 0 then text2 0, 0, "Слои отсутствуют " + tip_pol
	if n_sloi_r = -1 then text2 0, 0, "Чтение не выполнено"
	if n_sloi_r = -2 then text2 0, 0, "Тип пола не найден - " + tip_pol
	if n_sloi_r = -3 then text2 0, 0, "Ошибка чтения - " + tip_pol
	if n_sloi_r > 0 then
		for i = 1 to n_sloi_r+1
			skinFillName = ""
			Pos = request("Name_of_fill", strih_r_arr[i], skinFillName)
			string = str("%.0",i)+". "+ skinFillName +" "+str("%.0mm", tolsh_r_arr[i])
			text2 0, -i*0.5, string
		next i
	endif
endif
end n_sloi_r, tolsh_r_arr, tolsh_min_r_arr, strih_r_arr, pokaz_arr, mat_r, germ_r, fill_r, fill_pen_r, fill_bac_r
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<String Name="tip_pol">
			<Description><![CDATA[""]]></Description>
			<Value><![CDATA["1"]]></Value>
		</String>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author></Author>
	<License>
		<Type>CC0</Type>
		<Version>1.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

</Symbol>
