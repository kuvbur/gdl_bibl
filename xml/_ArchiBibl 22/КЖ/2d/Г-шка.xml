<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="8FB7D4B8-72DA-4ADB-8521-8FF0FEB3FB91" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["Список_диаметров"]]></MName>
		<MainGUID>F7CEFB3C-94EF-474E-8872-A1A04A8ED2EF</MainGUID>
	</Macro>
	<Macro>
		<MName><![CDATA["Вес_Гост"]]></MName>
		<MainGUID>7755D052-F534-48D8-8EF0-C1CCEBDA961D</MainGUID>
	</Macro>
	<Macro>
		<MName><![CDATA["Радиус_изгиба"]]></MName>
		<MainGUID>059C8095-8246-4D1B-A8B6-0EEF83E6203B</MainGUID>
	</Macro>
	<Macro>
		<MName><![CDATA["Параметры_показа"]]></MName>
		<MainGUID>9FEFEEA2-8B81-44A2-9E77-7E291528F11F</MainGUID>
	</Macro>
	<Macro>
		<MName><![CDATA["Libraryflobals-kzh"]]></MName>
		<MainGUID>F72542D8-E777-4AC3-B709-60D3307436E1</MainGUID>
	</Macro>
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
if not(show_2d) then end
PAPER_TO_MODEL = GLOB_SCALE / 1000
l_ended = 1*PAPER_TO_MODEL
HOTSPOT2 0, 0, unID, pos_x1, 1+128: unID=unID+1
HOTSPOT2 -1, 0, unID, pos_x1, 3: unID=unID+1
HOTSPOT2 pos_x1, 0, unID, pos_x1, 2: unID=unID+1

HOTSPOT2 0, diam_arm, unID, pos_x1, 1+128: unID=unID+1
HOTSPOT2 -1, diam_arm, unID, pos_x1, 3: unID=unID+1
HOTSPOT2 pos_x1, diam_arm, unID, pos_x1, 2: unID=unID+1

HOTSPOT2 0, 0, unID, pos_y, 1+128: unID=unID+1
HOTSPOT2 0, -1, unID, pos_y, 3: unID=unID+1
HOTSPOT2 0, pos_y, unID, pos_y, 2: unID=unID+1

HOTSPOT2 diam_arm, 0, unID, pos_y, 1+128: unID=unID+1
HOTSPOT2 diam_arm, -1, unID, pos_y, 3: unID=unID+1
HOTSPOT2 diam_arm, pos_y, unID, pos_y, 2: unID=unID+1

HOTSPOT2 diam_arm, diam_arm, unID, maxrad, 1+128: unID=unID+1
HOTSPOT2 diam_arm, diam_arm-1, unID, maxrad, 3: unID=unID+1
HOTSPOT2 diam_arm, diam_arm+maxrad, unID, maxrad, 2: unID=unID+1

HOTSPOT2 0, 0,unID: unID=unID+1
HOTSPOT2 maxrad+diam_arm,maxrad+diam_arm, unID

sn = 1
r_arm = diam_arm/2
centr = maxrad+diam_arm

if show_arm = 0 then gosub "solid"
if show_arm = 1 then gosub "wire"
LINE_PROPERTY 2
frame_fill = 1+2
PEN cpen
FILL fsp
POLY2_B NSP/3, frame_fill,flpen, ffpen,USE(NSP)
for i = 1 to NSP step 6
	if NSP>EPS then x1 = get(1)
	if NSP>EPS then y1 = get(1)
	if NSP>EPS then sn1 = get(1)
	if NSP>EPS then x2 = get(1)
	if NSP>EPS then y2 = get(1)
	if NSP>EPS then sn2 = get(1)
	if sn1=sn and sn2=sn then
		hotline2 x1,y1,x2,y2,unID: unID=unID+1
		if show_hotspot then
			hotspot2 x1,y1,unID: unID=unID+1
			hotspot2 x2,y2,unID: unID=unID+1
		endif
	endif
next i

if show_ended then gosub "ended"

end
"solid":
	put centr,0,sn
	put pos_x1,0,sn
	put pos_x1,diam_arm,sn
	put centr,diam_arm,sn
	put centr,centr,900+sn
	put 0,-90,4000+sn
	put diam_arm,centr,sn
	put diam_arm,pos_y,sn
	put 0,pos_y,sn
	put 0,centr,sn
	put centr,centr,900+sn
	put 0,90,4000+sn
return

"wire":
	put pos_x1,r_arm,sn
	put centr,r_arm,sn
	put centr,centr,900+sn
	put 0,-90,4000+sn
	put r_arm,centr,sn
	put r_arm,pos_y,sn
return

"ended":
	if NSP>0 then tt = max(GET(NSP))

	HOTSPOT2 pos_x1,r_arm, unID, ang_ended1, 6: unID=unID+1
	HOTSPOT2 pos_x1+0.9*l_ended,0, unID, ang_ended1, 4: unID=unID+1
	HOTSPOT2 pos_x1+0.9*l_ended*COS(ang_ended1), r_arm+0.9*l_ended*SIN(ang_ended1), unID,ang_ended1, 5: unID=unID+1
	if show_arm = 1 then
		put pos_x1,r_arm,600+sn
	else
		if ang_ended1<EPS then
			put pos_x1,0,600+sn
		else
			put pos_x1,diam_arm,600+sn
		endif
	endif
	put l_ended,ang_ended1,200+sn
	frame_fill = 1+2
	POLY2_ NSP/3, frame_fill,GET(NSP)

	HOTSPOT2 r_arm,pos_y, unID, ang_ended2, 6: unID=unID+1
	HOTSPOT2 r_arm+0.9*l_ended,0, unID, ang_ended2, 4: unID=unID+1
	HOTSPOT2 r_arm+0.9*l_ended*COS(ang_ended2),pos_y+0.9*l_ended*SIN(ang_ended2), unID,ang_ended2, 5: unID=unID+1
	if show_arm = 1 then
		put r_arm,pos_y,600+sn
	else
		if ang_ended2-45>EPS then
			put 0,pos_y,600+sn
		else
			put diam_arm,pos_y,600+sn
		endif
	endif
	put l_ended,ang_ended2,200+sn
	frame_fill = 1+2
	POLY2_ NSP/3, frame_fill,GET(NSP)
return

]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
unID=0
EPS=0.0001
dim arm_out[][] : arm_out[1][1] = ""

dim reinforce_class[8]
success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_class", reinforce_class)
values "marka" reinforce_class

dim diam_temp[]
call "Список_диаметров" PARAMETERS ALL class=marka, RETURNED_PARAMETERS diam_temp
values "diam_arm" diam_temp

weight=0 : gost=""
call "Вес_Гост" PARAMETERS ALL class=marka, diam_arm=diam_arm RETURNED_PARAMETERS weight, gost
PARAMETERS gost = gost, ves=weight

maxrad_round=0
call "Радиус_изгиба" PARAMETERS ALL class=marka, diam_arm=diam_arm RETURNED_PARAMETERS maxrad_round
if man_rad then
	if maxrad<diam_arm then parameters maxrad = maxrad_round
else
	parameters maxrad = maxrad_round
endif


call "Параметры_показа" PARAMETERS ALL 	pos=pos,
										subpos=subpos,
										class=marka,
										diam_arm=diam_arm,
										fon=0,
										plit=0,
										gnut=1,
	RETURNED_PARAMETERS show_2d, show_3d, mat, cpen, flpen, ffpen, rpen, fsr, fsp
PARAMETERS  cpen=cpen,
			flpen=flpen,
			ffpen=ffpen,
			fsp=fsp

]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[

]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
inx = 0

l1 = pos_x1-maxrad-diam_arm
l3 = pos_y-(maxrad+diam_arm)*2
ld = PI*(maxrad+diam_arm/2)*(90/180)
dlin_st = l1+l3+ld
parameters pos = GLOB_ID,dlin_st=dlin_st

pos = pos : inx = 2 : class = marka : diam_arm = diam_arm : gost = gost : dlin_st=dlin_st : shag = shag : GOSUB "SetOut"
parameters arm_out = arm_out

if GLOB_MODPAR_NAME = "pos_yt" then
	parameters pos_y = pos_yt + (maxrad+diam_arm)*2
else
	parameters pos_yt = pos_y - (maxrad+diam_arm)*2
endif

values "ang_ended1" 45, -45
values "ang_ended2" 45, 135

if GLOB_MODPAR_NAME = "pos_x1" then
	if eq2 then 
		parameters pos_x2 = pos_x1
	endif
else
	if eq2 then 
		parameters pos_x1 = pos_x2
	endif
endif

if GLOB_MODPAR_NAME = "pos_xt" then
	parameters pos_x1 = pos_x1 + pos_xt
endif

end
"SetOut":
	if inx<=0 then inx = 1
	ii = 0
	ii = ii + 1 : arm_out[inx][ii] = pos  !Позиция
	ii = ii + 1 : arm_out[inx][ii] = class  !Класс
	ii = ii + 1 : arm_out[inx][ii] = str("%.0mm", diam_arm)  !Диаметр
	ii = ii + 1 : arm_out[inx][ii] = gost  !ГОСТ
	ii = ii + 1 : arm_out[inx][ii] = shag  !Шаг
	ii = ii + 1 : arm_out[inx][ii] = str("%.0mm", dlin_st)  !Длина
return
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="subpos">
			<Description><![CDATA[""]]></Description>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="pos">
			<Description><![CDATA["Позиция"]]></Description>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="shag">
			<Description><![CDATA["Шаг в выноску"]]></Description>
			<Value><![CDATA["200"]]></Value>
		</String>
		<Length Name="diam_arm">
			<Description><![CDATA["Диаметр"]]></Description>
			<Value>0.007</Value>
		</Length>
		<String Name="marka">
			<Description><![CDATA["Класс"]]></Description>
			<Value><![CDATA["A-I(A240)"]]></Value>
		</String>

		<!-- arm_razm: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="arm_razm">
			<Description><![CDATA["Размеры"]]></Description>
		</Title>
		<Length Name="maxrad">
			<Description><![CDATA["Радиус гиба"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.012</Value>
		</Length>
		<Boolean Name="man_rad">
			<Description><![CDATA["Ручной радиус гиба"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="pos_y">
			<Description><![CDATA["Длина 1"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.5</Value>
		</Length>
		<Length Name="pos_x1">
			<Description><![CDATA["Ширина 2"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.5</Value>
		</Length>

		<!-- arm_spec: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="arm_spec">
			<Description><![CDATA["Спецификация"]]></Description>
		</Title>
		<String Name="gost">
			<Description><![CDATA["ГОСТ"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["ГОСТ 5781-82*"]]></Value>
		</String>
		<RealNum Name="ves">
			<Description><![CDATA["Масса"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.302</Value>
		</RealNum>
		<Length Name="dlin_st">
			<Description><![CDATA["Длина стержня"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.967347343065</Value>
		</Length>

		<!-- arm_2d: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="arm_2d">
			<Description><![CDATA["2d отображение"]]></Description>
		</Title>
		<Boolean Name="show_ended">
			<Description><![CDATA["Конец стержня"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="show_arm">
			<Description><![CDATA["Только ось"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="show_hotspot">
			<Description><![CDATA["Точки на поворотах"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<PenColor Name="cpen">
			<Description><![CDATA["Перо"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<FillPattern Name="fsp">
			<Description><![CDATA["Штриховка"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>24</Value>
		</FillPattern>
		<PenColor Name="flpen">
			<Description><![CDATA["Перо штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3</Value>
		</PenColor>
		<PenColor Name="ffpen">
			<Description><![CDATA["Перо фона штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<Angle Name="ang_ended1">
			<Description><![CDATA["Отгиб 1"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>45</Value>
		</Angle>
		<Angle Name="ang_ended2">
			<Description><![CDATA["Отгиб 2"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>45</Value>
		</Angle>
		<String Name="arm_out">
			<Description><![CDATA["Вывод в выноску"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="2" SecondDimension="6">
				<AVal Column="1" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="2" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="3" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="4" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="5" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="6" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="1" Row="2"><![CDATA[""]]></AVal>
				<AVal Column="2" Row="2"><![CDATA["A-I(A240)"]]></AVal>
				<AVal Column="3" Row="2"><![CDATA["7"]]></AVal>
				<AVal Column="4" Row="2"><![CDATA["ГОСТ 5781-82*"]]></AVal>
				<AVal Column="5" Row="2"><![CDATA["200"]]></AVal>
				<AVal Column="6" Row="2"><![CDATA["967"]]></AVal>
			</ArrayValues>
		</String>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author></Author>
	<License>
		<Type>CC0</Type>
		<Version>1.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

</Symbol>
