<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="58FC8403-61DA-4733-950D-CDBDD2C7837C" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="43">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["Libraryflobals-kzh"]]></MName>
		<MainGUID>F72542D8-E777-4AC3-B709-60D3307436E1</MainGUID>
	</Macro>
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
for i=1 to vardim1(arm_out)
	for j=1 to vardim2(arm_out)
		text2 j*2,i,arm_out[i][j]
	next j
next i
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
dim reinforce_gost[8]
dim reinforce_class[8]
dim reinforce_diam[16][8]
dim reinforce_weight[16][8]
dim diam_temp[] : diam_temp[1] = 0
success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_class", reinforce_class)
success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_gost", reinforce_gost)
success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_diam", reinforce_diam)
success = LIBRARYGLOBAL ("Libraryflobals-kzh", "reinforce_weight", reinforce_weight)
dim arm_out[][] : arm_out[1][1] = ""


values "marka_1" reinforce_class
dim diam_1_temp[] : diam_1_temp[1] = 0
if GLOB_MODPAR_NAME = "marka" or diam_1_temp[1] = 0 then 
	class = marka_1
	GOSUB "GetDiametr"
	diam_1_temp = diam_temp
endif
values "diam_arm_1" diam_1_temp
if GLOB_MODPAR_NAME = "diam_arm_1" or maxrad_1=0 then
	class = marka_1
	diam_arm = diam_arm_1 
	GOSUB "Diametr2Weight"
	GOSUB "GetMaxRad"
endif
pos = pos_1 : class = marka_1 : diam_arm = diam_arm_1 : gost = gost_1 : GOSUB "SetOut"
parameters maxrad_1 = maxrad, gost_1 = gost, ves_1 = weight





parameters arm_out = arm_out
end
"GetDiametr":
	gost = ""
	nstolb = 0
	for i = 1 to vardim1(reinforce_class)
		if class = reinforce_class[i] then nstolb = i
	next i
	gost = reinforce_gost[nstolb]
	if nstolb <= 0 then nstolb = 1
	i = 1 : usl = 0
	REPEAT
		diam_temp[i] = reinforce_diam[i][nstolb]
		i = i + 1
		if i <= vardim1(reinforce_diam) and i>0 then
			usl = (reinforce_diam[i][nstolb] = 0)
		else
			usl = 1
		endif
	UNTIL usl
return

"Diametr2Weight":
	nstrok = 1
	weight = 0
	if nstolb = 0 then nstolb = 1
	for i = 1 to vardim1(reinforce_diam)
		if diam_arm = reinforce_diam[i][nstolb] then nstrok = i
	next i
	weight = reinforce_weight[nstrok][nstolb]
return

"GetMaxRad":
	maxrad=diam_arm/2
	if strstr(class,"240")<>0 AND diam_arm<=0.02 then maxrad=2.5*diam_arm/2+diam_arm/2
	if strstr(class,"240")<>0 AND diam_arm>0.02 then maxrad=2.5*diam_arm/2+diam_arm/2
	if strstr(class,"300")<>0 AND diam_arm<=0.02 then maxrad=4*diam_arm/2+diam_arm/2
	if strstr(class,"300")<>0 AND diam_arm>0.02 then maxrad=6*diam_arm/2+diam_arm/2
	if strstr(class,"400")<>0 AND diam_arm<=0.02 then maxrad=5*diam_arm/2+diam_arm/2
	if strstr(class,"400")<>0 AND diam_arm>0.02 then maxrad=8*diam_arm/2+diam_arm/2
	if strstr(class,"500")<>0 AND diam_arm<=0.02 then maxrad=6*diam_arm/2+diam_arm/2
	if strstr(class,"500")<>0 AND diam_arm>0.02 then maxrad=8*diam_arm/2+diam_arm/2
return

"SetOut":
	if inx<=0 then inx = 1
	ii = 0
	ii = ii + 1 : arm_out[inx][ii] = pos  !Позиция
	ii = ii + 1 : arm_out[inx][ii] = class  !Класс
	ii = ii + 1 : arm_out[inx][ii] = str("%.0mm", diam_arm)  !Диаметр
	ii = ii + 1 : arm_out[inx][ii] = gost  !ГОСТ
	ii = ii + 1 : arm_out[inx][ii] = ""  !Шаг
	ii = ii + 1 : arm_out[inx][ii] = ""  !Длина
return
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<ParamSection SectVersion="22" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="arm_out">
			<Description><![CDATA[""]]></Description>
			<ArrayValues FirstDimension="1" SecondDimension="6">
				<AVal Column="1" Row="1"><![CDATA["1"]]></AVal>
				<AVal Column="2" Row="1"><![CDATA["A-IV"]]></AVal>
				<AVal Column="3" Row="1"><![CDATA["10"]]></AVal>
				<AVal Column="4" Row="1"><![CDATA["ГОСТ 5781-82*"]]></AVal>
				<AVal Column="5" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="6" Row="1"><![CDATA[""]]></AVal>
			</ArrayValues>
		</String>
		<String Name="pos_1">
			<Description><![CDATA["Позиция"]]></Description>
			<Value><![CDATA["1"]]></Value>
		</String>
		<Length Name="diam_arm_1">
			<Description><![CDATA[""]]></Description>
			<Value>0.01</Value>
		</Length>
		<String Name="marka_1">
			<Description><![CDATA[""]]></Description>
			<Value><![CDATA["A-IV"]]></Value>
		</String>
		<Length Name="maxrad_1">
			<Description><![CDATA[""]]></Description>
			<Value>0.005</Value>
		</Length>
		<String Name="gost_1">
			<Description><![CDATA[""]]></Description>
			<Value><![CDATA["ГОСТ 5781-82*"]]></Value>
		</String>
		<RealNum Name="ves_1">
			<Description><![CDATA[""]]></Description>
			<Value>0.617</Value>
		</RealNum>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author></Author>
	<License>
		<Type>CC0</Type>
		<Version>1.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

</Symbol>
