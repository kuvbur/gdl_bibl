<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="90D17627-7F4E-4B87-B181-A7F92906FF34" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="43">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>43EC5FE8-94F1-488F-8E9C-A63483E499C1</MainGUID>
</Ancestry>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="1" length_in_bytes="982" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001D0000
	001B0803000000B71474200000000467414D4100009C40200DE4CB0000030050
	4C54454B8B8B0000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000B6117FC2000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000244944
	4154789C63601805D403FFF189FEC721FB1FA2E63F7600D18D572F017B470155
	0000550724DC63139E760000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="2" length_in_bytes="983" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001D0000
	001B0803000000B71474200000000467414D4100009C40200DE4CB0000030050
	4C54454B8B8B0000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000B6117FC2000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000254944
	4154789C636018055402FFC108970410E29085CAFDC70EE0F2B8F5E2B5771450
	09000018252ED24F0EC9690000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="3" length_in_bytes="991" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001D0000
	001B0803000000B71474200000000467414D4100009C40200DE4CB0000030050
	4C54454B8B8B0000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000B6117FC2000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E0000002D4944
	4154789C63601820F01F8C704900210E59A8DC7FEC002E8F5B2F017BF1B978A0
	642901F8CD1E7E2A68060045C147B9F6A9D1D20000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="4" length_in_bytes="1014" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001D0000
	001B0803000000B71474200000000467414D4100009C40200DE4CB0000030050
	4C54454B8B8B0000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000B6117FC2000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000444944
	4154789C63601820F01F8C704900210E59A8DC7FEC002E8F5B2F017BF1B978A0
	64F10142B2F8CCFE8FD7F6FF482C4C15FFD178E87C6C2EC12D8BCF1DA4A9A019
	0000A7C14EB281719B5A0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="5" length_in_bytes="961" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000250000
	001108030000006DAB958A0000000467414D4100009C40200DE4CB0000030050
	4C544500000000000C0C0000000C000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	00000009182D6C000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E0000000F4944
	4154789C63601805A360A0010002860001E8FBD4040000000049454E44AE4260
	82
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="6" length_in_bytes="1024" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001E0000
	0019080300000011EB6E280000000467414D4100009C40200DE4CB0000030050
	4C544500000004030A08060D08080C0A09100000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000893B3473000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E0000004E4944
	4154789CDD90310E002008031DEEFF6F7640496BEA0314079A122EC5317E2EA2
	1413EF37D90A3517940CA75D4586743124B5C6695A761CEE1C3A5D82AF45BD30
	9164EED7B013D4CBDFFB4E4D689E010510AB46A30000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="7" length_in_bytes="1015" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001E0000
	002208030000007F5699460000000467414D4100009C40200DE4CB0000030050
	4C54450000000904000908001006000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000A79CC613000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000454944
	4154789C6360A033600613CCD8C53198584DC0224F400B7EC5600399413433A9
	468D82E10B202915293D302391A82C6485CC58C470998E878F5D11332CFBD027
	A50200CDF9007090DA703B0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="8" length_in_bytes="999" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000270000
	005C0803000000DA985C050000000467414D4100009C40200DE4CB0000030050
	4C54450000000A04000A08001006000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000009420B1D6000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000354944
	4154789CEDD2C909003008044021FDF76C0B1258FDCCBC65F1AA02804FEFBA01
	1C814BBE6F476CCF89E07966A272CEECB1CC067385002B7636FEC70000000049
	454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="9" length_in_bytes="1030" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001E0000
	00790803000000191F61720000000467414D4100009C40200DE4CB0000030050
	4C5445000000FFFFFF8082817F807E0000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	000000EFC8170F000000097048597300000AEB00000AEB01828B0D5A0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D6061307110B041BB45E000000544944
	4154789CEDD4D10A00100C856187F77F6742291911199DEF4E7F76B719238014
	163280F51C62D527724CF5F87E2E2F87C4B673FE274D1F64A277EDBC0EAAF2C8
	D9E9441F50BCDFBC0E445729DE6F5E07A53C6995004F1570CF81000000004945
	4E44AE426082
	]]>
</GDLPict>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! ======================================================
	unID=1
	
! ======================================================
! Удержание ориентации маркера (верх/низ) при редактировании нескольких отметок сразу. (работает)
! Удержание разблокированного отступа полки на нужном растоянии при смене масштаба. (работает)
! Удержание разблокированного отступа полки на нужном растоянии
! при редактировании нескольких отметок сразу. (сделать неудалось)
! ======================================================
	IF txtOrientMarker = "Вверху" THEN
		IF orientMarker_sc > 0 AND orientMarker_sc < UpPos/1000*A_   THEN	orientMarker_sc = UpPos/1000*A_
		IF FixMarkerSize = 0 THEN orientMarker_sc  = MAX(UpPos /1000*A_, orientMarker_sc)
		IF FixMarkerSize = 1 THEN orientMarker_fix = UpPos
		IF FixMarkerSize = 1 THEN orientMarker_sc  = UpPos /1000*A_
	ENDIF
	IF txtOrientMarker = "Внизу" THEN
		IF orientMarker_sc < 0 AND orientMarker_sc > DownPos/1000*A_ THEN	orientMarker_sc = DownPos/1000*A_
		IF FixMarkerSize = 0 THEN orientMarker_sc  = MIN(DownPos /1000*A_, orientMarker_sc)
		IF FixMarkerSize = 1 THEN orientMarker_fix = DownPos
		IF FixMarkerSize = 1 THEN orientMarker_sc  = DownPos /1000*A_
	ENDIF
	
! ======================================================
! Преобразования
! ======================================================
	IF FixMarkerSize THEN
		orientMarker_sc = orientMarker_fix /1000*A_
		orientMarker = orientMarker_fix /1000*A_
		orientMarker_fix = orientMarker_fix /1000*A_
	ELSE
		orientMarker = orientMarker_sc
	ENDIF
	
	IF scalability = "Фиксированная" THEN
		Gap = Gap_fix /1000*A_
		Gap_fix = Gap_fix /1000*A_
		LineLength = LineLength_fix /1000*A_
		LineLength_fix = LineLength_fix /1000*A_
	ENDIF
	
! ======================================================
! Сокращения
! ======================================================
	sizeArrow   = sizeArrow /1000*A_
	hFontStyle1 = hFontStyle1 /1000*A_
	hFontStyle2 = hFontStyle2 /1000*A_
	
! ======================================================
! Фоновая штриховка
! ======================================================
	DRAWINDEX 10
	IF bOpaque THEN
		FILL f ! "Solid Fill"
		PEN penOpaque
			POLY2_B  5, 2, penOpaque, 0,
					 0, orientMarker, 1,
					-LOpaque, orientMarker, 1,
					-LOpaque, orientMarker + hFontStyle1, 1,
					 0, orientMarker + hFontStyle1, 1,
					 0, orientMarker, -1
	ENDIF
	
! ======================================================
! Варианты выносной линии и точки на ней
! ======================================================
	DRAWINDEX 20
	PEN penLine
	
	IF NOT(wLine1) THEN
		HOTSPOT2 A, 0, unID: unID=unID+1
	ENDIF
	
	IF wLine2 THEN
		LINE2 -sizeArrow, 0, sizeArrow, 0
	ENDIF
	
	IF wLine3 THEN
			LINE2 -sizeArrow, 0, LineLength, 0
		IF scalability = "Фиксированная" THEN
			HOTSPOT2           0, 0, unID, LineLength, 1+128, LineLength_fix: unID=unID+1
			HOTSPOT2  LineLength, 0, unID, LineLength,     2, LineLength_fix: unID=unID+1
			HOTSPOT2          -1, 0, unID, LineLength,     3, LineLength_fix: unID=unID+1
		ELSE
			HOTSPOT2           0, 0, unID, LineLength, 1+128: unID=unID+1
			HOTSPOT2  LineLength, 0, unID, LineLength,     2: unID=unID+1
			HOTSPOT2          -1, 0, unID, LineLength,     3: unID=unID+1
		ENDIF
	ENDIF
	
	IF wLine4 THEN
		ADD2 A, 0
			LINE2 MAX(-Gap, -(A - sizeArrow)), 0,  -(A + sizeArrow), 0
		IF scalability = "Фиксированная" THEN
			HOTSPOT2                          0, 0, unID, Gap, 1+128, Gap_fix: unID=unID+1
			HOTSPOT2  MAX(-Gap, -A + sizeArrow), 0, unID, Gap,     2, Gap_fix: unID=unID+1
			HOTSPOT2                          1, 0, unID, Gap,     3, Gap_fix: unID=unID+1
		ELSE
			HOTSPOT2                          0, 0, unID, Gap, 1+128: unID=unID+1
			HOTSPOT2  MAX(-Gap, -A + sizeArrow), 0, unID, Gap,     2: unID=unID+1
			HOTSPOT2                          1, 0, unID, Gap,     3: unID=unID+1
		ENDIF
		DEL 1
	ENDIF
	
! ======================================================
! Полка, линия отступа и точка определения положения (верх/низ)
! ======================================================
	bSerif = 1
	IF iArrowType = 1 OR iArrowType = 3 THEN bSerif = 0
	
		LINE2 0, 0, 0, orientMarker + sizeArrow *bSerif *SGN(OrientMarker)
		LINE2 sizeArrow *bSerif, orientMarker, -LShelf, orientMarker
	
	IF FixMarkerSize THEN
		HOTSPOT2 0,               0, unID, orientMarker_sc, 1, orientMarker_fix: unID=unID+1
		HOTSPOT2 0, orientMarker_sc, unID, orientMarker_sc, 2, orientMarker_fix: unID=unID+1
		HOTSPOT2 0,              -1, unID, orientMarker_sc, 3, orientMarker_fix: unID=unID+1
	ELSE
		HOTSPOT2 0,               0, unID, orientMarker_sc, 1: unID=unID+1
		HOTSPOT2 0, orientMarker_sc, unID, orientMarker_sc, 2: unID=unID+1
		HOTSPOT2 0,              -1, unID, orientMarker_sc, 3: unID=unID+1
	ENDIF
	
! ======================================================
! Варианты стрелки
! ======================================================
	DRAWINDEX 50
	IF iArrowType < 6 THEN	PEN penArrow
	
		LINE2 0, 0, sizeArrow, sizeArrow *SGN(OrientMarker)
		LINE2 sizeArrow *(iArrowType > 4), sizeArrow *(iArrowType > 4) *SGN(OrientMarker), -sizeArrow, sizeArrow *SGN(OrientMarker)
	
	FILL 64 ! "Solid Fill"
	IF iArrowType > 2 AND iArrowType < 6 THEN
		  POLY2_  3, 7 + 32,
				  0, 0, 1,
				  sizeArrow, sizeArrow *SGN(OrientMarker), 1,
				 -sizeArrow *(iArrowType < 5), sizeArrow *SGN(OrientMarker), 1
	ENDIF
	
! ======================================================
! Звездочка
! ======================================================
	IF txtOption = "Специальный текст" OR DimOrigin > 0 OR RoundValue > 0.001 THEN
		IF GLOB_CONTEXT > 20 AND GLOB_CONTEXT < 30 THEN
			ADD2 hFontStyle1 /2, orientMarker + hFontStyle1 /2
				LINE2  0, -hFontStyle2 /3, 0, hFontStyle2 /3
				LINE2 -hFontStyle2 /3 *COS(30), -hFontStyle2 /3 *SIN(30), hFontStyle2 /3 *COS(30),  hFontStyle2 /3 *SIN(30)
				LINE2 -hFontStyle2 /3 *COS(30),  hFontStyle2 /3 *SIN(30), hFontStyle2 /3 *COS(30), -hFontStyle2 /3 *SIN(30)
			DEL 1
		ENDIF
	ENDIF
	
! ======================================================
! Тексты
! ======================================================
	PEN penFont
		RICHTEXT2 -sizeArrow, orientMarker, "UpTextBlock"
		RICHTEXT2 -sizeArrow - 0.3 *sizeArrow *(SGN(OrientMarker) > EPS), orientMarker - hFontStyle2, "DownTextBlock"
	
! ======================================================
	END
! ======================================================

]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<ParamSection SectVersion="27" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_FixSize/>
			<STBit_UIUseHierarchicalPages/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Boolean Name="pl">
			<Description><![CDATA["На плане"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Length Name="A">
			<Description><![CDATA["Расстояние до точки привязки"]]></Description>
			<Fix/>
			<Value>0.5</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Y Dimension"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.0001</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показыв. 2D-узл.т. в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Уровень внизу"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Уровень вверху"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- all_spec: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="all_spec">
			<Description><![CDATA["Спецификация"]]></Description>
			<Fix/>
		</Title>
		<String Name="txtArrowType">
			<Description><![CDATA["Тип Стрелки"]]></Description>
			<Value><![CDATA["Стандарт"]]></Value>
		</String>
		<String Name="wLineType">
			<Description><![CDATA["Тип Выносной линии"]]></Description>
			<Value><![CDATA["Вынос. линия с заданным пробелом"]]></Value>
		</String>
		<Boolean Name="wLine1">
			<Description><![CDATA["Без выносной линии"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="wLine2">
			<Description><![CDATA["Вынос. линия по размеру маркера"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="wLine3">
			<Description><![CDATA["Вынос. линия заданного размера"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="wLine4">
			<Description><![CDATA["Вынос. линия с заданным пробелом"]]></Description>
			<Value>1</Value>
		</Boolean>
		<String Name="txtOrientMarker">
			<Description><![CDATA["Положение Маркера"]]></Description>
			<Value><![CDATA["Вверху"]]></Value>
		</String>
		<Length Name="orientMarker_sc">
			<Description><![CDATA["Отступ Полки"]]></Description>
			<Value>0.5</Value>
		</Length>
		<RealNum Name="orientMarker_fix">
			<Description><![CDATA["Отступ Полки"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>5</Value>
		</RealNum>
		<RealNum Name="sizeArrow">
			<Description><![CDATA["Размер Стрелки"]]></Description>
			<Value>2</Value>
		</RealNum>
		<RealNum Name="LineLength_fix">
			<Description><![CDATA["Длина выносной линии"]]></Description>
			<Value>5</Value>
		</RealNum>
		<Length Name="LineLength">
			<Description><![CDATA["Длина выносной линии"]]></Description>
			<Value>0.5</Value>
		</Length>
		<RealNum Name="Gap_fix">
			<Description><![CDATA["Длина пробела"]]></Description>
			<Value>3</Value>
		</RealNum>
		<Length Name="Gap">
			<Description><![CDATA["Длина пробела"]]></Description>
			<Value>0.3</Value>
		</Length>

		<!-- Text_Setting: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="Text_Setting">
			<Description><![CDATA["Тексты"]]></Description>
		</Title>
		<String Name="txtOption">
			<Description><![CDATA["Размерное число"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Вычисленное значение"]]></Value>
		</String>
		<String Name="customTextDimY">
			<Description><![CDATA["Специальный текст"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["0,000"]]></Value>
		</String>
		<String Name="superText">
			<Description><![CDATA["Верхний индекс"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="dop">
			<Description><![CDATA["Доп.текст"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<String Name="addText">
			<Description><![CDATA["Дополнительный текст"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Length Name="popr">
			<Description><![CDATA["Поправка"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Integer Name="ref_story">
			<Description><![CDATA["Относительно этажа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Integer>

		<!-- Font_and_Pens: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="Font_and_Pens">
			<Description><![CDATA["Шрифт и Перья"]]></Description>
		</Title>
		<FillPattern Name="f">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>23</Value>
		</FillPattern>
		<String Name="Shrift">
			<Description><![CDATA["Шрифт"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["ISOCPEUR"]]></Value>
		</String>
		<RealNum Name="Shrift_razm">
			<Description><![CDATA["Размер шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3</Value>
		</RealNum>
		<Integer Name="Shrift_tip">
			<Description><![CDATA["Тип (обычный, курсив, жирный)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<String Name="Shrift_fille">
			<Description><![CDATA["Имя стиля"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["3"]]></Value>
		</String>

		<!-- label_sp: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="label_sp">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="label_posxyz">
			<Description><![CDATA["Привязка выносной надписи"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="3" SecondDimension="0">
				<AVal Row="1">0</AVal>
				<AVal Row="2">0</AVal>
				<AVal Row="3">0</AVal>
			</ArrayValues>
		</Length>
		<Length Name="label_posang">
			<Description><![CDATA["Угла поворота выносной надписи"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="2" SecondDimension="0">
				<AVal Row="1">0</AVal>
				<AVal Row="2">0</AVal>
			</ArrayValues>
		</Length>
		<Boolean Name="label_posset">
			<Description><![CDATA["Есть данные для передачи в выноску"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="nameFont">
			<Description><![CDATA["Имя Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["Yu Gothic UI Кириллический"]]></Value>
		</String>
		<Boolean Name="typeFont_b">
			<Description><![CDATA['Начертание "Жирный"']]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="typeFont_i">
			<Description><![CDATA['Начертание "Курсив"']]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<RealNum Name="sizeFont">
			<Description><![CDATA["Размер Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</RealNum>
		<Boolean Name="bOpaque">
			<Description><![CDATA["Подложка для Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<PenColor Name="penOpaque">
			<Description><![CDATA["Перо Подложки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>125</Value>
		</PenColor>
		<PenColor Name="penFont">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="penLine">
			<Description><![CDATA["Перо Полки и Выноски"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="penArrow">
			<Description><![CDATA["Перо Стрелки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<Integer Name="penOpaque_">
			<Description><![CDATA["Перо Подложки"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>125</Value>
		</Integer>
		<Integer Name="penFont_">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Integer Name="penLine_">
			<Description><![CDATA["Перо Полки и Выноски"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Integer Name="penArrow_">
			<Description><![CDATA["Перо Стрелки"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>

		<!-- Special_Setting: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="Special_Setting">
			<Description><![CDATA["Дополн. настройки"]]></Description>
		</Title>
		<Length Name="DimOrigin">
			<Description><![CDATA["Начало размеров от:"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="txtRoundValue">
			<Description><![CDATA["Округлить значение до:"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["0,001"]]></Value>
		</String>
		<Boolean Name="bShowPlus">
			<Description><![CDATA['Показывать знак "+"']]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="bPlusMinus">
			<Description><![CDATA['Знак "±" с нулем']]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="scalability">
			<Description><![CDATA["Масштабируемость выносных линий"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Масштабируемая"]]></Value>
		</String>
		<RealNum Name="multiplierSA">
			<Description><![CDATA["Коэфф. min отступа полки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2.5</Value>
		</RealNum>
		<Boolean Name="FixMarkerSize">
			<Description><![CDATA["Заблокировать отступ полки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="maxShelf">
			<Description><![CDATA["Длина полки по максимуму"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_ui_current_page">
			<Description><![CDATA["Текущая страница интерфейса"]]></Description>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<String Name="gs_ui_but_txt">
			<Description><![CDATA["Тексты кнопок"]]></Description>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="2" SecondDimension="0">
				<AVal Row="1"><![CDATA["Параметры маркера и выносной линии"]]></AVal>
				<AVal Row="2"><![CDATA["Шрифт и Текст"]]></AVal>
			</ArrayValues>
		</String>

		<!-- _sp0: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="_sp0">
			<Description><![CDATA["3д"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<String Name="obozn">
			<Description><![CDATA["Обозначение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="naen">
			<Description><![CDATA["Наименование"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="ves">
			<Description><![CDATA["Масса ед., кг."]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<Integer Name="kol_vo_spec">
			<Description><![CDATA["Кол-во"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<String Name="komment">
			<Description><![CDATA["Комментарий"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[" "]]></Value>
		</String>
		<String Name="subpos">
			<Description><![CDATA["Входит в сборку"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="tip_el">
			<Description><![CDATA["Тип элемента"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[" "]]></Value>
		</String>
		<String Name="param_name_out">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="2" SecondDimension="0">
				<AVal Row="1"><![CDATA["naen - наименование"]]></AVal>
				<AVal Row="2"><![CDATA["obozn - обозначение"]]></AVal>
			</ArrayValues>
		</String>
		<Boolean Name="show_subpos">
			<Description><![CDATA["Показ по сборкам"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="show_marker">
			<Description><![CDATA["Показ маркировки сборки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="manual_elev">
			<Description><![CDATA["Вручную выставить собственный этаж"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="n_elev">
			<Description><![CDATA["Номер этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<String Name="ur">
			<Description><![CDATA["Уровень"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Length Name="ur_num">
			<Description><![CDATA["Уровень числом"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>

		<!-- d2vid: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="d2vid">
			<Description><![CDATA["2D-представление"]]></Description>
			<Fix/>
		</Title>

		<!-- _sp1: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="_sp1">
			<Description><![CDATA["2D-представление"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="krat_txt">
			<Description><![CDATA["Кратность размеров"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.001</Value>
		</Length>
		<Integer Name="krat">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1000</Value>
		</Integer>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Перо контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="gs_sec_pen">
			<Description><![CDATA["Перо сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Образец штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>140</Value>
		</FillPattern>
		<FillPattern Name="gs_fill_type_sec">
			<Description><![CDATA["Штриховка в сечении"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Перо штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Перо фона щтриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<LineType Name="gs_line_type">
			<Description><![CDATA["Тип линии"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cont_pen_up">
			<Description><![CDATA["Перо контура этажом выше"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type_up">
			<Description><![CDATA["Образец штриховки этажом выше"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen_up">
			<Description><![CDATA["Перо штриховки этажом выше"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="gs_back_pen_up">
			<Description><![CDATA["Перо фона штриховки этажом выше"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<LineType Name="gs_line_type_up">
			<Description><![CDATA["Тип линии этажом выше"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>21</Value>
		</LineType>
		<PenColor Name="gs_cont_pen_down">
			<Description><![CDATA["Перо контура этажом ниже"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type_down">
			<Description><![CDATA["Образец штриховки этажом ниже"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen_down">
			<Description><![CDATA["Перо штриховки этажом ниже"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="gs_back_pen_down">
			<Description><![CDATA["Перо фона штриховки этажом ниже"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<LineType Name="gs_line_type_down">
			<Description><![CDATA["Тип линии этажом ниже"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>21</Value>
		</LineType>
		<Material Name="gs_ifc_mat">
			<Description><![CDATA["Покрытие IFC"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>53</Value>
		</Material>
		<Boolean Name="gs_StorySensitive">
			<Description><![CDATA["Изменять отображение на других этажах"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>

		<!-- shrift_sp0: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="shrift_sp0">
			<Description><![CDATA["Шрифт"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="G">
			<Description><![CDATA["Поворот (вокруг x)"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="gs_detlevel_3D">
			<Description><![CDATA["Уровень 3D-деталей"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["Детальный"]]></Value>
		</String>
		<Boolean Name="gs_shadow">
			<Description><![CDATA["Отбрасывание теней"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Integer Name="gs_resol">
			<Description><![CDATA["Аппроксимация"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Material Name="mat1">
			<Description><![CDATA["Покрытие"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>19</Value>
		</Material>
		<Boolean Name="gs_CustomWidth">
			<Description><![CDATA["Спец. ширина"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<RealNum Name="nn">
			<Description><![CDATA["Размер шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</RealNum>
		<Angle Name="ug">
			<Description><![CDATA["Угол"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>90</Value>
		</Angle>
		<Boolean Name="iscall">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="call_y">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="mrh_reference_heigh">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Integer Name="mrh_ref_story_val">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="7" SecondDimension="0">
				<AVal Row="1">0</AVal>
				<AVal Row="2">1</AVal>
				<AVal Row="3">2</AVal>
				<AVal Row="4">4</AVal>
				<AVal Row="5">5</AVal>
				<AVal Row="6">6</AVal>
				<AVal Row="7">7</AVal>
			</ArrayValues>
		</Integer>
		<String Name="mrh_ref_story_text">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="7" SecondDimension="0">
				<AVal Row="1"><![CDATA["Нет"]]></AVal>
				<AVal Row="2"><![CDATA["Текущий этаж"]]></AVal>
				<AVal Row="3"><![CDATA["Собств. этаж"]]></AVal>
				<AVal Row="4"><![CDATA["Проектный Нуль"]]></AVal>
				<AVal Row="5"><![CDATA["1-й уровень привязки"]]></AVal>
				<AVal Row="6"><![CDATA["2-й уровень привязки"]]></AVal>
				<AVal Row="7"><![CDATA["Уровень Моря"]]></AVal>
			</ArrayValues>
		</String>
	</Parameters>
</ParamSection>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["macro_reference_height"]]></MName>
		<MainGUID>9588FF3E-C168-496C-8387-01A4E20F8EEB</MainGUID>
	</Macro>
	<Macro>
		<MName><![CDATA["Общий шаблон элемента"]]></MName>
		<MainGUID>43EC5FE8-94F1-488F-8E9C-A63483E499C1</MainGUID>
	</Macro>
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! Document name:
!   Name     : Отметка высоты (ГОСТ) / Elevation Dimension (GOST)
!   Version  : 10.0
!   Author   : Вилисов В.Ю. (Valery W)
!   Date     : 20 June 2006
!   Modified : 18 September 2006
!   Modified : 10 February 2007
!
! ======================================================
EPS=0.0001

! ======================================================
! Определение единицы измерения
! ======================================================
	wlu = ""
	rrr = REQUEST ("Working_length_unit", "", wlu) 	! Запрос системы измерения
	unit = ""
	IF STRSTR (wlu, "m")  THEN unit = "м"
	IF STRSTR (wlu, "cm") THEN unit = "см"
	IF STRSTR (wlu, "mm") THEN unit = "мм"
	IF STRSTR (wlu, "df") THEN unit = "df"
	IF STRSTR (wlu, "fi") THEN unit = "fi"
	IF STRSTR (wlu, "di") THEN unit = "di"
	ElevDimUnit = ""
	if GLOB_SCRIPT_TYPE = 2 then rr = REQUEST ("Elevation_dimension", "", ElevDimUnit) 	! Запрос размерной единицы высоты
	
! ======================================================
! Преобразование текста в значения
! ======================================================
	IF txtRoundValue = "0,001"	 THEN	RoundValue = 0.001
	IF txtRoundValue = "0,005"	 THEN	RoundValue = 0.005
	IF txtRoundValue = "0,010"	 THEN	RoundValue = 0.010
	IF txtRoundValue = "0,025"	 THEN	RoundValue = 0.025
	IF txtRoundValue = "0,050"	 THEN	RoundValue = 0.050
	
	IF txtArrowType = "Стандарт" THEN	iArrowType = 1
	IF txtArrowType = "Эскиз 1"	 THEN	iArrowType = 2
	IF txtArrowType = "Эскиз 2"	 THEN	iArrowType = 3
	IF txtArrowType = "Эскиз 3"	 THEN	iArrowType = 4
	IF txtArrowType = "Эскиз 4"	 THEN	iArrowType = 5
	IF txtArrowType = "Эскиз 5"	 THEN	iArrowType = 6
	
! ======================================================
! Запрос списка шрифтов в системе
! ======================================================
	DIM fontNames[]
	n = request("FONTNAMES_LIST", "", fontNames)
	
! ======================================================
! Установка стилей
! ======================================================
	DEFINE STYLE{2} "normalText" nameFont, sizeFont,	 Shrift_tip
	DEFINE STYLE{2} "superText"  nameFont, sizeFont,	 Shrift_tip+32
	DEFINE STYLE{2} "smallText"  nameFont, sizeFont*3/4, Shrift_tip
! ======================================================
! Установка Размерного текста
! ======================================================

!<----- Получение поправки для привязки к уровню -----------
mrh_ref_story = ref_story
dim mrh_ref_story_text[7] : mrh_ref_story_text[1] = ""
dim mrh_ref_story_val[7] : mrh_ref_story_val[1] = 0
mrh_reference_heigh = 0
call "macro_reference_height" parameters mrh_ref_story = mrh_ref_story,
								RETURNED_PARAMETERS mrh_reference_heigh, mrh_ref_story_text, mrh_ref_story_val
!>----- Получение поправки для привязки к уровню -----------
if ref_story>0 then DimOrigin = mrh_reference_heigh
DimOrigin = DimOrigin + popr
symb = SYMB_POS_Z
if pl=0 then symb=SYMB_POS_Y
if iscall then symb=call_y

DimY = INT((symb - DimOrigin + RoundValue/2) /RoundValue) *RoundValue
Dimf = INT((symb - DimOrigin + RoundValue/2) /RoundValue) *RoundValue

TextDimY = STR(ElevDimUnit, DimY)
if dop=0 then TextDimf = STR(ElevDimUnit, Dimf) else TextDimf=""

if strstr(addText,"абс")>0 then
	Dimf = INT((symb - DimOrigin + GLOB_PROJECT_ALTITUDE + RoundValue/2) /RoundValue) *RoundValue
	TextDimf = str(Dimf,6,2)
endif

IF bShowPlus THEN
	IF DimY > EPS THEN TextDimY = "+" + TextDimY
	IF ABS(DimY) < EPS AND bPlusMinus THEN TextDimY = "±" + TextDimY
ENDIF

IF GLOB_CONTEXT <> 5 AND txtOption = "Вычисленное значение" THEN
	PARAMETERS customTextDimY = TextDimY
ENDIF

IF txtOption = "Вычисленное значение" THEN
	dimText = TextDimY
	LOCK "customTextDimY"
ELSE
	dimText = customTextDimY
ENDIF

IF GLOB_MODPAR_NAME = "txtOption" AND txtOption = "Вычисленное значение" THEN
	PARAMETERS customTextDimY = ""
ENDIF

! ======================================================
! Составление текстовых блоков
! ======================================================
	PEN penFont
	interval = ""
	IF superText <> "" THEN interval = " "
	
	PARAGRAPH "UpPRG" 3, (1 - SYMB_MIRRORED), 0, SYMB_MIRRORED, 1
		SET STYLE "normalText"
			"" + dimText
		SET STYLE "superText"
			interval + superText
	ENDPARAGRAPH
	TEXTBLOCK "UpTextBlock" 0, 9, 0, 1, 1, 1, "UpPRG"
	
	PARAGRAPH "DownPRG" 3, (1 - SYMB_MIRRORED), 0, SYMB_MIRRORED, 1
		SET STYLE "smallText"
			"" + addText + TextDimf
	ENDPARAGRAPH
	TEXTBLOCK "DownTextBlock" 0, 9, 0, 1, 1, 1, "DownPRG"
	
! ======================================================
! Запрос параметров текст.стилей для определения рамеров
! ======================================================
	n = REQUEST ("TEXTBLOCK_INFO",  "UpTextBlock", wUpTextBlock, hUpTextBlock)	! габаритов верхнего текст.блока
	n = REQUEST ("TEXTBLOCK_INFO",  "DownTextBlock", wDownTextBlock, hDownTextBlock)	! габаритов нижнего текст.блока
	n = REQUEST ("Height_of_style", "normalText", height1, descent1, leading1)	! шрифта Размерного текста 
	n = REQUEST ("Height_of_style", "smallText",  height2, descent2, leading2)	! шрифта Дополнительного текста 
	
! ======================================================
! Установка длины полки и подложки 
! ======================================================
	LOpaque = (wUpTextBlock + sizeArrow )/1000*A_
	LShelf = (MAX(wUpTextBlock, wDownTextBlock*maxShelf - 0.3 *sizeArrow *(txtOrientMarker = "Внизу")) + sizeArrow )/1000*A_
	
! ======================================================
! Установка высоты текст.стиля с учетом "плохих" шрифтов
! ======================================================
	IF height1 - (sizeFont + descent1 + leading1) < 1/2*descent1 THEN \
		hFontStyle1 = (descent1*5/3 + sizeFont) ELSE hFontStyle1 = height1
	IF height2 - (sizeFont*3/4 + descent2 + leading2) < 1/2*descent2 THEN \
		hFontStyle2 = (descent2*2 + sizeFont*3/4) ELSE hFontStyle2 = height2
	
! ======================================================
! Установка минимального отступа полки
! ======================================================
	UpPos   = INT( MAX(sizeArrow *multiplierSA, sizeArrow + (hFontStyle2 - descent2) *(addText<>"")))	! min отступ вверх
	DownPos = INT(-MAX(sizeArrow *multiplierSA, sizeArrow + hFontStyle1))				! min отступ вниз
	
! ======================================================
! Удержание ориентации маркера (верх/низ) при редактировании нескольких отметок сразу. (работает)
! Удержание разблокированного отступа полки на нужном растоянии при смене масштаба. (работает)
! Удержание разблокированного отступа полки на нужном растоянии
! при редактировании нескольких отметок сразу. (сделать неудалось)
! ======================================================
	IF NOT(GLOB_MODPAR_NAME = "orientMarker_sc") AND NOT(GLOB_MODPAR_NAME = "orientMarker_fix") THEN
		IF txtOrientMarker = "Вверху" THEN
			IF orientMarker_sc > 0 AND orientMarker_sc < UpPos/1000*A_   THEN	PARAMETERS orientMarker_sc = UpPos/1000*A_
			IF FixMarkerSize = 0 THEN PARAMETERS orientMarker_sc = MAX(UpPos /1000*A_, orientMarker_sc)
			IF FixMarkerSize = 1 THEN PARAMETERS orientMarker_fix = UpPos, orientMarker_sc = UpPos /1000*A_
		ENDIF
		IF txtOrientMarker = "Внизу" THEN
			IF orientMarker_sc < 0 AND orientMarker_sc > DownPos/1000*A_ THEN	PARAMETERS orientMarker_sc = DownPos/1000*A_
			IF FixMarkerSize = 0 THEN PARAMETERS orientMarker_sc = MIN(DownPos /1000*A_, orientMarker_sc)
			IF FixMarkerSize = 1 THEN PARAMETERS orientMarker_fix = DownPos, orientMarker_sc = DownPos /1000*A_
		ENDIF
	ENDIF


]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! ======================================================
! Настройки вида страниц
! ======================================================
	UI_CURRENT_PAGE gs_ui_current_page
	UI_PAGE gs_ui_current_page
	
	IF gs_ui_current_page = 1 THEN
		UI_STYLE 2, 1
		UI_OUTFIELD	gs_ui_but_txt[1],   5,   7, 240,  15, 2
	ELSE
		UI_BUTTON UI_FUNCTION,	gs_ui_but_txt[1],   5,   4, 240,  20, 1
	ENDIF
	
	IF gs_ui_current_page = 2 THEN
		UI_STYLE 2, 1
		UI_OUTFIELD	gs_ui_but_txt[2], 260,   7, 180,  15, 2
	ELSE
		UI_BUTTON UI_FUNCTION,	gs_ui_but_txt[2], 255,   4, 185,  20, 2
	ENDIF
	
	UI_SEPARATOR   1, 1+29*(gs_ui_current_page=2),   1, 265
	UI_SEPARATOR 442, 1+29*(gs_ui_current_page=1), 444, 266
	UI_SEPARATOR   1, 264, 444, 265
	UI_SEPARATOR 250,   1, 250,  31
	UI_SEPARATOR   1, 1+29*(gs_ui_current_page=2), 251, 1+29*(gs_ui_current_page=2)
	UI_SEPARATOR 250, 1+29*(gs_ui_current_page=1), 444, 1+29*(gs_ui_current_page=1)
	
	mask = 1
	
! ======================================================
! ======================================================
					UI_PAGE 1
! ======================================================
! ======================================================
! Тип Маркера
! ======================================================
	UI_STYLE 2, 0
	
	UI_OUTFIELD "Маркер:",   15,  43,  45, 15
	
	UI_INFIELD{3} txtArrowType,  70,  40, 170, 22,
	4, "ui_MarkerType", 6, 1,
	23, 22, 23, 20,
	1, "1", "Стандарт",
	2, "2", "Эскиз 1",
	3, "3", "Эскиз 2",
	4, "4", "Эскиз 3",
	5, "5", "Эскиз 4",
	6, "6", "Эскиз 5" \
		UI_TOOLTIP "Первый тип согласно стандарту, остальные - эскизные"
	
! ======================================================
! Положение Маркера
! ======================================================
	UI_INFIELD{3} "txtOrientMarker", 260,  40,  50, 27,
	4, "ui_UpDown", 2, 1,
	19, 19, 19, 19,
	1, "", "Вверху",
	2, "", "Внизу" \
		UI_TOOLTIP "Положение маркера высоты"
	
! ======================================================
! Тип Выносной линии
! ======================================================
	UI_OUTFIELD "Выносная линия:",   15,  83, 50, 27, 1
	
	UI_INFIELD "wLine1",  78,  91,  15, 15
	UI_INFIELD "wLine2", 133,  91,  15, 15
	UI_INFIELD "wLine3", 188,  91,  15, 15
	UI_INFIELD "wLine4", 243,  91,  15, 15
	
	UI_PICT "ui_WitnessLine1",  96,  87,  31,  24, mask \
		UI_TOOLTIP "Нет"
	UI_PICT "ui_WitnessLine2", 151,  87,  31,  24, mask \
		UI_TOOLTIP "По размеру маркера"
	UI_PICT "ui_WitnessLine3", 206,  87,  31,  24, mask \
		UI_TOOLTIP "Задаваемая длина"
	UI_PICT "ui_WitnessLine4", 261,  87,  31,  24, mask \
		UI_TOOLTIP "Изменяющаяся длина"
	
! ======================================================
! Размеры Маркера, Просвета, Выносной линии
! ======================================================
	UI_GROUPBOX "",  15, 115, 415, 115
	
	UI_PICT "ui_Sizes",  20, 127,  42, 98, mask
	
	UI_OUTFIELD "Размер Стрелки  (2 - 4 мм по стандарту):",  80, 132, 220, 15
	UI_OUTFIELD "Просвет до выносной линии:",  80, 167, 220, 15, 4*(wLine1 + wLine2 + wLine3)
	UI_OUTFIELD "Длина выносной линии:",	   80, 202, 220, 15, 4*(wLine1 + wLine2 + wLine4)
	
	UI_INFIELD "sizeArrow", 330, 130,  70, 19
	IF scalability = "Фиксированная" THEN
		UI_INFIELD "Gap_fix",        330, 165,  70, 19
		UI_INFIELD "LineLength_fix", 330, 200,  70, 19
		unit_WL = "мм"
	ELSE
		UI_INFIELD "Gap",        330, 165,  70, 19
		UI_INFIELD "LineLength", 330, 200,  70, 19
		unit_WL = unit
	ENDIF
	
	UI_OUTFIELD "мм",	 405, 132,  15, 15
	UI_OUTFIELD unit_WL, 405, 167,  15, 15, 4*(wLine1 + wLine2 + wLine3)
	UI_OUTFIELD unit_WL, 405, 202,  15, 15, 4*(wLine1 + wLine2 + wLine4)
	
! ======================================================
! Дополнительные настройки
! ======================================================
	UI_PICT "ui_FixMarkerSize",  35, 237,  40,  19, mask
	
	UI_INFIELD "FixMarkerSize",  15, 239,  15, 15 \
		UI_TOOLTIP "Блокировка отступа полки"
	UI_INFIELD "scalability", 320, 240, 113, 15
	UI_OUTFIELD "x", 145, 239, 5, 15
	UI_INFIELD "multiplierSA", 155, 239,  35, 15 \
		UI_TOOLTIP "Коэффициент min отступа полки"
	
	UI_STYLE 2, 1
	
	UI_OUTFIELD "= h",  77, 240,  20,  15
	
	UI_STYLE 0, 0
	
	UI_OUTFIELD "стрелки", 100, 243,  40,  15
	UI_OUTFIELD "Масштабируемость выносной линии:", 220, 234,  95,  25, 1
	
! ======================================================
! Настройки Перьев
! ======================================================
	UI_PICT "ui_MarkerPen", 320,  42,  33, 27, mask \
		UI_TOOLTIP "Перо стрелки"
	UI_INFIELD "penArrow_", 360,  47,  30, 19
	UI_INFIELD "penArrow",  395,  47,  32, 19
	
	UI_PICT "ui_WLinePen",  320,  88,  33, 23, mask \
		UI_TOOLTIP "Перо линий"
	UI_INFIELD "penLine_",  360,  88,  30, 19
	UI_INFIELD "penLine",   395,  88,  32, 19
	

! ======================================================
! ======================================================
					UI_PAGE 2
! ======================================================
! ======================================================
! Настройки Шрифта
! ======================================================
	UI_STYLE 2, 0
	
	UI_INFIELD "nameFont",  15,  45, 235, 19 \
		UI_TOOLTIP "Тип шрифта"
	UI_PICT "ui_FontSize",  15,  79,  30, 22, mask \
		UI_TOOLTIP "Высота шрифта"
	UI_INFIELD "sizeFont",  50,  80,  40, 19 \
		UI_TOOLTIP "Высота шрифта"
	UI_OUTFIELD "мм",       95,  82,  20, 19
	
	UI_STYLE 2, 1
	
	UI_INFIELD "typeFont_b", 120,  82,  15, 15
	UI_OUTFIELD "Жирный",    140,  83,  50, 19
	
	UI_STYLE 2, 2
	
	UI_INFIELD "typeFont_i", 200,  82,  15, 15
	UI_OUTFIELD "Курсив",    220,  83,  50, 19
	
! ======================================================
! Фоновая штриховка
! ======================================================
	UI_STYLE 0, 0
	
	UI_INFIELD "bOpaque", 295,  90,  15, 15 \
		UI_TOOLTIP "Добавление сплошной штриховки в качестве фона текстового блока"
	
! ======================================================
! Настройки Перьев
! ======================================================
	UI_PICT "ui_TextPen",  320,  45,  33, 24, mask \
		UI_TOOLTIP "Перо текста"
	UI_INFIELD "penFont_", 360,  47,  30, 19
	UI_INFIELD "penFont",  395,  47,  32, 19
	
	UI_PICT "ui_OpaquePen",  325,  88,  33, 19, mask \
		UI_TOOLTIP "Перо сплошной штриховки фона"
	UI_INFIELD "penOpaque_", 360,  88,  30, 19
	UI_INFIELD "penOpaque",  395,  88,  32, 19
	
! ======================================================
! Настройки Текста
! ======================================================
	UI_STYLE 2, 0
	
	UI_GROUPBOX "",  15, 115, 415, 90
	
	UI_OUTFIELD "Размерное число:",      40, 140, 100, 15 \
		UI_TOOLTIP 'Выбирите "Вычисленное значение" или "Специальный текст"'
	UI_OUTFIELD "Дополнительный текст:", 40, 177, 130, 19 \
		UI_TOOLTIP 'Добавьте уточняющую информацию к важным отметкам'
	
	UI_INFIELD "txtOption",		 145, 140,  18, 15
	UI_INFIELD "customTextDimY", 175, 140,  90, 15 \
		UI_TOOLTIP 'Высотные отметки указывают в метрах с тремя десятичными знаками, отделенными от целого числа запятой'
	UI_INFIELD "addText",		 175, 177, 220, 15
	UI_OUTFIELD "м",			 270, 140,  15, 15
	
	UI_STYLE 0, 0
	
	UI_INFIELD "superText",		  290, 140, 105, 10
	UI_OUTFIELD "Верхний индекс", 295, 155,  90, 12
	
! ======================================================
! Дополнительные настройки
! ======================================================
	UI_STYLE 2, 0
	
	UI_OUTFIELD "Начало размеров от:",   10, 210, 120, 15
	UI_INFIELD "DimOrigin",				135, 210,  60, 15 \
		UI_TOOLTIP 'Внимание: в окне отображаются единицы установленной системы измерения'
	UI_OUTFIELD unit,					200, 210,  15, 19

	UI_OUTFIELD "Привязка к уровню",   10, 235, 120, 15
	UI_INFIELD "ref_story",				135, 235,  120, 15


	UI_OUTFIELD "Округлить до:",	280, 210, 80, 15
	UI_INFIELD "txtRoundValue",				360, 210,  55, 15 \
		UI_TOOLTIP 'Нет округления, если выбрано "0,001"'
	UI_OUTFIELD "м",						420, 210,  15, 15

	UI_OUTFIELD "Поправка, мм",   280, 235, 80, 15
	UI_INFIELD "popr",				360, 235,  60, 15

	
! ======================================================
	END
! ======================================================


]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
CALL "Общий шаблон элемента" parameters all
HIDEPARAMETER "d2vid", "all_spec"

if iscall then
	HIDEPARAMETER "txtOption"
endif
values{2} "ref_story" mrh_ref_story_val, mrh_ref_story_text
if ref_story>0 then 
	PARAMETERS DimOrigin = DimOrigin
	LOCK "DimOrigin"
endif

!PARAMETERS nameFont = Shrift
!PARAMETERS sizeFont = Shrift_razm
! ============================
VALUES "superText" "±", "*", custom
VALUES "addText"   "x Этаж", "Ур. ч. п.", "Ур. земли", "Ур. отмостки", "Ур. карниза", "Ур. конька", "Ур. засыпки",
				   "Ур. подошвы фундамента", "Ур. грунтовых вод", "Ур. г. р.", "Ур. радиации", custom

VALUES "nameFont"		  fontNames, custom
VALUES "txtOption"		 "Вычисленное значение", "Специальный текст"
VALUES "txtArrowType"	 "Стандарт", "Эскиз 1", "Эскиз 2", "Эскиз 3", "Эскиз 4", "Эскиз 5"
VALUES "wLineType"		 "Без выносной линии", "Вынос. линия по размеру маркера",
						 "Вынос. линия заданного размера", "Вынос. линия с заданным пробелом"
VALUES "scalability"	 "Масштабируемая", "Фиксированная"
VALUES "txtRoundValue"	 "0,001", "0,005", "0,010", "0,025", "0,050"
VALUES "txtOrientMarker" "Вверху", "Внизу"
VALUES "orientMarker_fix" DownPos, UpPos
IF FixMarkerSize THEN
	VALUES "orientMarker_sc" DownPos/1000*A_, UpPos/1000*A_
	HIDEPARAMETER "orientMarker_sc"
ELSE
	VALUES "orientMarker_sc" RANGE[ ,DownPos/1000*A_], RANGE[UpPos/1000*A_, ]
ENDIF
PARAMETERS B = EPS
! ======================================================
! Управление положением маркера
! ======================================================
	IF GLOB_MODPAR_NAME = "txtOrientMarker" THEN
		IF txtOrientMarker = "Вверху" THEN
			PARAMETERS orientMarker_sc = UpPos /1000*A_
			PARAMETERS orientMarker_fix = UpPos
		ENDIF
		IF txtOrientMarker = "Внизу" THEN
			PARAMETERS orientMarker_sc = DownPos /1000*A_
			PARAMETERS orientMarker_fix = DownPos
		ENDIF
	ENDIF
	
	IF GLOB_MODPAR_NAME = "orientMarker_sc" THEN
		IF orientMarker_sc > 0 THEN PARAMETERS txtOrientMarker = "Вверху", orientMarker_fix = UpPos
		IF orientMarker_sc < 0 THEN PARAMETERS txtOrientMarker = "Внизу", orientMarker_fix = DownPos
	ENDIF
	
	IF GLOB_MODPAR_NAME = "orientMarker_fix" THEN
		IF orientMarker_fix > 0 THEN PARAMETERS txtOrientMarker = "Вверху", orientMarker_sc = UpPos /1000*A_
		IF orientMarker_fix < 0 THEN PARAMETERS txtOrientMarker = "Внизу", orientMarker_sc = DownPos /1000*A_
	ENDIF
! ======================================================
! Управление типом масштабирования выносных линий
! ======================================================
	IF GLOB_MODPAR_NAME = "scalability" THEN
		IF scalability = "Фиксированная" THEN
			PARAMETERS Gap_fix = Gap *1000/A_
			PARAMETERS LineLength_fix = LineLength *1000/A_
		ELSE
			PARAMETERS Gap = Gap_fix /1000*A_
			PARAMETERS LineLength = LineLength_fix /1000*A_
		ENDIF
	ENDIF
	
	IF scalability = "Фиксированная" THEN
		IF GLOB_MODPAR_NAME = "Gap_fix" 		THEN PARAMETERS Gap = Gap_fix /1000*A_
		IF GLOB_MODPAR_NAME = "Gap" 			THEN PARAMETERS Gap_fix = Gap *1000/A_
		IF GLOB_MODPAR_NAME = "LineLength_fix" 	THEN PARAMETERS LineLength = LineLength_fix /1000*A_
		IF GLOB_MODPAR_NAME = "LineLength" 		THEN PARAMETERS LineLength_fix = LineLength *1000/A_
		HIDEPARAMETER "Gap", "LineLength"
	ELSE
		HIDEPARAMETER "Gap_fix", "LineLength_fix"
	ENDIF
	
	IF LineLength < sizeArrow /1000*A_ THEN
		LineLength = sizeArrow /1000*A_
		PARAMETERS LineLength = LineLength
	ENDIF
	
	IF Gap < EPS THEN
		Gap = 0
		PARAMETERS Gap = Gap
	ENDIF
	
	IF Gap_fix < EPS THEN
		Gap_fix = 0
		PARAMETERS Gap_fix = Gap_fix
	ENDIF

! ======================================================
	IF bShowPlus = 0 THEN: PARAMETERS bPlusMinus = 0: LOCK "bPlusMinus": ENDIF
	
! ======================================================
	IF multiplierSA < 1 THEN PARAMETERS multiplierSA = 1
	
! ======================================================
	IF GLOB_MODPAR_NAME = "wLine1" THEN PARAMETERS wLine1 = 1, wLine2 = 0, wLine3 = 0, wLine4 = 0, wLineType = "Без выносной линии"
	IF GLOB_MODPAR_NAME = "wLine2" THEN PARAMETERS wLine1 = 0, wLine2 = 1, wLine3 = 0, wLine4 = 0, wLineType = "Вынос. линия по размеру маркера"
	IF GLOB_MODPAR_NAME = "wLine3" THEN PARAMETERS wLine1 = 0, wLine2 = 0, wLine3 = 1, wLine4 = 0, wLineType = "Вынос. линия заданного размера"
	IF GLOB_MODPAR_NAME = "wLine4" THEN PARAMETERS wLine1 = 0, wLine2 = 0, wLine3 = 0, wLine4 = 1, wLineType = "Вынос. линия с заданным пробелом"
	IF GLOB_MODPAR_NAME = "wLineType" THEN
		IF wLineType = "Без выносной линии"					 THEN PARAMETERS wLine1 = 1, wLine2 = 0, wLine3 = 0, wLine4 = 0
		IF wLineType = "Вынос. линия по размеру маркера"	 THEN PARAMETERS wLine1 = 0, wLine2 = 1, wLine3 = 0, wLine4 = 0
		IF wLineType = "Вынос. линия заданного размера"		 THEN PARAMETERS wLine1 = 0, wLine2 = 0, wLine3 = 1, wLine4 = 0
		IF wLineType = "Вынос. линия с заданным пробелом"	 THEN PARAMETERS wLine1 = 0, wLine2 = 0, wLine3 = 0, wLine4 = 1
	ENDIF
	
! ======================================================
	IF wLine1 THEN LOCK "Gap", "LineLength", "Gap_fix", "LineLength_fix"
	IF wLine2 THEN LOCK "Gap", "LineLength", "Gap_fix", "LineLength_fix"
	IF wLine3 THEN LOCK "Gap", "Gap_fix"
	IF wLine4 THEN LOCK "LineLength", "LineLength_fix"
	
! ======================================================
	IF GLOB_MODPAR_NAME = "penArrow_"  THEN PARAMETERS penArrow = penArrow_
	IF GLOB_MODPAR_NAME = "penArrow"   THEN PARAMETERS penArrow_ = penArrow
	IF GLOB_MODPAR_NAME = "penLine_"   THEN PARAMETERS penLine = penLine_
	IF GLOB_MODPAR_NAME = "penLine"    THEN PARAMETERS penLine_ = penLine
	IF GLOB_MODPAR_NAME = "penFont_"   THEN PARAMETERS penFont = penFont_
	IF GLOB_MODPAR_NAME = "penFont"    THEN PARAMETERS penFont_ = penFont
	IF GLOB_MODPAR_NAME = "penOpaque_" THEN PARAMETERS penOpaque = penOpaque_
	IF GLOB_MODPAR_NAME = "penOpaque"  THEN PARAMETERS penOpaque_ = penOpaque
	
	IF penArrow  < 1 THEN PARAMETERS penArrow  = 1
	IF penLine   < 1 THEN PARAMETERS penLine   = 1
	IF penFont   < 1 THEN PARAMETERS penFont   = 1
	IF penOpaque < 1 THEN PARAMETERS penOpaque = 1
	
	IF penArrow_  < 1 OR penArrow_  > 255 THEN PARAMETERS penArrow_  = 1
	IF penLine_   < 1 OR penLine_   > 255 THEN PARAMETERS penLine_   = 1
	IF penFont_   < 1 OR penFont_   > 255 THEN PARAMETERS penFont_   = 1
	IF penOpaque_ < 1 OR penOpaque_ > 255 THEN PARAMETERS penOpaque_ = 1
	
	IF NOT(bOpaque) THEN LOCK "penOpaque", "penOpaque_"
	IF iArrowType = 6 THEN LOCK "penArrow", "penArrow_"
	
! ======================================================
	IF GLOB_UI_BUTTON_ID = 1 THEN PARAMETERS gs_ui_current_page = 1
	IF GLOB_UI_BUTTON_ID = 2 THEN PARAMETERS gs_ui_current_page = 2
!
!VALUES "gs_detlevel_3D"  `Детальный`,`Откл.`
!VALUES "G" RANGE [0,360]
!VALUES "gs_resol" RANGE [3,)
!VALUES "A" RANGE (0,)
!VALUES "B" RANGE (0,)
!VALUES "ZZYZX" RANGE (0,)

IF gs_cont_pen=0 THEN PARAMETERS gs_cont_pen=2
IF gs_fill_pen=0 THEN PARAMETERS gs_fill_pen=91
]]>
</Script_VL>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[Сделано на основе 
и в соответствии с:
ГОСТ 21.101-97 СПДС.
"Основные требования
к проектной и рабочей
документации".]]>
</Comment>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="1893" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	00800803000000F4E091F90000000467414D4100009C40200DE4CB0000030050
	4C5445F1EAD60A0505FBF9EEE9E1CCCEC3ABE1D9C2D9D0B8EEE8D3F4F1DDFAF7
	E8000000FDFCF4D5CBB3C8BDA6D0C6AFFEFEF8F6F2E2F2EDD9E0D7C0ECE5D0F8
	F4E5DED6C0000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000000000000000000000000000000000000000000000000000000000000000
	0000007101FEA50000000970485973000007D8000007D8019D01EFFA0000001F
	74455874536F66747761726500517569636B54696D6520362E33202857696E33
	322900886A31B90000000774494D4507D7011E102F152DAEF0DD000003B34944
	4154789CED5B8D7283200CE6B06B73D7B5EFFFB60E506C7E5010A1E9AE7EDD75
	343A927C8931E06AEE1E5609E63698C9008D97B5701B7E8C26036618AE4651BF
	27E0D704FD061CC2DB3BDFCDF073750678538C0E9C0117E3B3414BBF33E069AC
	3A034EBFA201AA0CDC22039A067C3703530EDCF592509D813307CE1C3873E0CC
	813307A686A43207C6117F82D1831EA70279C6A110B0C9C60828164403EA4240
	F4C3F842A1001950C5009BC97DB0A1D98F0E4E02CB054EC228A8CB01E6CA3CE9
	6C001298550166607F088272348FF78E9812DCDD146003768760D64F0820C3BC
	8018B09B8130C5481988219C8634F7538205D575803230FFB58FB05F752E3AD2
	02344D7D1D5827C0707F8580E540551D90D7401C92444F0A2A191065168FA5C3
	821210270714E780ACF37188A21A620D2C270C13884A58160261003EB2E92F30
	81AD0B81B8F5C4613205001FE36760EC6160CD1CAE6FCF45509603891B194A6B
	96023CE209014651089206100236229E1230038A42509A0222E209C16E0698CB
	662D050AEB209DB8B00EAC5681AD889BD78D409C1C511A82CD2A605F4319F144
	9270034A42B01E01886398675FBC9C05C005C280AA8E081BB0347D6190171054
	F503F822C0ED6E20800B8C1060D4F50393FED98C65FEE8445EC00CA85D9A4503
	22A23C2F6006542F4EE788FA440BAF456168BFB7040807D68630E6CFC9427D75
	7CEE0F2C8F6C34F788F22118DB82F784D910407ECE5D900CE41EDBC5A53DBC7E
	CDA32A90B94B1E5A851B5EF238CC3F7321C21FF1017290A2EC2A48DCC45AA128
	09651FD3D60055068AEA008C2DAA7E1AFF2304FD19C8D781DE395050073A41FD
	2AF83749F8E575A0770E9C75A0A40EA88740BD0EF4D2AF5F093FB30EF0DE9D33
	208E1F348087403CE0A449987AFE79CC005107F8FA851A2057378790AA03962D
	6080ED49B5D49FBE0AB81632F468B7964ED701A01C001E05FDADD4AFD7014B38
	58B6D75AFB6F56EB00E6002203EDFDDF2AC59803B4D3D9D8FF8D528C38982EC3
	1EFE6FF7032F0EE2A67773FFCD663F10390839D0C7FFDCDD305A107EBAF89FE9
	072207111DFEFB39D70F100BEEEDF5E7FB817B57FF4B5A32DBD5FF9296ECDED1
	FFB27581EDE7BF49D681A28DD156FA93212831A0654F289290ECAB5A7007438C
	ECEA76EB4103524948F6599928BD6B5B8B23FF4FD802E7231B75063EE299D177
	87E0162FC3AFFDA2D38784E09B93F0AC03EA2138EBC08784203030BC59F500EE
	E5BFF6FCEB0C00FFF5571D5CBD01E1DBB72A08FA1F2E106EA084E7C519E012E1
	FA74B8443C11D8C736F073CEBA1E8FCB1FC745ABECC0FA6E6F0000000049454E
	44AE426082
	]]>
</Picture>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author></Author>
	<License>
		<Type>CC0</Type>
		<Version>1.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

</Symbol>
