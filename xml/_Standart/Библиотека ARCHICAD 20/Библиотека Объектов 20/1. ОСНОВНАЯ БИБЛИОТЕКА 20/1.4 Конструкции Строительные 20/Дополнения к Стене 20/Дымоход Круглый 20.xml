<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="true" IsPlaceable="true" MainGUID="472AA7E2-F262-4B6F-A1A0-DCA3BA2D77F2" MigrationValue="Normal" Owner="1196638531" Signature="1465080141" Version="38">
<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
IF gs_detlevel_3D_m = DLEV3D_OFF THEN END

c = min (A, WALL_THICKNESS)

unID = 3000

hotline A/2,	0,	0,					A/2,	B,	0,				unID : unID = unID + 1
hotline A/2,	0,	WALL_THICKNESS,		A/2,	B,	WALL_THICKNESS,	unID : unID = unID + 1
hotline -A/2,	0,	0,					-A/2,	B,	0,				unID : unID = unID + 1
hotline -A/2,	0,	WALL_THICKNESS,		-A/2,	B,	WALL_THICKNESS,	unID : unID = unID + 1


if WIDO_REVEAL_SIDE then
	add 0,0,WIDO_SILL-(WALL_THICKNESS/2)
else
	add 0,0,-WIDO_SILL+(WALL_THICKNESS/2)
endif


pen WALL_VIEW_PEN

if GLOB_CONTEXT = 5 or A >= WALL_THICKNESS then
	addz WALL_THICKNESS/2-(WALL_THICKNESS-c)/2

	cprism_ WALL_MAT_A,WALL_MAT_EDGE,WALL_MAT_EDGE,
		4,(WALL_THICKNESS-c)/2,
		-a/2,0,9+4*bShowEdges3D,
		a/2,0,9,
		a/2,b,9+4*bShowEdges3D,
		-a/2,b,9

	addz -c-(WALL_THICKNESS-c)/2

	cprism_ WALL_MAT_EDGE,WALL_MAT_B,WALL_MAT_EDGE,
		4,(WALL_THICKNESS-c)/2,
		-a/2,0,12+1*bShowEdges3D,
		a/2,0,12,
		a/2,b,12+1*bShowEdges3D,
		-a/2,b,12
else
	addz (WALL_THICKNESS-c)/2-WALL_THICKNESS/2
	
	wallniche 4, 1, 1+2 + not(bShowEdges3D)*(64+128),
		0, 0, 1, A,
		A/2,	0,	24 + 7*bShowEdges3D,
		A/2,	B,	31*bShowEdges3D,
		-A/2,	B,	24 + 7*bShowEdges3D,
		-A/2,	0,	31*bShowEdges3D
endif


end
]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
rrr = REQUEST ("window_show_dim", "", bShowMarker)

c = min (A, WALL_THICKNESS)

if WIDO_REVEAL_SIDE then
	add2 0, -(WIDO_SILL-WALL_THICKNESS/2)
else
	add2 0,   WIDO_SILL-WALL_THICKNESS/2
endif

pen penFill
fill fillType

hotspot2  0,   0,   999
unID=9000
hotspot2 -c/2, 0,   unID
hotspot2  c/2, 0,   unID+1
hotspot2  0,   c/2, unID+8
hotspot2  0,  -c/2, unID+9

if GLOB_CONTEXT = 5 then
	line2 -c*0.3536,-c*0.3536,c*0.3536,c*0.3536
else
	wallline2 -c*0.3536,-c*0.3536,c*0.3536,c*0.3536
endif

if bTypeGas then

	if GLOB_CONTEXT = 5 then
		line2 -c*0.3536,c*0.3536,c*0.3536,-c*0.3536
	else
		wallline2 -c*0.3536,c*0.3536,c*0.3536,-c*0.3536
	endif

	color = penFill
	put	0,0,1,
		c*0.3536,c*0.3536,1,
		-1,1,800,
		-c*0.3536,c*0.3536,1000,
		0,0,1
	gosub "draw_poly"

	color = penFill
	put	0,0,1,
		-c*0.3536,-c*0.3536,1,
		1,-1,800,
		c*0.3536,-c*0.3536,1000,
		0,0,1
	gosub "draw_poly"

	rot2 90

	color = penFillBack
	put	0,0,1,
		c*0.3536,c*0.3536,1,
		-1,1,800,
		-c*0.3536,c*0.3536,1000,
		0,0,1
	gosub "draw_poly"

	color = penFillBack
	put	0,0,1,
		-c*0.3536,-c*0.3536,1,
		1,-1,800,
		c*0.3536,-c*0.3536,1000,
		0,0,1
	gosub "draw_poly"

	del 1

else

	color = penFill
	put	-c*0.3536, -c*0.3536, 1,
		-1, 1, 800,
		c*0.3536, c*0.3536, 1000,
		-c*0.3536, -c*0.3536, 1
	gosub "draw_poly"

	color = penFillBack
	put	-c*0.3536, -c*0.3536, 1,
		1, -1, 800,
		c*0.3536, c*0.3536, 1000,
		-c*0.3536, -c*0.3536, 1
	gosub "draw_poly"

endif

pen WALL_SECT_PEN
wallarc2 0, 0, c/2, 0, 360

del 1

line_property 0


! ==============================================================================
! Text Label
! ==============================================================================

! --- Oriented View ------------------------------ [

angleViewRot = 0
rrr = REQUEST ("View_Rotangle", "", angleViewRot)
totalRotate = (WALL_DIRECTION + angleViewRot + txtRotAngle * mirror) MOD 360
if totalrotate < eps then totalrotate = (360 + totalrotate) MOD 360

! --- Oriented View ------------------------------ ]

if iDisplayText = 1 | (iDisplayText = 3 & bShowMarker) then

	unID = 5
	define style "styleText" fontType,fontSize,5,0
	set style "styleText"

	n =request ("Height_of_style", "styleText", heightStyle)
	heightStyle = heightStyle / 1000 * GLOB_SCALE

	totalWidth = str(int(A * 100 + 0.5), 2, 0)
	totalHeight = str(int(B * 100 + 0.5), 2, 0)
	contString = totalWidth + "/" + totalHeight

	widthe	= 0
	widtht1	= 0
	widtht2	= 0

	widthe  = stw(contString) / 1000 * GLOB_SCALE
	if bText1  then widtht1 = stw(textLine1) / 1000 * GLOB_SCALE
	if bText2  then widtht2 = stw(textLine2) / 1000 * GLOB_SCALE

	width = max(widthe, widtht1, widtht2)

	if width > EPS then

		alfa=atn(((1+bText1+bText2)*heightStyle)/(width/2))
		atlo=sqr((width/2)*(width/2)+((1+bText1+bText2)*heightStyle)*((1+bText1+bText2)*heightStyle))

	!***************************** text ***********************

		add2 0, -(WALL_THICKNESS-c)/2 * (WALL_THICKNESS < (c-eps))

		unID=unID+1
		add2 0, 0

		HOTSPOT2 txtOffsetX, 0, unID, txtOffsetY, 1+128 : unID=unID+1
		HOTSPOT2 txtOffsetX, txtOffsetY, unID, txtOffsetY, 2 : unID=unID+1
		HOTSPOT2 txtOffsetX, -0.1, unID, txtOffsetY, 3 : unID=unID+1

		HOTSPOT2 0, txtOffsetY, unID, txtOffsetX, 1+128 : unID=unID+1
		HOTSPOT2 txtOffsetX, txtOffsetY, unID, txtOffsetX, 2 : unID=unID+1
		HOTSPOT2 -0.1, txtOffsetY, unID, txtOffsetX, 3 : unID=unID+1

		del 1
		add2 txtOffsetX, txtOffsetY		! Text Offset

		HOTSPOT2 width/2, (1+bText1+bText2)*heightStyle, unID, txtRotAngle, 4+128 : unID=unID+1
		HOTSPOT2 atlo*cos(alfa+txtRotAngle), atlo*sin(alfa+txtRotAngle), unID, txtRotAngle, 5
		unID=unID+1
		HOTSPOT2 0, 0, unID, txtRotAngle, 6 : unID=unID+1

		del 1

		add2 txtOffsetX, txtOffsetY		! Text Offset

		rot2 txtRotAngle

		if typeTextRotation_m = 2 then ! Readable
			if abs(SYMB_ROTANGLE-180) < EPS then
				iReadable = (totalRotate < (gs_readable_angle + eps) | totalRotate > (gs_readable_angle + 180 + eps))
			else
				iReadable = (totalRotate > (gs_readable_angle + eps) & totalRotate < (gs_readable_angle + 180 + eps))
			endif
			rot2 180 * iReadable
			if iReadable then add2 0,-heightStyle * (1+bText1+bText2)
		endif

		add2 0, heightStyle/2

		pen pen_txt

		if bText2 then
			text2 (txtAlign=`Слева`)*(widtht2-width)/2-(txtAlign=`Справа`)*\
			(widtht2-width)/2, 0, textLine2
			add2 0, heightStyle
		endif
		if bText1 then
			text2 (txtAlign=`Слева`)*(widtht1-width)/2-(txtAlign=`Справа`)*\
			(widtht1-width)/2, 0, textLine1
			add2 0, heightStyle
		endif

		text2 (txtAlign=`Слева`)*(widthe-width)/2-(txtAlign=`Справа`)*\
		(widthe-width)/2, 0, contString

		if bText1 then del 1
		if bText2 then del 1

		del 3
		del 1

	endif
endif

end

"draw_poly":

	if GLOB_CONTEXT = 5 then
		poly2_b NSP/3, 1+2+64, color, color,
				get (NSP)
	else
		wallhole2 NSP/3, 2, color, color,
				0, 0, 0,
				get (NSP)
	endif
return
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>true</AutoHotspots>
		<HoleBits>
			<WDBit_OrientCustom/>
		</HoleBits>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_UIUseHierarchicalPages/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0.2</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>2.3</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Integer Name="AC_WallContours">
			<Description><![CDATA["Контуры Стены (0-нет, 1-все, 2-сбоку, 3-длина)"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Integer Name="AC_Hole_Hotspot_Control">
			<Description><![CDATA["Узловые Точки 0-Нет,1-2D, 2-3D, 3-Все"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Integer Name="gs_detlevel_3D_m">
			<Description><![CDATA["3D"]]></Description>
			<Value>2</Value>
		</Integer>
		<FillPattern Name="fillType">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="penFill">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Value>1</Value>
		</PenColor>
		<PenColor Name="penFillBack">
			<Description><![CDATA["Перо Штриховки 2"]]></Description>
			<Value>19</Value>
		</PenColor>
		<Boolean Name="bTypeGas">
			<Description><![CDATA["Газовый Дымоход"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="bShowEdges3D">
			<Description><![CDATA["Линии на Верхнем/Нижнем Ребре в 3D"]]></Description>
			<Value>1</Value>
		</Boolean>

		<!-- tDisplayText: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="tDisplayText">
			<Description><![CDATA["Текст в 2D-символе"]]></Description>
		</Title>
		<String Name="sDisplayText">
			<Description><![CDATA["Текст в 2D-символе"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Откл."]]></Value>
		</String>
		<Integer Name="iDisplayText">
			<Description><![CDATA["Текст в 2D-символе"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<String Name="txtAlign">
			<Description><![CDATA["Выравнивание"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["По Центру"]]></Value>
		</String>
		<Boolean Name="bText1">
			<Description><![CDATA["1-ая Строка Текста"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="textLine1">
			<Description><![CDATA["Текст 1"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="bText2">
			<Description><![CDATA["2-ая Строка Текста"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="textLine2">
			<Description><![CDATA["Текст 2"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<PenColor Name="pen_txt">
			<Description><![CDATA["Перо Текста"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</PenColor>
		<Length Name="fontSize">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1.5</Value>
		</Length>
		<String Name="fontType">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<Angle Name="txtRotAngle">
			<Description><![CDATA["Поворот Текста"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<String Name="typeTextRotation">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Выровнять по Символу"]]></Value>
		</String>
		<Integer Name="typeTextRotation_m">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Length Name="txtOffsetX">
			<Description><![CDATA["Смещение Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="txtOffsetY">
			<Description><![CDATA["Смещение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="AC_Sill_To_Curr_Story">
			<Description><![CDATA["Высота Отлива отн. Текущего Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Boolean Name="AC_HoleSideMaterial">
			<Description><![CDATA["Покрытия Отверстия по Параметрам Стены"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="AC_HoleMaterialCurved">
			<Description><![CDATA["Стык Покрытий в Проеме Искривлен в Криволинейных Стенах"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>

		<!-- gs_window_frame: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_window_frame">
			<Description><![CDATA["Коробка Окна"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="gs_frame_thk">
			<Description><![CDATA["Толщина Коробки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.05</Value>
		</Length>
		<Length Name="gs_frame_width">
			<Description><![CDATA["Ширина Коробки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.07</Value>
		</Length>

		<!-- gs_window_sash: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_window_sash">
			<Description><![CDATA["Рама Створки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="gs_sash_thk">
			<Description><![CDATA["Толщина Рамы Створки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.05</Value>
		</Length>
		<Length Name="gs_sash_width">
			<Description><![CDATA["Ширина Рамы Створки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.05</Value>
		</Length>
		<Length Name="gs_glass_thk">
			<Description><![CDATA["Толщина Остекления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0.02</Value>
		</Length>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D-отображение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<PenColor Name="gs_pen_2D">
			<Description><![CDATA["Перо Символа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3</Value>
		</PenColor>

		<!-- gs_3D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_3D_representation">
			<Description><![CDATA["3D-отображение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<PenColor Name="gs_frame_pen">
			<Description><![CDATA["Перо Коробки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<PenColor Name="gs_sash_pen">
			<Description><![CDATA["Перо Створки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<PenColor Name="gs_glass_pen">
			<Description><![CDATA["Перо Остекления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>43</Value>
		</PenColor>

		<!-- gs_window_material: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_window_material">
			<Description><![CDATA["Покрытия"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Material Name="gs_frame_mat">
			<Description><![CDATA["Рама"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>14</Value>
		</Material>
		<Material Name="gs_sash_mat">
			<Description><![CDATA["Створка"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>15</Value>
		</Material>
		<Material Name="gs_glass_mat">
			<Description><![CDATA["Стекло"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>24</Value>
		</Material>

		<!-- ac_details: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="ac_details">
			<Description><![CDATA["Вычисленные Значения Допусков"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Length Name="ac_left_oversize">
			<Description><![CDATA["AC Допуск Проема Слева"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="ac_right_oversize">
			<Description><![CDATA["AC Допуск Проема Справа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="ac_upper_oversize">
			<Description><![CDATA["AC Допуск Проема Вверху"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="ac_lower_oversize">
			<Description><![CDATA["AC Допуск Проема Внизу"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="ifc_optypestr">
			<Description><![CDATA["Операция IFC"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["Не определена"]]></Value>
		</String>
		<Integer Name="ifc_optype">
			<Description><![CDATA["Операция IFC"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Angle Name="gs_readable_angle">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>90</Value>
		</Angle>
		<Integer Name="ac_wido_hide_options">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="LibraryLangCode">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["RUS"]]></Value>
		</String>
		<Integer Name="gs_ui_current_page">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
	</Parameters>
	<WDOrientation>
		<Def><![CDATA[""]]></Def>
		<Mirr><![CDATA[""]]></Mirr>
	</WDOrientation>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="795" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	00800800000000E6553E17000002D84944415478DAED5A2194A330141C89DCF7
	CE54222B91272B2B9195952B91753977B21289AC5C59894446AE8C442223B3A6
	A525E42784EEBBBC7DF7318864FE4C4232FC7C80497C8105B00016C00258000B
	60012C8005B00016C002584072013BFCEFD7F81012DD61D2F227BFDB13F1EFEF
	483D0F48FD1C907A1D20F53A641F601F601FF8113EA0DB166D3B44C4D568DB16
	C3B7F8C0F5913A1C9A45F3753DE623A4D12FFA4063A52F4207F9730BA25F783E
	1F8E0CAAF6E29C08ACF501E1CCE10E9E780442AFF38192C8220B45C4D3259D79
	AEF0813D196D4BC4A311B70D11E5031519EC37F6DA15CF8B40AC0FD4F46CF639
	4E0EFE1A90C68788F201ED7B9A1290B3781AB8186368449C0FFCF5AEA60AE55C
	F7AD8D42C4F980F6AFE63E9BC7CB208D4BC18868637CA0F6EF2653E1DDC2D58F
	460A81181FF0F39B4F6C2CDCEEA9D58D408C0F04F88DC9AD7843767FF74DF0CF
	7500C8E53E2043FCA64433C1C969B31BB1DC072E217E7382988EC36A7721227C
	A009F11B0131C13576071762B90F04F98DB0C653CF7ACC1162B90F3421FED978
	16CFC0321FE842FCE69E9880E09BA38E88F0813EC46F0A5C27B87E4CBDA85D50
	E01AE1034580BF47668DA778EEE640F6C874443E70F2F3DFD61CB50F5D58601F
	930F283FBFDE5A3E648C027ACFBB406F091FA2F281D2C76FCEC867F359DEBB3A
	D7CF19795C3EA07CFC1AF830D4FBD8B983F506D1E7029ADF003B07AE0206CAC3
	4A449F0B7441F257D828E779102072C20A50D1E7023526D333FEAC738E476DE8
	B4BC5B712E906FD87ECEE8871DB20B319F92E4BFACAA0F2800D57412F419D874
	E4BA5145ECF8FDF5017D04707ACC823A03D8F5DEBA80EBEAD7D7075002C84B21
	8410C72D80A20DEC1F699F0F8B17EB84126F63AC8C789F58F9DCFB13E270FD86
	3A8E841002E2DC2DAE3BC95A4008818EEB845C27E4EF05FCBD807D807D807DE0
	47F8C09FB43F7054A97F62F9C5FF11B10016C00258000B60012C8005B00016C0
	0258000B60015F9D1CD5DEFD2A4FC00000000049454E44AE426082
	]]>
</Picture>

<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>6ACDA889-69B2-4EC5-936C-CB1DA7032A92</MainGUID>
	<MainGUID>F6AE9687-2BC7-4D47-88C9-8F793E1DE2D6</MainGUID>
	<MainGUID>4ABD0A6E-634B-4931-B3AA-9BEE01F35CDF</MainGUID>
	<MainGUID>7B58FEA8-523D-4DB7-8D45-3AABD1E132F8</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! const values for parameter: gs_detlevel_3D_m
DLEV3D_OFF      = 0
DLEV3D_SIMPLE   = 1
DLEV3D_DETAILED = 2

bShowMarker = 1
EPS = 0.0001

if abs(SYMB_ROTANGLE) < EPS then wh=-1 else wh=1

mirror =  not(SYMB_MIRRORED) - SYMB_MIRRORED

DIM stDisplayText[3]
	stDisplayText[1] = `Вкл`
	stDisplayText[2] = `Откл.`
	stDisplayText[3] = `по Параметрам Модельного Вида`
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[

ui_current_page gs_ui_current_page

pageStartY = 5

iPageIDRoot			=-1
iPageIDGeneral		= 1

UI_PAGE iPageIDGeneral, iPageIDRoot, `Параметры Дымохода`, "uiTab_ChimneyRound_flat(1).png"

pos_x	= 10
pos_y	= pageStartY

descx	= 100
contx	= 100

rowy	= 18
dy		= 21

sepx	= 220
endx	= 435

ui_separator sepx, pageStartY - 5, sepx, pageStartY + 260

pos_y  = pageStartY - 5

ui_style 0, 1
ui_outfield `Показ Текста`, pos_x, pos_y+3, descx, rowy
ui_style 1,0
ui_infield{3} "iDisplayText", pos_x+descx+1,  pos_y+1, contx,rowy,
		8, "", 6, 1, 0, 0, 0, 0,
		1, stDisplayText[1], 1,
		2, stDisplayText[2], 2,
		3, stDisplayText[3], 3

iFlag = 4 * (iDisplayText = 2 | (iDisplayText = 3 & not(bShowMarker)))

pos_y = pos_y + dy
ui_outfield `Перо Текста`, pos_x, pos_y+1, descx, rowy, iFlag
ui_infield "pen_txt", pos_x+descx+contx-33, pos_y, 35, 20
pos_y = pos_y + dy - 2
ui_style 1, 0

ui_infield{3} "bText1", pos_x, pos_y+3, descx, rowy*1.2,
	7,"",2,1,
	0,0,0,0,
	1,`1-ая Строка`, 0,
	2,`1-ая Строка`, 1

ui_infield "textLine1", pos_x+descx+1, pos_y+5, contx, rowy
pos_y = pos_y + dy*1.2

ui_infield{3} "bText2", pos_x, pos_y+3, descx, rowy*1.2,
	7,"",2,1,
	0,0,0,0,
	1,`2-ая Строка`, 0,
	2,`2-ая Строка`, 1

ui_infield "textLine2", pos_x+descx+1, pos_y+5, contx, rowy
pos_y = pos_y + dy*1.25

ui_outfield `Выравнивание`, pos_x, pos_y, descx, rowy, iFlag
ui_infield{3} "txtAlign", pos_x+descx+1, pos_y, contx,rowy,
		8, "", 6, 1, 0, 0, 0, 0,
		1, `По Центру`, `По Центру`,
		2, `Слева`, `Слева`,
		3, `Справа`, `Справа`
pos_y = pos_y + dy

ui_outfield `Размер Шрифта (мм)`, pos_x, pos_y, descx, rowy,iFlag
ui_infield "fontSize", pos_x+descx+1, pos_y, contx, rowy
pos_y = pos_y + dy

ui_outfield `Текст Маркера`, pos_x, pos_y, descx, rowy,iFlag
ui_infield "fontType", pos_x+descx+1, pos_y, contx, rowy
pos_y = pos_y + dy

ui_outfield `Поворот Текста`, pos_x, pos_y, descx, rowy,iFlag
ui_infield "txtRotAngle", pos_x+descx+1, pos_y, contx, rowy
pos_y = pos_y + dy

ui_outfield `Смещение Текста по X`, pos_x, pos_y, descx, rowy*1.5,iFlag
ui_infield "txtOffsetX", pos_x+descx+1, pos_y+5, contx, rowy
pos_y = pos_y + dy*1.5

ui_outfield `Смещение Текста по Y`, pos_x, pos_y, descx, rowy*1.5,iFlag
ui_infield "txtOffsetY", pos_x+descx+1, pos_y+5, contx, rowy
pos_y = pos_y + dy*1.5

ui_outfield `Ориентация Текста в Символе`, pos_x, pos_y, descx, rowy*1.5, iFlag
ui_infield{3} "typeTextRotation", pos_x+descx+1,  pos_y+rowy/3, contx,rowy,
		8, "", 6, 1, 0, 0, 0, 0,
		1, `Читаемый`, `Читаемый`,
		2, `Выровнять по Символу`, `Выровнять по Символу`



! ===================================================================
pos_y	= pageStartY
pos_x = sepx + pos_x
dy = 25

ui_outfield `Перо Дымохода`, pos_x, pos_y+2, descx+contx-36, rowy
ui_infield "penFill", pos_x+descx+contx-35, pos_y, 35, 20
pos_y = pos_y + dy

ui_outfield `Перо Фона`, pos_x, pos_y+2, descx+contx-36, rowy
ui_infield "penFillBack", pos_x+descx+contx-35, pos_y, 35, 20
pos_y = pos_y + dy

ui_infield{3} "bTypeGas", pos_x, pos_y, descx+contx, rowy,
	7,"",2,1,
	0,0,0,0,
	1,`Газовый Дымоход`, 0,
	2,`Газовый Дымоход`, 1
pos_y = pos_y + dy

ui_infield{3} "bShowEdges3D", pos_x, pos_y, descx+contx, rowy,
	7,"",2,1,
	0,0,0,0,
	1,`Линии Верха/Низа`, 0,
	2,`Линии Верха/Низа`, 1
]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
parameters AC_WallContours = 0

values{2} "gs_detlevel_3D_m" 	DLEV3D_DETAILED, `Детальный`,
								DLEV3D_OFF, `Откл.`

values "txtAlign" `По Центру`, `Слева`, `Справа`

if not(bText1) then lock "textLine1"
if not(bText2) then lock "textLine2"

values "sDisplayText" stDisplayText
values "iDisplayText" 1,2,3

if GLOB_MODPAR_NAME = "sDisplayText" then
	iDisplayText = 1
	if sDisplayText = stDisplayText[2] then iDisplayText = 2
	if sDisplayText = stDisplayText[3] then iDisplayText = 3
	parameters iDisplayText = iDisplayText
else
	sDisplayText = stDisplayText[1]
	if iDisplayText = 2 then sDisplayText = stDisplayText[2]
	if iDisplayText = 3 then sDisplayText = stDisplayText[3]
	parameters sDisplayText = sDisplayText
endif

values "typeTextRotation" `Читаемый`,`Выровнять по Символу`
values "typeTextRotation_m" 2, 0

if GLOB_MODPAR_NAME = "typeTextRotation" then
	typeTextRotation_m = 2
	if typeTextRotation = `Выровнять по Символу`	then typeTextRotation_m = 0
	parameters typeTextRotation_m = typeTextRotation_m
else
	typeTextRotation = `Читаемый`
	if typeTextRotation_m = 0					then typeTextRotation = `Выровнять по Символу`
	parameters typeTextRotation = typeTextRotation
endif

if iDisplayText = 2 | (iDisplayText = 3 & not(bShowMarker)) then
	lock "bText1", "textLine1", "bText2", "textLine2", "typeTextRotation"
	lock "pen_txt", "fontSize", "fontType", "txtRotAngle", "txtOffsetX", "txtOffsetY", "txtAlign"
endif

! IFC Parameters
parameters ifc_optype = 0	! WIN_OP_NOT_DEFINED
call "IFC_optype_window" parameters ifc_optype = ifc_optype

lock "ifc_optypestr"

values "gs_ui_current_page" 1
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[Круглый дымоход с 2D-символами.]]>
</Comment>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[Дымоход Круглый, текст, размер]]>
</Keywords>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["IFC_optype_window"]]></MName>
		<MainGUID>60D88201-1F7F-4F48-A18B-15CC621CA252</MainGUID>
	</Macro>
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>CE114F0A-7483-46FE-86F7-C6E204E5C2A4</MainGUID>
		<Version>18</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
