<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="true" IsPlaceable="true" MainGUID="D9C1CAA1-1FE1-4A69-96BA-CF164663AABF" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="43">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>56A4A77E-2509-450D-94D0-A816189B7DF4</MainGUID>
	<MainGUID>06BA412F-7262-4221-A9B3-1A3E410E9170</MainGUID>
	<MainGUID>9C72BC5B-9742-4B29-8863-75AAF5F23226</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! Cylinder

if iDetlevel3D = DETLEVEL_OFF		then End
if iDetlevel3D = DETLEVEL_SIMPLE	then gs_resol = 18

if gs_shadow then
	shadow on
else
	shadow off
endif

if GLOB_CONTEXT < 20 | GLOB_CONTEXT > 40 then
	resol gs_resol
else
	resol 12
endif

pen gs_cont_pen

unID = 1
hotspot 0,0,0,unID : unID = unID+1

!--------------------!
! Base Angle Editing !
!--------------------!

!-------------------!
! Top Angle Editing !
!-------------------!

!---------------------------!
! Top Circle Center Editing !
!---------------------------!

if iEditMode = EDITMODE_COORDINATES then
	hotspot dist_x,dist_y,0,unID,zzyzx,1+128 : unID=unID+1
	hotspot dist_x,dist_y,-1,unID,zzyzx,3 : unID=unID+1
	hotspot dist_x,dist_y,zzyzx,unID,zzyzx,2 : unID=unID+1

	hotspot dist_x,0,zzyzx,unID,dist_y,1+128 : unID=unID+1
	hotspot dist_x,-1,zzyzx,unID,dist_y,3 : unID=unID+1
	hotspot dist_x,dist_y,zzyzx,unID,dist_y,2 : unID=unID+1

	hotspot 0,dist_y,zzyzx,unID,dist_x,1+128 : unID=unID+1
	hotspot -1,dist_y,zzyzx,unID,dist_x,3 : unID=unID+1
	hotspot dist_x,dist_y,zzyzx,unID,dist_x,2 : unID=unID+1
else
	hotspot 0,0,0,unID,gamma,6 : unID=unID+1
	hotspot 1,0,0,unID,gamma,4+128 : unID=unID+1
	hotspot 0,-1,0,unID,gamma,7 : unID=unID+1
	hotspot length/2*cos(gamma),0,length/2*sin(gamma),unID,gamma,5 : unID=unID+1

	roty 90-gamma
	hotspot 0,0,0,unID,length,1+256 : unID=unID+1
	hotspot 0,0,-1,unID,length,3 : unID=unID+1
	hotspot 0,0,length,unID,length,2 : unID=unID+1
	del 1
endif

material gs_prim_mat

if iEndMode = ENDMODE_PERPENDICULAR then
	alfa_1	= 90
	alfa_2	= 90

	!-----------------------!
	! Bottom Radius Editing !
	!-----------------------!

	rotz beta
	roty 90-gamma

	hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
	hotspot -1,0,0,unID,radius_1,3 : unID=unID+1
	hotspot radius_1,0,0,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
	hotspot 1,0,0,unID,radius_1,3 : unID=unID+1
	hotspot -radius_1,0,0,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
	hotspot 0,-1,0,unID,radius_1,3 : unID=unID+1
	hotspot 0,radius_1,0,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
	hotspot 0,1,0,unID,radius_1,3 : unID=unID+1
	hotspot 0,-radius_1,0,unID,radius_1,2 : unID=unID+1

	!--------------------!
	! Top Radius Editing !
	!--------------------!

	hotspot 0,0,length,unID,radius_1,1+128 : unID=unID+1
	hotspot -1,0,length,unID,radius_1,3 : unID=unID+1
	hotspot radius_1,0,length,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,length,unID,radius_1,1+128 : unID=unID+1
	hotspot 1,0,length,unID,radius_1,3 : unID=unID+1
	hotspot -radius_1,0,length,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,length,unID,radius_1,1+128 : unID=unID+1
	hotspot 0,-1,length,unID,radius_1,3 : unID=unID+1
	hotspot 0,radius_1,length,unID,radius_1,2 : unID=unID+1

	hotspot 0,0,length,unID,radius_1,1+128 : unID=unID+1
	hotspot 0,1,length,unID,radius_1,3 : unID=unID+1
	hotspot 0,-radius_1,length,unID,radius_1,2 : unID=unID+1
else
	cone_length=length

	rotz beta

	if iEndMode = ENDMODE_HORIZONTAL then
		alfa_1	= gamma
		alfa_2	= gamma

		!-----------------------!
		! Bottom Radius Editing !
		!-----------------------!

		if abs(gamma-90) >= eps then
			point_1	= radius_1/cos(90-gamma)
			point_2	= -radius_1/cos(90-gamma)
		else
			point_1	= radius_1
			point_2	= -radius_1
		endif

		hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
		hotspot -1,0,0,unID,radius_1,3 : unID=unID+1
		hotspot point_1,0,0,unID,radius_1,2 : unID=unID+1

		hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
		hotspot 1,0,0,unID,radius_1,3 : unID=unID+1
		hotspot point_2,0,0,unID,radius_1,2 : unID=unID+1

		hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
		hotspot 0,-1,0,unID,radius_1,3 : unID=unID+1
		hotspot 0,radius_1,0,unID,radius_1,2 : unID=unID+1

		hotspot 0,0,0,unID,radius_1,1+128 : unID=unID+1
		hotspot 0,1,0,unID,radius_1,3 : unID=unID+1
		hotspot 0,-radius_1,0,unID,radius_1,2 : unID=unID+1

		!--------------------!
		! Top Radius Editing !
		!--------------------!

		plan_length	= sqr(dist_x^2+dist_y^2)

		hotspot plan_length,0,zzyzx,unID,radius_1,1+128 : unID=unID+1
		hotspot plan_length-1,0,zzyzx,unID,radius_1,3 : unID=unID+1
		hotspot plan_length+point_1,0,zzyzx,unID,radius_1,2 : unID=unID+1

		hotspot plan_length,0,zzyzx,unID,radius_1,1+128 : unID=unID+1
		hotspot plan_length+1,0,zzyzx,unID,radius_1,3 : unID=unID+1
		hotspot plan_length+point_2,0,zzyzx,unID,radius_1,2 : unID=unID+1

		hotspot plan_length,0,zzyzx,unID,radius_1,1+128 : unID=unID+1
		hotspot plan_length,-1,zzyzx,unID,radius_1,3 : unID=unID+1
		hotspot plan_length,radius_1,zzyzx,unID,radius_1,2 : unID=unID+1

		hotspot plan_length,0,zzyzx,unID,radius_1,1+128 : unID=unID+1
		hotspot plan_length,1,zzyzx,unID,radius_1,3 : unID=unID+1
		hotspot plan_length,-radius_1,zzyzx,unID,radius_1,2 : unID=unID+1

		roty 90-gamma
	else
		alfa_1	= angle_1
		alfa_2	= angle_2

		rotz beta
		roty 90-gamma
	endif
endif

cone length,radius_1,radius_1,alfa_1,alfa_2

]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! Cylinder

pen gs_cont_pen

unID	= 1
hLineID	= 1000

hotspot2 0,	0,	unID : unID = unID + 1

!--------------------!
! Top Center Editing !
!--------------------!

if iEditMode = EDITMODE_COORDINATES then
	hotspot2 0,			dist_y,	unID,	dist_x,	1+128	: unID = unID + 1
	hotspot2 -1,		dist_y,	unID,	dist_x,	3		: unID = unID + 1
	hotspot2 dist_x,	dist_y,	unID,	dist_x,	2		: unID = unID + 1

	hotspot2 dist_x,	0,		unID,	dist_y,	1+128	: unID = unID + 1
	hotspot2 dist_x,	-1,		unID,	dist_y,	3		: unID = unID + 1
	hotspot2 dist_x,	dist_y,	unID,	dist_y,	2		: unID = unID + 1
else
	hotspot2 dist_x,	0,		unID : unID = unID + 1
endif

if iEndMode = ENDMODE_PERPENDICULAR then
	!-----------------------!
	! Bottom Radius Editing !
	!-----------------------!

	rot2 beta

	if abs(gamma) >= eps & abs(gamma - 180) >= eps then
		hotspot2 0,				0,	unID,	radius_1_gc,	1+128,	radius_1 : unID=unID+1
		hotspot2 -1,			0,	unID,	radius_1_gc,	3,		radius_1 : unID=unID+1
		hotspot2 radius_1_gc,	0,	unID,	radius_1_gc,	2,		radius_1 : unID=unID+1

		hotspot2 0,				0,	unID	,radius_1_gc,	1+128,	radius_1 : unID=unID+1
		hotspot2 1,				0,	unID,	radius_1_gc,	3,		radius_1 : unID=unID+1
		hotspot2 -radius_1_gc,	0,	unID,	radius_1_gc,	2,		radius_1 : unID=unID+1
	else
		if abs(gamma) < eps then
			hotspot2 0,			0,	unID,	length,	1+256	: unID=unID+1
			hotspot2 -1,		0,	unID,	length,	3		: unID=unID+1
			hotspot2 length,	0,	unID,	length,	2		: unID=unID+1
		else
			hotspot2 0,			0,	unID,	length,	1+256	: unID=unID+1
			hotspot2 1,			0,	unID,	length,	3		: unID=unID+1
			hotspot2 -length,	0,	unID,	length,	2		: unID=unID+1
		endif
	endif

	hotspot2 0,	0,			unID,	radius_1,	1+128	: unID=unID+1
	hotspot2 0,	-1,			unID,	radius_1,	3		: unID=unID+1
	hotspot2 0,	radius_1,	unID,	radius_1,	2		: unID=unID+1

	hotspot2 0,	0,			unID,	radius_1,	1+128	: unID=unID+1
	hotspot2 0,	1,			unID,	radius_1,	3		: unID=unID+1
	hotspot2 0,	-radius_1,	unID,	radius_1,	2		: unID=unID+1

	!--------------------!
	! Top Radius Editing !
	!--------------------!

	plan_length = sqr(dist_x^2+dist_y^2)

	if abs(gamma)>= eps & abs(gamma-180) >= eps then
		if gamma > 90 & gamma < 270 then
			hotspot2 -plan_length,				0,	unID,	radius_1_gc,	1+128,	radius_1 : unID=unID+1
			hotspot2 -plan_length-1,			0,	unID,	radius_1_gc,	3,		radius_1 : unID=unID+1
			hotspot2 -plan_length+radius_1_gc,	0,	unID,	radius_1_gc,	2,		radius_1 : unID=unID+1

			hotspot2 -plan_length,				0,	unID,	radius_1_gc,	1+128,	radius_1 : unID=unID+1
			hotspot2 -plan_length+1,			0,	unID,	radius_1_gc,	3,	radius_1 : unID=unID+1
			hotspot2 -plan_length-radius_1_gc,	0,	unID,	radius_1_gc,	2,	radius_1 : unID=unID+1

			hotspot2 -plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 -plan_length,	-1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 -plan_length,	radius_1,	unID,	radius_1,	2		: unID=unID+1

			hotspot2 -plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 -plan_length,	1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 -plan_length,	-radius_1,	unID,	radius_1,	2		: unID=unID+1
		else
			hotspot2 plan_length,				0,	unID,	radius_1_gc,	1+128,	radius_1 : unID=unID+1
			hotspot2 plan_length-1,				0,	unID,	radius_1_gc,	3,		radius_1 : unID=unID+1
			hotspot2 plan_length+radius_1_gc,	0,	unID,	radius_1_gc,	2,		radius_1 : unID=unID+1

			hotspot2 plan_length,				0,	unID,	radius_1_gc,	1+128,	radius_1 : unID=unID+1
			hotspot2 plan_length+1,				0,	unID,	radius_1_gc,	3,		radius_1 : unID=unID+1
			hotspot2 plan_length-radius_1_gc,	0,	unID,	radius_1_gc,	2,		radius_1 : unID=unID+1

			hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 plan_length,	-1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 plan_length,	radius_1,	unID,	radius_1,	2	: unID=unID+1

			hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 plan_length,	1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 plan_length,	-radius_1,	unID,	radius_1,	2		: unID=unID+1
		endif
	else
		if abs(gamma) < eps then
			hotspot2 0,			0,	unID,	length,	1+256	: unID=unID+1
			hotspot2 -1,		0,	unID,	length,	3		: unID=unID+1
			hotspot2 length,	0,	unID,	length,	2		: unID=unID+1

			hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 plan_length,	-1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 plan_length,	radius_1,	unID,	radius_1,	2		: unID=unID+1

			hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 plan_length,	1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 plan_length,	-radius_1,	unID,	radius_1,	2		: unID=unID+1
		else
			hotspot2 0,			0,	unID,	length,	1+256	: unID=unID+1
			hotspot2 1,			0,	unID,	length,	3		: unID=unID+1
			hotspot2 -length,	0,	unID,	length,	2		: unID=unID+1

			hotspot2 -plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 -plan_length,	-1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 -plan_length,	radius_1,	unID,	radius_1,	2		: unID=unID+1

			hotspot2 -plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
			hotspot2 -plan_length,	1,			unID,	radius_1,	3		: unID=unID+1
			hotspot2 -plan_length,	-radius_1,	unID,	radius_1,	2		: unID=unID+1
		endif
	endif

	del 1
else
	if iEndMode = ENDMODE_HORIZONTAL then
		!-----------------------!
		! Bottom Radius Editing !
		!-----------------------!

		point_1	= radius_1/sin(gamma)
		point_2	= -radius_1/sin(gamma)

		rot2 beta

		hotspot2 0,			0,	unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 -1,		0,	unID,	radius_1,	3		: unID=unID+1
		hotspot2 point_1,	0,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 0,			0,	unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 1,			0,	unID,	radius_1,	3		: unID=unID+1
		hotspot2 point_2,	0,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 0,	0,			unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 0,	-1,			unID,	radius_1,	3		: unID=unID+1
		hotspot2 0,	radius_1,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 0,	0,			unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 0,	1,			unID,	radius_1,	3		: unID=unID+1
		hotspot2 0,	-radius_1,	unID,	radius_1,	2		: unID=unID+1

		!--------------------!
		! Top Radius Editing !
		!--------------------!

		plan_length	= sqr(dist_x^2+dist_y^2)

		hotspot2 plan_length,			0,	unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 plan_length-1,			0,	unID,	radius_1,	3		: unID=unID+1
		hotspot2 plan_length+point_1,	0,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 plan_length,			0,	unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 plan_length+1,			0,	unID,	radius_1,	3		: unID=unID+1
		hotspot2 plan_length+point_2,	0,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 plan_length,	-1,			unID,	radius_1,	3		: unID=unID+1
		hotspot2 plan_length,	radius_1,	unID,	radius_1,	2		: unID=unID+1

		hotspot2 plan_length,	0,			unID,	radius_1,	1+128	: unID=unID+1
		hotspot2 plan_length,	1,			unID,	radius_1,	3		: unID=unID+1
		hotspot2 plan_length,	-radius_1,	unID,	radius_1,	2		: unID=unID+1

		del 1
	endif
endif

if ABS(dist_x) < EPS & ABS(dist_y) < EPS then

	hotspot2 0,0,unID : unID=unID+1

	fill gs_fill_type
	poly2_b	2, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0, 0, 901,
			radius_1, 360, 4001

	hotarc2 0,0,radius_1,0,180, hLineID : hLineID = hLineID + 1
	hotarc2 0,0,radius_1,180,360, hLineID : hLineID = hLineID + 1

	poly2_b	2, 1+2+4+64, gs_fill_pen, gs_back_pen,
			0, 0, 901,
			radius_1, 360, 4001

	hotarc2 0,0,radius_1,0,180, hLineID : hLineID = hLineID + 1
	hotarc2 0,0,radius_1,180,360, hLineID : hLineID = hLineID + 1

else
	fill gs_fill_type
	project2{2} 3, 270, 32+3, gs_back_pen, 0, 0, 90
endif
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS=0.00001

dim stDetLevel[3]
	stDetLevel[1]	= `Детальный`
	stDetLevel[2]	= `Простой`
	stDetLevel[3]	= `Откл.`

DETLEVEL_DETAILED	= 1
DETLEVEL_SIMPLE		= 2
DETLEVEL_OFF		= 3

dim stEndMode[3]
	stEndMode[1]	= `Перпендикулярно`
	stEndMode[2]	= `Горизонтальный`
	stEndMode[3]	= `Специальный`

ENDMODE_PERPENDICULAR	= 1
ENDMODE_HORIZONTAL		= 2
ENDMODE_CUSTOM			= 3

dim stEditMode[2]
	stEditMode[1]	= `Угол-Длина`
	stEditMode[2]	= `Координаты`

EDITMODE_ANGLELENGTH	= 1
EDITMODE_COORDINATES	= 2


]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
call "FM_types" parameters all

values "gs_detlevel_3D"	stDetLevel
values "iDetlevel3D"	DETLEVEL_DETAILED, DETLEVEL_SIMPLE, DETLEVEL_OFF

values "end_mode"		stEndMode
values "iEndMode"		ENDMODE_PERPENDICULAR, ENDMODE_HORIZONTAL, ENDMODE_CUSTOM

values "edit_mode"		stEditMode
values "iEditMode"		EDITMODE_ANGLELENGTH, EDITMODE_COORDINATES

values "GAMMA"			range [0,360]
values "radius_1" 		range (0,]


if GLOB_MODPAR_NAME = "gs_detlevel_3D" then
	iDetlevel3D = DETLEVEL_DETAILED
	if gs_detlevel_3D = stDetLevel[2] then iDetlevel3D = DETLEVEL_SIMPLE
	if gs_detlevel_3D = stDetLevel[3] then iDetlevel3D = DETLEVEL_OFF
	parameters iDetlevel3D = iDetlevel3D
else
	iDetlevel3D = max(1, min(iDetlevel3D, vardim1(stDetLevel)))
	gs_detlevel_3D = stDetLevel[iDetlevel3D]
	parameters gs_detlevel_3D = gs_detlevel_3D, iDetlevel3D = iDetlevel3D
endif

if GLOB_MODPAR_NAME = "end_mode" then
	iEndMode = ENDMODE_PERPENDICULAR
	if end_mode = stEndMode[2] then iEndMode = ENDMODE_HORIZONTAL
	if end_mode = stEndMode[3] then iEndMode = ENDMODE_CUSTOM
	parameters iEndMode = iEndMode
else
	iEndMode = max(1, min(iEndMode, vardim1(stEndMode)))
	end_mode = stEndMode[iEndMode]
	parameters end_mode = end_mode, iEndMode = iEndMode
endif

if GLOB_MODPAR_NAME = "edit_mode" then
	iEditMode = EDITMODE_ANGLELENGTH
	if edit_mode = stEditMode[2] then iEditMode = EDITMODE_COORDINATES
	parameters iEditMode = iEditMode
else
	iEditMode = max(1, min(iEditMode, vardim1(stEditMode)))
	edit_mode = stEditMode[iEditMode]
	parameters edit_mode = edit_mode, iEditMode = iEditMode
endif

if iEndMode = ENDMODE_HORIZONTAL | iEndMode = ENDMODE_PERPENDICULAR then hideparameter "angle_1","angle_2"

if gs_cont_pen = 0	then parameters gs_cont_pen = 2
if gs_fill_pen = 0	then parameters gs_fill_pen = 91
If gs_resol < 3		then parameters gs_resol = 3

lock "a","b"
if iDetlevel3D = DETLEVEL_SIMPLE then lock "gs_resol"
if abs(gamma-90)>=eps & abs(gamma-270)>=eps then lock "gs_fill_pen"

if GLOB_MODPAR_NAME = "radius_1"	then parameters radius_1_gc	= radius_1 * cos(90 - gamma)
if GLOB_MODPAR_NAME = "radius_1_gc"	then parameters radius_1	= radius_1_gc / cos(90 - gamma)
if GLOB_MODPAR_NAME = "gamma"		then parameters radius_1_gc	= radius_1 * cos(90 - gamma)

if iEditMode = EDITMODE_COORDINATES then
	if abs(dist_x) < eps & abs(dist_y) < eps then
		gamma	= 90
		beta	= 0
	else
		gamma	= atn(zzyzx/(sqr(dist_x^2+dist_y^2)))

		if abs(dist_x) >= eps & abs(dist_y) >= eps then
			if dist_x > 0 then
				if dist_y > 0 then
					beta = atn(dist_y/dist_x)
				else
					beta = 360 - atn(abs(dist_y)/dist_x)
				endif
			else
				if dist_y > 0 then
					beta = 180 - atn(dist_y/abs(dist_x))
				else
					beta = 180 + atn(abs(dist_y)/abs(dist_x))
				endif
			endif
		else
			if abs(dist_x) < eps then
				if dist_y > 0 then
					beta = 90
				else
					beta = 270
				endif
			else
				if dist_x > 0 then
					beta = 0
				else
					beta = 180
				endif
			endif
		endif
	endif

	!! Length on the Center
	length = sqr(dist_x^2+dist_y^2+zzyzx^2)

	parameters	gamma	= gamma,
				beta	= beta,
				length	= length,
				a		= 2 * radius_1,
				b		= 2 * radius_1

	lock "gamma","length"
else
	!! Length on the Center
	parameters	zzyzx	= length*sin(gamma),
				a		= length*cos(gamma),
				b		= 2*radius_1,
				dist_x	= length*cos(gamma),
				dist_y	= 0

	lock "zzyzx","dist_x","dist_y"
endif
]]>
</Script_VL>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[Вращаемый цилиндр с настраиваемым концом.]]>
</Comment>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<ParamSection SectVersion="22" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Value>6.12303176911e-17</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Высота"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<String Name="gs_detlevel_3D">
			<Description><![CDATA["3D"]]></Description>
			<Value><![CDATA["Детальный"]]></Value>
		</String>
		<Integer Name="iDetlevel3D">
			<Description><![CDATA["3D"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Length Name="radius_1">
			<Description><![CDATA["Радиус Цилиндра"]]></Description>
			<Value>0.5</Value>
		</Length>
		<Length Name="radius_1_gc">
			<Description><![CDATA["Радиус Гамма-Коррекции"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.5</Value>
		</Length>

		<!-- gs_structural_dim: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_structural_dim">
			<Description><![CDATA["Конструктивные Размеры"]]></Description>
		</Title>
		<String Name="edit_mode">
			<Description><![CDATA["Способ Редактирования"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Угол-Длина"]]></Value>
		</String>
		<Integer Name="iEditMode">
			<Description><![CDATA["Способ Редактирования"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<String Name="end_mode">
			<Description><![CDATA["Задание Основания и Вершины"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Перпендикулярно"]]></Value>
		</String>
		<Integer Name="iEndMode">
			<Description><![CDATA["Задание Основания и Вершины"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Angle Name="gamma">
			<Description><![CDATA["Угол в Плоскости XY"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>90</Value>
		</Angle>
		<Angle Name="beta">
			<Description><![CDATA["Угол в Плоскости XY"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Length Name="length">
			<Description><![CDATA["Длина Цилиндра"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="dist_x">
			<Description><![CDATA["Расстояние X"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6.12303176911e-17</Value>
		</Length>
		<Length Name="dist_y">
			<Description><![CDATA["Расстояние Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Angle Name="angle_1">
			<Description><![CDATA["Угол Внизу"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>60</Value>
		</Angle>
		<Angle Name="angle_2">
			<Description><![CDATA["Угол Вверху"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>45</Value>
		</Angle>

		<!-- gs_3D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_3D_representation">
			<Description><![CDATA["3D-отображение"]]></Description>
		</Title>
		<Integer Name="gs_resol">
			<Description><![CDATA["Аппроксимация"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>36</Value>
		</Integer>
		<Boolean Name="gs_shadow">
			<Description><![CDATA["Отбрасывание Теней"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D-отображение"]]></Description>
		</Title>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Перо Контура"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Тип Штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Перо Фона"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>

		<!-- gs_material: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_material">
			<Description><![CDATA["Покрытия"]]></Description>
		</Title>
		<Material Name="gs_prim_mat">
			<Description><![CDATA["Цилиндр"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>60</Value>
		</Material>

		<!-- gs_list: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_list">
			<Description><![CDATA["Параметры Спецификаций"]]></Description>
		</Title>
		<RealNum Name="gs_list_cost">
			<Description><![CDATA["Цена"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="gs_list_manufacturer">
			<Description><![CDATA["Производитель"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_note">
			<Description><![CDATA["Примечания"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_location">
			<Description><![CDATA["Расположение"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_accessories">
			<Description><![CDATA["Аксессуары"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_Type">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Другой"]]></Value>
		</String>
		<Integer Name="iFMType">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>25</Value>
		</Integer>
		<String Name="FM_InventoryNumber">
			<Description><![CDATA["Инвентарный Номер"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_SerialNumber">
			<Description><![CDATA["Серийный Номер"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_ProductionYear">
			<Description><![CDATA["Год Производства"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="FM_ObjectWeight">
			<Description><![CDATA["Вес Изделия"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="FM_ObjectWeightUnit">
			<Description><![CDATA["Единица Веса"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["кг"]]></Value>
		</String>
		<String Name="gs_list_custom1">
			<Description><![CDATA["Пользовательское Значение 1"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom2">
			<Description><![CDATA["Пользовательское Значение 2"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom3">
			<Description><![CDATA["Пользовательское Значение 3"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom4">
			<Description><![CDATA["Пользовательское Значение 4"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom5">
			<Description><![CDATA["Пользовательское Значение 5"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="LibraryLangCode">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["RUS"]]></Value>
		</String>
	</Parameters>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="2030" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	00800803000000F4E091F900000225504C5445FFFFFF8585858383838080807D
	7D7D818181868686B4B4B49494949797979A9A9AA9A9A9A6A6A6B7B7B7919191
	BABABAB2B2B2C2C2C2C1C1C15D5D5DB1B1B1C3C3C3A4A4A4B8B8B8A7A7A79090
	909E9E9EABABABC6C6C6AAAAAA9F9F9F9B9B9BAEAEAE8E8E8EB5B5B593939396
	9696F2F2F3F1F1F2BDBDBD989898B0B0B0F0F0F1EDEDEEBEBEBEEBEBECEFEFF0
	ECECED8F8F8FE5E5E6EDEDECD3D3D4E2E2E3E3E3E3E3E3E4ADADAD6060606767
	67E6E6E7EAEAEBD6D6D7C5C5C5B6B6B6E7E7E8D0D0D1E1E1E2DADADBD5D5D6D2
	D2D3DEDEDFDCDCDDD9D9DA5C5C5CD8D8D9646464DFDFE0DDDDDEE9E9EA707070
	E8E8E9999999B3B3B3CBCBCCA2A2A2CCCCCCCDCDCDD1D1D1CECECECBCBCBD2D2
	D2F2F2F2D4D4D4CACACACFCFCFF3F3F3D5D5D5F1F1F1F8F8F8EDEDEDD0D0D0F5
	F5F5EAEAEAF0F0F0E2E2E2E9E9E9D3D3D3D6D6D6EFEFEFFBFBFBD8D8D8F4F4F4
	FDFDFDEBEBEBDADADADDDDDDECECECDFDFDFE7E7E7E4E4E4FCFCFC737373DCDC
	DCC9C9C9F7F7F7717171D7D7D7757575F6F6F6727272DBDBDBFEFEFE787878C8
	C8C8DEDEDEE0E0E0E5E5E57A7A7AE1E1E17B7B7B7C7C7CA3A3A38A8A8A6F6F6F
	8D8D8DC4C4C46868686C6C6CD9D9D9767676FAFAFA747474797979666666B9B9
	B9A8A8A8BCBCBC8787878989896D6D6D575757E8E8E8F9F9F9C7C7C7828282AF
	AFAFE6E6E6ACACACA0A0A09D9D9D6B6B6B9C9C9C5E5E5EBFBFBFEEEEEE7E7E7E
	6E6E6EA1A1A1BBBBBBC0C0C08B8B8B8484847F7F7F777777FF97E36B0000057A
	49444154785ED49645B6DC30100073C86EB1993DC8F09931CCCCCC7CBEF86795
	64A1B167AC45EA025596DAAF75EE7F643209EDB69F467F9046765B78CD895971
	73338E9261AF45884529537F43290684F7B68F0F7DE175EA56EF6C3646FBAD0C
	A1D032C033E83FE06F58D1056039BD241237EA3A70FB71DF095801202D074211
	02E45AE27BCBDABD415FA2D2A8352053CC6A8DC5E283B19A6E5B9AEF2E1981F2
	40EC2C72EDF1B0B0235D1E50E88CAADE4567904361AF0904151CAC56F17FC819
	D05A411524A57F0B6F9F315A3BA832BF9CDFCD145213804ACA4C63C4809A42F5
	E71734B47EF3054F085083A01ACC09385CA14601A95F549D7546CD02AE7EE372
	A06651BE3E20331DB0D2D5EF5EC7700079BFAE9F81A1E180FCF365FD097473A3
	5398EDBDD10734BB5D69B080930B8FF6F40151C3377706525DBAFD6E5E80EFC6
	330013FA20FFF2E3CAC3F9010D578C24C3DAF50EBC9A5EBD582620766D31E6F5
	EE24E2C0CBEF9FD6D64A06B876188F656D6F322B934FEFDEDFDABA392D1D2084
	1D8A7446182CDD10708977DE3E9B6EFCBC5E29A0200CE317338E0C70D10A8B48
	AEEE9DFF76B2B17B74AB7A806DB78B8674D80A68F5088B70C9E1EBF3D70F3EEE
	1E9D9E9E2C16505044D88DF4B8C7090094C9B0AC5FEDDBFB5712691807708501
	110CAD1535A4D64B942656AB95DAFD7EBFECA565754C76849850D2D0115CB748
	D4ACD04CCA90D3413B1C47AD6381E5C2FE7D0D8A10323833CC858A79FE81EFE7
	9CF7A7E739EF57DBD2D1D1724B95BFA82C478171201008003400AB92EE6ED08C
	589D03F67A03B684861D31495B640C066C39D61A0C6DB75DDE0AD9927C160D01
	42112A12866803B0812018022118B698160E8E0ED93B3BB0A848F0FA663C77DC
	A5F97CA24CA6AC92CFA022112A100405029441000C9BFDFE3A3D526B342D3847
	87A6ECAD5A6CE97AAC526CD37C7EB325A7605156F269495A25911F989C98118B
	B3B3836C0010C472DD67B53D8901145B57BC587EE17CE98EBCA277CA9F7325F2
	725CC0085300533CC0B575654F7E714541F5E28E927400E6BE19000F98E71070
	840240C40C60771C606103C09B0100880890C319A0360A3856CF09401D0FA88B
	013A3B9201269902A813017A0B5580902600A40540E901C004400D3DC023F601
	EFA555AC02F46B80C39401634C00F6C5012E47011F2300D92A20970BC0210CD0
	C53DC01C051CC407E43DE70A70F7EA06C016AE017DD7CE1000B26902A008409D
	04D0DB931900B50E2400FCCB2E00C4011C4D01003009306616409D6E001805EC
	A50410FF8000780DC003F6673C00210F082601FC94410041FA003C60862BC0EF
	D400D38C039A3305B03BE301D066806D9907E0013CE064BA01561EF04B0A8067
	6C030AB9043CFD5600A79203B2D9059C5E03185803C004006704F02759C038CB
	8037E9042848027880873B000FE001DBBF028858049C3D470E10620BF0774B1A
	01E7D30D184D049495720AB8D063C703ECE40C30703165C025558A807D7180A9
	08404515F0AAB18DA0E083440009D77A66002FA761828A0FCB80465916C1E8FC
	38009829C015818E0830AC33D301ECAADC0CD0E4B1611184023F4B0047D3AC8D
	5CBD1286710135F400CB2F4AC816DEDC3A08E74866D6530208E2018EE5D9AE70
	007902C420C0E3B831E16AA756387477AF13A038C04D7CC0FC0640300600461C
	63D2E614DAA7EE073A084A00F88801B3E21820E479ED29CF39946ADBF7DE2066
	805304A02260C413CA2D1E70D36A1CF7B70F821096EE0F036A4902826808F08C
	0B2AE76FFBA2ED3A7A880720E4AF4110A3D168DD04A05CFA557260428C0684FF
	498ABC069F9BD1F2B5DB8DBD87DF62B2DAFA06A63A5BB1FCF0C7EE158DB7B8E2
	B7EA86D2A23F762AA5D22AE9A7BC06CDAD5E3D5B2DF4E1FEFE7B7740C862F239
	7B877ABAECAD5AEC4A108628B0DA77578F0D81DA87B3BEAFF90274DC70D3A743
	24B20000000049454E44AE426082
	]]>
</Picture>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["FM_types"]]></MName>
		<MainGUID>2759D2DF-AA8E-44D1-AD1D-261581266B34</MainGUID>
	</Macro>
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>352ADEA7-F7A6-4E3B-A2EE-60BB402EFE75</MainGUID>
		<Version>18</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
