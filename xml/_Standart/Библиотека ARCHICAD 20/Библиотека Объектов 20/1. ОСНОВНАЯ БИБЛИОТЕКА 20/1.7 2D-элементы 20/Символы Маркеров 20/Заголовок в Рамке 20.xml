<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="3E84DA40-5513-482A-82CB-A88AE236DCD6" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="43">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>B176ABF1-5813-478F-926B-28EE7C5DC1F7</MainGUID>
	<MainGUID>4FD10D67-2F29-4844-A65A-6597589B0CB5</MainGUID>
	<MainGUID>E861C53A-AE47-47A1-8AE8-D815C1B6E49A</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
PAPER_TO_MODEL = GLOB_SCALE / 1000	! Convert paper size to model size


if gs_debug then
	pen 10

	crossSize = 0.01
	line2 -crossSize,-crossSize, crossSize, crossSize	! Origo
	line2  crossSize,-crossSize,-crossSize, crossSize
endif


if bPositioningPreview then
	if gs_position_side_int = POS_TOP | gs_position_side_int = POS_BOTT then		! Top or Bottom
		previewRatioX = titleRectX / savedTitleRectX
		previewRatioY = titleRectY / savedTitleRectY
	else
		previewRatioY = titleRectX / savedTitleRectX
		previewRatioX = titleRectY / savedTitleRectY
	endif
endif


hID = 1		! Hotspot ID

if AC_UseUniformTextFormat then
	gs_drawing_name_font_type		= AC_TextFont
	gs_drawing_name_font_size		= AC_TextSize
	gs_drawing_name_font_pen		= AC_TextPen
	drawingNameFontStyle			= AC_TextStyle

	gs_drawing_scale_font_type		= AC_TextFont
	gs_drawing_scale_font_size		= AC_TextSize
	gs_drawing_scale_font_pen		= AC_TextPen
	drawingScaleFontStyle			= AC_TextStyle

	gs_drawing_number_font_type		= AC_TextFont
	gs_drawing_number_font_size		= AC_TextSize
	gs_drawing_number_font_pen		= AC_TextPen
	drawingNumberFontStyle			= AC_TextStyle

	gs_source_filename_font_type	= AC_TextFont
	gs_source_filename_font_size	= AC_TextSize
	gs_source_filename_font_pen		= AC_TextPen
	sourceFileNameFontStyle			= AC_TextStyle

	gs_drawing_magn_font_type		= AC_TextFont
	gs_drawing_magn_font_size		= AC_TextSize
	gs_drawing_magn_font_pen		= AC_TextPen
	drawingMagnFontStyle			= AC_TextStyle

	gs_project_filename_font_type	= AC_TextFont
	gs_project_filename_font_size	= AC_TextSize
	gs_project_filename_font_pen	= AC_TextPen
	projectFileNameFontStyle		= AC_TextStyle

	gs_layout_name_font_type		= AC_TextFont
	gs_layout_name_font_size		= AC_TextSize
	gs_layout_name_font_pen			= AC_TextPen
	layoutNameFontStyle				= AC_TextStyle

	gs_layout_number_font_type		= AC_TextFont
	gs_layout_number_font_size		= AC_TextSize
	gs_layout_number_font_pen		= AC_TextPen
	layoutNumberFontStyle			= AC_TextStyle
else
	drawingNameFontStyle		= gs_drawing_name_font_bold +		2 * gs_drawing_name_font_italic +		4 * gs_drawing_name_font_under
	drawingScaleFontStyle		= gs_drawing_scale_font_bold +		2 * gs_drawing_scale_font_italic +		4 * gs_drawing_scale_font_under
	drawingNumberFontStyle		= gs_drawing_number_font_bold +		2 * gs_drawing_number_font_italic +		4 * gs_drawing_number_font_under
	sourceFileNameFontStyle		= gs_source_filename_font_bold +	2 * gs_source_filename_font_italic +	4 * gs_source_filename_font_under
	drawingMagnFontStyle		= gs_drawing_magn_font_bold +		2 * gs_drawing_magn_font_italic +		4 * gs_drawing_magn_font_under
	projectFileNameFontStyle	= gs_project_filename_font_bold +	2 * gs_project_filename_font_italic +	4 * gs_project_filename_font_under
	layoutNameFontStyle			= gs_layout_name_font_bold +		2 * gs_layout_name_font_italic +		4 * gs_layout_name_font_under
	layoutNumberFontStyle		= gs_layout_number_font_bold +		2 * gs_layout_number_font_italic +		4 * gs_layout_number_font_under
endif


bInside = (AC_titleFitMode = 2 | AC_titleFitMode = 3)	! Layout or Cell; Position of the title inside or outside the drawing
bInvert = (gs_position_side_int = POS_TOP | gs_position_side_int = POS_LEFT)	! Top or Left; Invert title configuration


anchorDrawingName			= 3 + not(bInvert) * 6		! 3 or 9
anchorDrawingScale			= 1 + not(bInvert) * 2		! 7 or 9
anchorSourceFileName		= 3 + not(bInvert) * 6		! 3 or 9
anchorDrawingMagnification	= 1 + not(bInvert) * 2		! 7 or 9
anchorProjectFileName		= 3 + not(bInvert) * 6		! 3 or 9
anchorLayoutName			= 3 + not(bInvert) * 6		! 3 or 9
if gs_show_layout_number & gs_show_drawing_number then
	anchorDrawingNumber	= 8
	anchorLayoutNumber	= 2
else
	anchorDrawingNumber	= 5
	anchorLayoutNumber	= 5
endif


define style "styleDrawingName" 	gs_drawing_name_font_type,
									gs_drawing_name_font_size,
									anchorDrawingName,
									drawingNameFontStyle

define style "styleDrawingScale"	gs_drawing_scale_font_type,
									gs_drawing_scale_font_size,
									5,
									drawingScaleFontStyle

define style "styleDrawingNumber"	gs_drawing_number_font_type,
									gs_drawing_number_font_size,
									anchorDrawingNumber,
									drawingNumberFontStyle

define style "styleSourceFileName" 	gs_source_filename_font_type,
									gs_source_filename_font_size,
									anchorSourceFileName,
									sourceFileNameFontStyle

define style "styleDrawingMagnification" 	gs_drawing_magn_font_type,
											gs_drawing_magn_font_size,
											5,
											drawingMagnFontStyle

define style "styleProjectFilename" gs_project_filename_font_type,
									gs_project_filename_font_size,
									anchorProjectFileName,
									projectFileNameFontStyle

define style "styleLayoutName" 		gs_layout_name_font_type,
									gs_layout_name_font_size,
									anchorLayoutName,
									layoutNameFontStyle

define style "styleLayoutNumber"	gs_layout_number_font_type,
									gs_layout_number_font_size,
									anchorLayoutNumber,
									layoutNumberFontStyle



if gs_debug & GLOB_CONTEXT <> 5 then
	pen 10
	circle2 AC_LayoutRect[1], AC_LayoutRect[2], 0.01
	circle2 AC_LayoutRect[3], AC_LayoutRect[4], 0.01

	pen 7
	circle2 AC_GridRect[1], AC_GridRect[2], 0.01
	circle2 AC_GridRect[3], AC_GridRect[4], 0.01

	pen 4
	circle2 AC_DrawingRect[1], AC_DrawingRect[2], 0.01
	circle2 AC_DrawingRect[3], AC_DrawingRect[4], 0.01
endif


! ==============================================================================
! Input Parameter Definitions
! ==============================================================================

AC_ProjectName = ""
AC_ProjectPath = ""
n = request ("HomeDB_info", "", n, AC_LayoutNumber, AC_LayoutName, n)
n = request ("Name_of_plan", "", n, AC_ProjectName, AC_ProjectPath)

if gs_drawing_name_custom then
	drawingName = gs_drawing_name_custom_text
else
	if AC_SourceFileName <> "" & gs_drawing_name_extension then
		drawingName = AC_SourceFileName
	else
		drawingName = AC_DrawingName
	endif
endif

if gs_drawing_scale_original then
	drawingScale			= gs_drawing_scale_prefix + AC_OriginalDrawingScale
else
	drawingScale			= gs_drawing_scale_prefix + AC_DrawingScale
endif
drawingNumber			= gs_drawing_number_prefix + AC_DrawingNumber
drawingMagnification	= STR(AC_Magnification, 1,0) + gs_drawing_magn_suffix
layoutNumber			= gs_layout_number_prefix + AC_LayoutNumber
if gs_source_filename_path then
	drawingPath			= AC_SourceFilePath
else
	drawingPath			= AC_SourceFileName
endif
if gs_project_filename_path then
	filePath			= AC_ProjectPath
else
	filePath			= AC_ProjectName
endif
layoutName				= AC_LayoutName


! ==============================================================================
! Draw Title
! ==============================================================================

if gs_debug then

	add2 titlePosX, titlePosY
	rot2 titleAlpha

	if not(AC_ManualPosition) then
		rect2 0,0, titleRectX, titleRectY	! Selected Drawing

		hotspot2 0,0
		hotspot2 0, titleRectY
		hotspot2 titleRectX, 0
		hotspot2 titleRectX, titleRectY
	endif

	del 2
endif


! ==============================================================================
! Precalculations
! ==============================================================================

drawingNameFontH	 = gs_show_drawing_name *			(1.6 * PAPER_TO_MODEL * gs_drawing_name_font_size)
drawingScaleFontH	 = gs_show_drawing_scale *			(1.6 * PAPER_TO_MODEL * gs_drawing_scale_font_size)
drawingNumberFontH	 = gs_show_drawing_number *			(1.6 * PAPER_TO_MODEL * gs_drawing_number_font_size)
sourceFileNameFontH	 = gs_show_source_filename *		(1.6 * PAPER_TO_MODEL * gs_source_filename_font_size)
drawingMagnFontH	 = gs_show_drawing_magnification *	(1.6 * PAPER_TO_MODEL * gs_drawing_magn_font_size)
projectFileNameFontH = gs_show_project_filename *		(1.6 * PAPER_TO_MODEL * gs_project_filename_font_size)
layoutNameFontH		 = gs_show_layout_name *			(1.6 * PAPER_TO_MODEL * gs_layout_name_font_size)
layoutNumberFontH	 = gs_show_layout_number *			(1.6 * PAPER_TO_MODEL * gs_layout_number_font_size)

leftRowHeight	= max(drawingScaleFontH, drawingMagnFontH)
lowerRowHeight	= max(drawingNameFontH, sourceFileNameFontH, projectFileNameFontH, layoutNumberFontH)
titleRowHeight	= drawingNumberFontH + layoutNumberFontH
titleRowWidth	= max(gs_show_drawing_number * stw(drawingNumber), gs_show_layout_number * stw(layoutNumber)) * PAPER_TO_MODEL

titleThickness	= max(leftRowHeight, lowerRowHeight, titleRowHeight, titleRowWidth)

if not(gs_link_title_width) | AC_ManualPosition then
	if bInside then
		titleWidth	= gs_title_width  - titleThickness - 2 * gs_offset
		titleHeight	= gs_title_height - titleThickness - 2 * gs_offset
	else
		titleWidth	= gs_title_width  + 2 * gs_offset
		titleHeight	= gs_title_height + 2 * gs_offset
	endif
else
	if gs_position_side_int = POS_TOP | gs_position_side_int = POS_BOTT then		! Top or Bottom
		if bInside then
			titleWidth	= titleRectX - titleThickness - 2 * gs_offset
			titleHeight	= titleRectY - titleThickness - 2 * gs_offset
		else
			titleWidth	= titleRectX + 2 * gs_offset
			titleHeight	= titleRectY + 2 * gs_offset
		endif
	else
		if bInside then
			titleWidth	= titleRectY - titleThickness - 2 * gs_offset
			titleHeight	= titleRectX - titleThickness - 2 * gs_offset
		else
			titleWidth	= titleRectY + 2 * gs_offset
			titleHeight	= titleRectX + 2 * gs_offset
		endif
	endif
endif



! ==============================================================================
! Positioning
! ==============================================================================

nExtratransformations = 0
if SYMB_MIRRORED & not(bPositioningPreview) then
	mul2 -1, 1
	nExtratransformations = nExtratransformations + 1
endif
if GLOB_CONTEXT = 5 then
	rot2 -SYMB_ROTANGLE
	nExtratransformations = nExtratransformations + 1
endif

add2 titlePosX, titlePosY
rot2 titleAlpha

if gs_position_side_int = POS_TOP then		! Top
	if bInside then
		add2 titleThickness + gs_offset,titleRectY - titleThickness - gs_offset
	else
		add2 -gs_offset, titleRectY + gs_offset
	endif
endif
if gs_position_side_int = POS_LEFT then		! Left
	if bInside then
		add2 titleThickness + gs_offset, titleThickness + gs_offset
	else
		add2 -gs_offset, -gs_offset
	endif
	rot2 90
endif
if gs_position_side_int = POS_RIGHT then		! Right
	if bInside then
		add2 titleRectX - titleThickness - gs_offset, titleThickness + gs_offset
	else
		add2 titleRectX + gs_offset, -gs_offset
	endif
	rot2 90
endif
if gs_position_side_int = POS_BOTT then		! Bottom
	if bInside then
		add2 titleThickness + gs_offset, titleThickness + gs_offset
	else
		add2 -gs_offset, -gs_offset
	endif
endif


! ==============================================================================
! Rectangular Title
! ==============================================================================

iInvert = not(bInvert) - bInvert

! Marker =======================================================================

add2 -titleThickness, -not(bInvert) * titleThickness
gosub 100	! Marker
del 1

posX = -titleThickness / 2
posY = -titleThickness / 2 + bInvert * titleThickness
gosub 202	! Drawing Number
gosub 207	! Layout Number


! Lines ========================================================================

pen gs_title_pen
line_type gs_title_linetype

if gs_title_line_1 then line2 -titleThickness, 0, titleWidth, 0
hotline2 -titleThickness, 0, titleWidth, 0
if gs_title_line_2 then
	if bInvert then
		line2 0,-titleHeight, 0,titleThickness
		hotline2 0,-titleHeight, 0,titleThickness
	else
		line2 0,titleHeight, 0,-titleThickness
		hotline2 0,titleHeight, 0,-titleThickness
	endif
endif

! Hotspots =====================================================================

hotspot2 0,0

if gs_link_title_width & not(AC_ManualPosition) then
	hotspot2 titleWidth, 0

	if bInvert then
		hotspot2 0,-titleHeight
	else
		hotspot2 0,titleHeight
	endif
else
	posMod = (not(bInside) - bInside) * 2 * gs_offset - bInside * titleThickness

	hotspot2  posMod,					0,	hID,	gs_title_width, 1 + 128
	hotspot2 -1,						0,	hID+1,	gs_title_width, 3
	hotspot2  posMod + gs_title_width,	0,	hID+2,	gs_title_width, 2
	hID = hID + 3

	if bInvert then
		hotspot2 0, -posMod,					hID,	gs_title_height, 1 + 128
		hotspot2 0, -1,							hID+1,	gs_title_height, 3
		hotspot2 0, -posMod - gs_title_height,	hID+2,	gs_title_height, 2
		hID = hID + 3
	else
		hotspot2 0, posMod,						hID,	gs_title_height, 1 + 128
		hotspot2 0,-1,							hID+1,	gs_title_height, 3
		hotspot2 0, posMod + gs_title_height,	hID+2,	gs_title_height, 2
		hID = hID + 3
	endif
endif


! Data =========================================================================

posX =  titleWidth
posY = -iInvert * drawingNameFontH
gosub 200	! Drawing Name

posX =  titleWidth
posY = -iInvert * sourceFileNameFontH
gosub 203	! Drawing Path

posX =  titleWidth
posY = -iInvert * projectFileNameFontH
gosub 205	! File Path

posX =  titleWidth
posY = -iInvert * layoutNameFontH
gosub 206	! Layout Name


rot2 90
posX = iInvert * titleHeight
posY = drawingScaleFontH
gosub 201	! Drawing Scale

posX = iInvert * titleHeight
posY = drawingMagnFontH
gosub 204	! Magnification
del 1

! ==============================================================================

del 3 + nExtratransformations

! ==============================================================================

end



100:
! ==============================================================================
! Drawing title marker symbol
! ==============================================================================
! in:
!	titleWidth:
!	titleHeight:
! out:
!	upperLineDx:
!	middleLineDx:
!	bottomLineDx
! ==============================================================================

	if not(gs_show_symbol) then		! Off
		upperLineDx		= 0
		middleLineDx	= 0
		bottomLineDx	= 0
	else
		pen gs_symbol_pen
		fill gs_symbol_fill

		poly2_b 4, 7, gs_symbol_fill_fg, gs_symbol_fill_bg,
			titleThickness,	titleThickness,	0,
			titleThickness,	0,				0,
			0,				0,				0,
			0,				titleThickness,	0

		upperLineDx		= titleHeight
		middleLineDx	= titleHeight
		bottomLineDx	= titleHeight
	endif
return



200:
! ==============================================================================
! Text Drawing Name
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_drawing_name then

		set style "styleDrawingName"
		pen gs_drawing_name_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_drawing_name_pos_x" | gs_GLOB_MODPAR_NAME = "gs_drawing_name_pos_y") then
			textWidth	= stw(drawingName) * PAPER_TO_MODEL
			textHeight	= drawingNameFontH
			textAnchor	= anchorDrawingName
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_drawing_name_pos_x,				posY + gs_drawing_name_pos_y,
				  posX + gs_drawing_name_pos_x + textWidth,	posY + gs_drawing_name_pos_y + textHeight
			del 1
		else
			text2 posX + gs_drawing_name_pos_x, posY + gs_drawing_name_pos_y, drawingName
		endif

		hotspot2 posX,							posY + gs_drawing_name_pos_y,	hID,	gs_drawing_name_pos_x, 1+128
		hotspot2 posX - 1,						posY + gs_drawing_name_pos_y,	hID+1,	gs_drawing_name_pos_x, 3
		hotspot2 posX + gs_drawing_name_pos_x,	posY + gs_drawing_name_pos_y,	hID+2,	gs_drawing_name_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_drawing_name_pos_x,	posY,							hID,	gs_drawing_name_pos_y, 1+128
		hotspot2 posX + gs_drawing_name_pos_x,	posY - 1,						hID+1,	gs_drawing_name_pos_y, 3
		hotspot2 posX + gs_drawing_name_pos_x,	posY + gs_drawing_name_pos_y,	hID+2,	gs_drawing_name_pos_y, 2
		hID = hID + 3
	endif
return

201:
! ==============================================================================
! Text Drawing Scale
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_drawing_scale then

		set style "styleDrawingScale"
		pen gs_drawing_scale_font_pen

		textWidth	= stw(drawingScale) * PAPER_TO_MODEL
		textHeight	= drawingScaleFontH

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_drawing_scale_pos_x" | gs_GLOB_MODPAR_NAME = "gs_drawing_scale_pos_y") then
			textAnchor	= anchorDrawingScale
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + iInvert * gs_drawing_scale_pos_x,				posY + gs_drawing_scale_pos_y,
				  posX + iInvert * gs_drawing_scale_pos_x + textWidth,	posY + gs_drawing_scale_pos_y + textHeight
			del 1
		else
			add2 posX + iInvert * gs_drawing_scale_pos_x, posY + gs_drawing_scale_pos_y
			add2 -iInvert * textWidth/2, -textHeight / 2
			if (gs_position_side_int = POS_RIGHT | gs_position_side_int = POS_LEFT) then
				rot2 180
			else
				rot2 0
			endif
			text2 0, 0, drawingScale

			del 3
		endif

		hotspot2 posX,										posY + gs_drawing_scale_pos_y,	hID,	gs_drawing_scale_pos_x, 1+128
		hotspot2 posX - iInvert,							posY + gs_drawing_scale_pos_y,	hID+1,	gs_drawing_scale_pos_x, 3
		hotspot2 posX + iInvert * gs_drawing_scale_pos_x,	posY + gs_drawing_scale_pos_y,	hID+2,	gs_drawing_scale_pos_x, 2
		hID = hID + 3

		hotspot2 posX + iInvert * gs_drawing_scale_pos_x,	posY,							hID,	gs_drawing_scale_pos_y, 1+128
		hotspot2 posX + iInvert * gs_drawing_scale_pos_x,	posY - 1,						hID+1,	gs_drawing_scale_pos_y, 3
		hotspot2 posX + iInvert * gs_drawing_scale_pos_x,	posY + gs_drawing_scale_pos_y,	hID+2,	gs_drawing_scale_pos_y, 2
		hID = hID + 3
	endif
return

202:
! ==============================================================================
! Text Drawing Number
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_drawing_number then

		set style "styleDrawingNumber"
		pen gs_drawing_number_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_drawing_number_pos_x" | gs_GLOB_MODPAR_NAME = "gs_drawing_number_pos_y") then
			textWidth	= stw(drawingNumber) * PAPER_TO_MODEL
			textHeight	= drawingNumberFontH
			textAnchor	= anchorDrawingNumber
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_drawing_number_pos_x,				posY + gs_drawing_number_pos_y,
				  posX + gs_drawing_number_pos_x + textWidth,	posY + gs_drawing_number_pos_y + textHeight
			del 1
		else
			text2 posX + gs_drawing_number_pos_x, posY + gs_drawing_number_pos_y, drawingNumber
		endif

		hotspot2 posX,								posY + gs_drawing_number_pos_y,	hID,	gs_drawing_number_pos_x, 1+128
		hotspot2 posX - 1,							posY + gs_drawing_number_pos_y,	hID+1,	gs_drawing_number_pos_x, 3
		hotspot2 posX + gs_drawing_number_pos_x,	posY + gs_drawing_number_pos_y,	hID+2,	gs_drawing_number_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_drawing_number_pos_x,	posY,							hID,	gs_drawing_number_pos_y, 1+128
		hotspot2 posX + gs_drawing_number_pos_x,	posY - 1,						hID+1,	gs_drawing_number_pos_y, 3
		hotspot2 posX + gs_drawing_number_pos_x,	posY + gs_drawing_number_pos_y,	hID+2,	gs_drawing_number_pos_y, 2
		hID = hID + 3
	endif
return

203:
! ==============================================================================
! Text Drawing Path
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_source_filename then

		set style "styleSourceFileName"
		pen gs_source_filename_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_source_filename_pos_x" | gs_GLOB_MODPAR_NAME = "gs_source_filename_pos_y") then
			textWidth	= stw(drawingPath) * PAPER_TO_MODEL
			textHeight	= sourceFileNameFontH
			textAnchor	= anchorSourceFileName
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_source_filename_pos_x,				posY + gs_source_filename_pos_y,
				  posX + gs_source_filename_pos_x + textWidth,	posY + gs_source_filename_pos_y + textHeight
			del 1
		else
			text2 posX + gs_source_filename_pos_x, posY + gs_source_filename_pos_y, drawingPath
		endif

		hotspot2 posX,								posY + gs_source_filename_pos_y,	hID,	gs_source_filename_pos_x, 1+128
		hotspot2 posX - 1,							posY + gs_source_filename_pos_y,	hID+1,	gs_source_filename_pos_x, 3
		hotspot2 posX + gs_source_filename_pos_x,	posY + gs_source_filename_pos_y,	hID+2,	gs_source_filename_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_source_filename_pos_x,	posY,								hID,	gs_source_filename_pos_y, 1+128
		hotspot2 posX + gs_source_filename_pos_x,	posY - 1,							hID+1,	gs_source_filename_pos_y, 3
		hotspot2 posX + gs_source_filename_pos_x,	posY + gs_source_filename_pos_y,	hID+2,	gs_source_filename_pos_y, 2
		hID = hID + 3
	endif
return

204:
! ==============================================================================
! Text Magnification
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_drawing_magnification then

		set style "styleDrawingMagnification"
		pen gs_drawing_magn_font_pen

		textWidth	= stw(drawingMagnification) * PAPER_TO_MODEL
		textHeight	= drawingMagnFontH

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_drawing_magn_pos_x" | gs_GLOB_MODPAR_NAME = "gs_drawing_magn_pos_y") then
			textAnchor	= anchorDrawingMagnification
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + iInvert * gs_drawing_magn_pos_x,				posY + gs_drawing_magn_pos_y,
				  posX + iInvert * gs_drawing_magn_pos_x + textWidth,	posY + gs_drawing_magn_pos_y + textHeight
			del 1
		else
			add2 posX + iInvert * gs_drawing_magn_pos_x, posY + gs_drawing_magn_pos_y
			add2 -iInvert * textWidth/2, -textHeight / 2
			if (gs_position_side_int = POS_RIGHT | gs_position_side_int = POS_LEFT) then
				rot2 180
			else
				rot2 0
			endif

			text2 0, 0, drawingMagnification
			del 3
		endif

		hotspot2 posX,										posY + gs_drawing_magn_pos_y,	hID,	gs_drawing_magn_pos_x, 1+128
		hotspot2 posX - iInvert,							posY + gs_drawing_magn_pos_y,	hID+1,	gs_drawing_magn_pos_x, 3
		hotspot2 posX + iInvert * gs_drawing_magn_pos_x,	posY + gs_drawing_magn_pos_y,	hID+2,	gs_drawing_magn_pos_x, 2
		hID = hID + 3

		hotspot2 posX + iInvert * gs_drawing_magn_pos_x,	posY,							hID,	gs_drawing_magn_pos_y, 1+128
		hotspot2 posX + iInvert * gs_drawing_magn_pos_x,	posY - 1,						hID+1,	gs_drawing_magn_pos_y, 3
		hotspot2 posX + iInvert * gs_drawing_magn_pos_x,	posY + gs_drawing_magn_pos_y,	hID+2,	gs_drawing_magn_pos_y, 2
		hID = hID + 3
	endif
return

205:
! ==============================================================================
! Text File Path
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_project_filename then

		set style "styleProjectFilename"
		pen gs_project_filename_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_project_filename_pos_x" | gs_GLOB_MODPAR_NAME = "gs_project_filename_pos_y") then
			textWidth	= stw(filePath) * PAPER_TO_MODEL
			textHeight	= projectFileNameFontH
			textAnchor	= anchorProjectFileName
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_project_filename_pos_x,				posY + gs_project_filename_pos_y,
				  posX + gs_project_filename_pos_x + textWidth,	posY + gs_project_filename_pos_y + textHeight
			del 1
		else
			text2 posX + gs_project_filename_pos_x, posY + gs_project_filename_pos_y, filePath
		endif

		hotspot2 posX,								posY + gs_project_filename_pos_y,	hID,	gs_project_filename_pos_x, 1+128
		hotspot2 posX - 1,							posY + gs_project_filename_pos_y,	hID+1,	gs_project_filename_pos_x, 3
		hotspot2 posX + gs_project_filename_pos_x,	posY + gs_project_filename_pos_y,	hID+2,	gs_project_filename_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_project_filename_pos_x,	posY,								hID,	gs_project_filename_pos_y, 1+128
		hotspot2 posX + gs_project_filename_pos_x,	posY - 1,							hID+1,	gs_project_filename_pos_y, 3
		hotspot2 posX + gs_project_filename_pos_x,	posY + gs_project_filename_pos_y,	hID+2,	gs_project_filename_pos_y, 2
		hID = hID + 3
	endif
return

206:
! ==============================================================================
! Text Layout Name
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_layout_name then

		set style "styleLayoutName"
		pen gs_layout_name_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_layout_name_pos_x" | gs_GLOB_MODPAR_NAME = "gs_layout_name_pos_y") then
			textWidth	= stw(layoutName) * PAPER_TO_MODEL
			textHeight	= layoutNameFontH
			textAnchor	= anchorLayoutName
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_layout_name_pos_x,				posY + gs_layout_name_pos_y,
				  posX + gs_layout_name_pos_x + textWidth,	posY + gs_layout_name_pos_y + textHeight
			del 1
		else
			text2 posX + gs_layout_name_pos_x, posY + gs_layout_name_pos_y, layoutName
		endif

		hotspot2 posX,							posY + gs_layout_name_pos_y,	hID,	gs_layout_name_pos_x, 1+128
		hotspot2 posX - 1,						posY + gs_layout_name_pos_y,	hID+1,	gs_layout_name_pos_x, 3
		hotspot2 posX + gs_layout_name_pos_x,	posY + gs_layout_name_pos_y,	hID+2,	gs_layout_name_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_layout_name_pos_x,	posY,							hID,	gs_layout_name_pos_y, 1+128
		hotspot2 posX + gs_layout_name_pos_x,	posY - 1,						hID+1,	gs_layout_name_pos_y, 3
		hotspot2 posX + gs_layout_name_pos_x,	posY + gs_layout_name_pos_y,	hID+2,	gs_layout_name_pos_y, 2
		hID = hID + 3
	endif
return

207:
! ==============================================================================
! Text Layout Number
! ==============================================================================
! in:
!	posX:	position X
!	posY:	position Y
! ==============================================================================

	if gs_show_layout_number then

		set style "styleLayoutNumber"
		pen gs_layout_number_font_pen

		if (GLOB_CONTEXT = 22 | GLOB_CONTEXT = 28) & (gs_GLOB_MODPAR_NAME = "gs_layout_number_pos_x" | gs_GLOB_MODPAR_NAME = "gs_layout_number_pos_y") then
			textWidth	= stw(layoutNumber) * PAPER_TO_MODEL
			textHeight	= layoutNumberFontH
			textAnchor	= anchorLayoutNumber
			gosub 300

			add2 anchorX, anchorY

			rect2 posX + gs_layout_number_pos_x,				posY + gs_layout_number_pos_y,
				  posX + gs_layout_number_pos_x + textWidth,	posY + gs_layout_number_pos_y + textHeight
			del 1
		else
			text2 posX + gs_layout_number_pos_x, posY + gs_layout_number_pos_y, layoutNumber
		endif

		hotspot2 posX,							posY + gs_layout_number_pos_y,	hID,	gs_layout_number_pos_x, 1+128
		hotspot2 posX - 1,						posY + gs_layout_number_pos_y,	hID+1,	gs_layout_number_pos_x, 3
		hotspot2 posX + gs_layout_number_pos_x,	posY + gs_layout_number_pos_y,	hID+2,	gs_layout_number_pos_x, 2
		hID = hID + 3

		hotspot2 posX + gs_layout_number_pos_x,	posY,							hID,	gs_layout_number_pos_y, 1+128
		hotspot2 posX + gs_layout_number_pos_x,	posY - 1,						hID+1,	gs_layout_number_pos_y, 3
		hotspot2 posX + gs_layout_number_pos_x,	posY + gs_layout_number_pos_y,	hID+2,	gs_layout_number_pos_y, 2
		hID = hID + 3
	endif
return


300:
! ==============================================================================
! Text anchor relative position
! ==============================================================================
! in:
!	textWidth:		width of the text
!	textHeight:		height of the text
!	textAnchor:		text anchor code
! out:
!	anchorY:		anchor relative position X
!	anchorY:		anchor relative position Y
! ==============================================================================

	if textAnchor = 1 | textAnchor = 4 | textAnchor = 7 then
		anchorX = 0
	endif
	if textAnchor = 2 | textAnchor = 5 | textAnchor = 8 then
		anchorX = -textWidth / 2
	endif
	if textAnchor = 3 | textAnchor = 6 | textAnchor = 9 then
		anchorX = -textWidth
	endif
	if textAnchor = 1 | textAnchor = 2 | textAnchor = 3 then
		anchorY = -textHeight
	endif
	if textAnchor = 4 | textAnchor = 5 | textAnchor = 6 then
		anchorY = -textHeight / 2
	endif
	if textAnchor = 7 | textAnchor = 8 | textAnchor = 9 then
		anchorY = 0
	endif
return


]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS = 0.0001


POS_TOP		= 1
POS_LEFT	= 2
POS_RIGHT	= 3
POS_BOTT	= 4

! =============================================================================
! Migration
! =============================================================================

if GLOB_SCRIPT_TYPE = 7 | GLOB_SCRIPT_TYPE = 8 then goto "MasterEnd"	! forward migration, backward migration




dim mPositionSide[4]
	mPositionSide[1] = `Верх`
	mPositionSide[2] = `Слева`
	mPositionSide[3] = `Справа`
	mPositionSide[4] = `Низ`

dim mTitleFitMode[4]
	mTitleFitMode[1] = `Чертеж`
	mTitleFitMode[2] = `Макет`
	mTitleFitMode[3] = `Ячейка`
	mTitleFitMode[4] = `Специальный`



! ==============================================================================
! Bounding Box Calculations
! ==============================================================================

if AC_ManualPosition then

	titlePosX = 0
	titlePosY = 0
	titleAlpha = 0

	if AC_titleFitMode = 1 then		! Fit to Drawing Rect
		xo = AC_DrawingRect[1]:			yo = AC_DrawingRect[2]
		x1 = AC_DrawingRect[3]:			y1 = AC_DrawingRect[4]
		x2 = x1 + cos(titleAlpha - 90):	y2 = y1 + sin(titleAlpha - 90)
	endif
	if AC_titleFitMode = 2 then		! Fit to Layout Rect
		xo = AC_LayoutRect[1]:		yo = AC_LayoutRect[2]
		x1 = AC_LayoutRect[3]:		y1 = AC_LayoutRect[4]
		x2 = x1 + cos(titleAlpha - 90):	y2 = y1 + sin(titleAlpha - 90)
	endif
	if AC_titleFitMode = 3 then		! Fit to Cell Rect
		xo = AC_GridRect[1]:		yo = AC_GridRect[2]
		x1 = AC_GridRect[3]:		y1 = AC_GridRect[4]
		x2 = x1 + cos(titleAlpha - 90):	y2 = y1 + sin(titleAlpha - 90)
	endif
else
	drawingPosX  = AC_DrawingRect[1]
	drawingPosY  = AC_DrawingRect[2]
	drawingAlpha = AC_DrawingRect[5]

	xo = AC_DrawingRect[1]:		yo = AC_DrawingRect[2]
	x1 = AC_DrawingRect[3]:		y1 = AC_DrawingRect[4]
	x2 = x1 + cos(drawingAlpha - 90):	y2 = y1 + sin(drawingAlpha - 90)

	drawingRectX = (abs((y2 - y1) * (xo - x1) - (x2 - x1) * (yo - y1)) / sqr((x2 - x1)^2 + (y2 - y1)^2))
	diagonalL = sqr((xo - x1)^2 + (yo - y1)^2)

	if abs(drawingRectX) < EPS | diagonalL < EPS then end

	drawingRectY = sqr(diagonalL^2 - drawingRectX^2)

	if AC_titleFitMode = 1 then		! Fit to Drawing Rect
		titlePosX	= drawingPosX
		titlePosY	= drawingPosY
		titleAlpha	= drawingAlpha
		titleRectX	= drawingRectX
		titleRectY	= drawingRectY
	else
		if AC_titleFitMode = 2 then		! Fit to Layout Rect
			titlePosX = AC_LayoutRect[1]
			titlePosY = AC_LayoutRect[2]
			titleAlpha = AC_LayoutRect[5]

			xo = AC_LayoutRect[1]:		yo = AC_LayoutRect[2]
			x1 = AC_LayoutRect[3]:		y1 = AC_LayoutRect[4]
			x2 = x1 + cos(titleAlpha - 90):	y2 = y1 + sin(titleAlpha - 90)
		endif

		if AC_titleFitMode = 3 then		! Fit to Cell Rect
			titlePosX = AC_GridRect[1]
			titlePosY = AC_GridRect[2]
			titleAlpha = AC_GridRect[5]

			xo = AC_GridRect[1]:		yo = AC_GridRect[2]
			x1 = AC_GridRect[3]:		y1 = AC_GridRect[4]
			x2 = x1 + cos(titleAlpha - 90):	y2 = y1 + sin(titleAlpha - 90)
		endif
	endif
endif

titleRectX = (abs((y2 - y1) * (xo - x1) - (x2 - x1) * (yo - y1)) / sqr((x2 - x1)^2 + (y2 - y1)^2))
diagonalL = sqr((xo - x1)^2 + (yo - y1)^2)

if abs(titleRectX) < EPS | diagonalL < EPS then end

titleRectY = sqr(diagonalL^2 - titleRectX^2)

savedTitleRectX = titleRectX
savedTitleRectY = titleRectY


! ==============================================================================
! Draw Preview
! ==============================================================================

if GLOB_SCRIPT_TYPE = 2 then
	bPositioningPreview = (GLOB_CONTEXT = 5 & AC_PreviewType = 0)
else
	bPositioningPreview = 0
endif

if bPositioningPreview then

	if SYMB_MIRRORED then
		mul2 -1, 1
	endif

	PAPER_TO_MODEL = 0.1

	pwx = 20
	pwy = 20

	if GLOB_SCRIPT_TYPE = 2 then
		gs_title_width_paper = 100 * gs_title_width_paper / GLOB_SCALE
		gs_title_height_paper = 100 * gs_title_height_paper / GLOB_SCALE
	endif


	pen 1
	rect2 0,0, pwx,pwy

	if AC_titleFitMode = 1 | AC_ManualPosition then		! Fit to Drawing Rect
		rect2 0.2*pwx, 0.3*pwy, 0.8*pwx, 0.8*pwy

		titlePosX	= 0.2*pwx
		titlePosY	= 0.3*pwy
		titleAlpha	= 0
		titleRectX	= 0.6*pwx
		titleRectY	= 0.5*pwy
	endif

	if AC_titleFitMode = 2 then		! Fit to Layout Rect
		titlePosX	= 0
		titlePosY	= 0
		titleAlpha	= 0
		titleRectX	= pwx
		titleRectY	= pwy
	endif

	if AC_titleFitMode = 3 then		! Fit to Cell Rect
		line2 0,		0.3*pwy,	pwx,		0.3*pwy
		line2 0,		0.8*pwy,	pwx,		0.8*pwy
		line2 0.2*pwx,	0,			0.2*pwx,	pwy
		line2 0.8*pwx,	0,			0.8*pwx,	pwy

		titlePosX	= 0.2*pwx
		titlePosY	= 0.3*pwy
		titleAlpha	= 0
		titleRectX	= 0.6*pwx
		titleRectY	= 0.5*pwy
	endif

	add2 titlePosX, titlePosY
	rot2 titleAlpha

	rect2 0,0, titleRectX,titleRectY

	del 2
endif

! =============================================================================
"MasterEnd":


]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
parameters gs_GLOB_MODPAR_NAME = GLOB_MODPAR_NAME

! ==============================================================================

values "gs_position_side" mPositionSide
values "gs_position_side_int" POS_TOP, POS_LEFT, POS_RIGHT, POS_BOTT

if GLOB_MODPAR_NAME = "gs_position_side" then
	gs_position_side_int = POS_TOP
	if gs_position_side = mPositionSide[2] then gs_position_side_int = POS_LEFT
	if gs_position_side = mPositionSide[3] then gs_position_side_int = POS_RIGHT
	if gs_position_side = mPositionSide[4] then gs_position_side_int = POS_BOTT
	parameters gs_position_side_int = gs_position_side_int
else
	gs_position_side = mPositionSide[gs_position_side_int]
	parameters gs_position_side = gs_position_side
endif


! Title Fit Mode ===============================================================

if gs_link_title_width & not(AC_ManualPosition) then
	lock "gs_title_width"
	hideparameter "gs_title_width"

	lock "gs_title_height"
	hideparameter "gs_title_height"

	if gs_position_side_int = POS_TOP | gs_position_side_int = POS_BOTT then		! Top or Bottom
		titleWidth = savedTitleRectX
		titleHeight = savedTitleRectY
	else
		titleWidth = savedTitleRectY
		titleHeight = savedTitleRectX
	endif

	parameters	gs_title_width = titleWidth

	parameters	gs_title_height = titleHeight
endif


! Title Position  ===============================================================

bNoGrid = (abs(AC_LayoutRect[1] - AC_GridRect[1]) < EPS & abs(AC_LayoutRect[2] - AC_GridRect[2]) < EPS & abs(AC_LayoutRect[3] - AC_GridRect[3]) < EPS & abs(AC_LayoutRect[4] - AC_GridRect[4]) < EPS & abs(AC_LayoutRect[5] - AC_GridRect[5]) < EPS)

if (GLOB_INTGUID = "" or GLOB_INTGUID = "{00000000-0000-0000-0000-000000000000}") then
	if bNoGrid then
		if AC_ManualPosition then
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[4]
		else
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2]
		endif
		if gs_title_fit_mode = mTitleFitMode[3] then
			gs_title_fit_mode = mTitleFitMode[2]
		endif
	else
		if AC_ManualPosition then
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[3], mTitleFitMode[4]
		else
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[3]
		endif
	endif
else
	if bNoGrid then
		if AC_ManualPosition then
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[4]
		else
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2]
		endif
		if gs_title_fit_mode = mTitleFitMode[3] then
			gs_title_fit_mode = mTitleFitMode[2]
		endif
	else
		if AC_ManualPosition then
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[3], mTitleFitMode[4]
		else
			values "gs_title_fit_mode" mTitleFitMode[1], mTitleFitMode[2], mTitleFitMode[3]
		endif
	endif
endif

if GLOB_MODPAR_NAME = "gs_title_fit_mode" then
	if gs_title_fit_mode = mTitleFitMode[1] then AC_titleFitMode = 1
	if gs_title_fit_mode = mTitleFitMode[2] then AC_titleFitMode = 2
	if gs_title_fit_mode = mTitleFitMode[3] then AC_titleFitMode = 3

	parameters	AC_titleFitMode		= AC_titleFitMode,
				AC_ManualPosition	= 0
else
	if AC_ManualPosition then
		parameters gs_title_fit_mode = mTitleFitMode[4]		! Custom
	else
		if AC_titleFitMode < 1 | AC_titleFitMode >= 4 then
			AC_titleFitMode = 1
			parameters AC_titleFitMode = 1
		endif
		gs_title_fit_mode = mTitleFitMode[AC_titleFitMode]
		parameters gs_title_fit_mode = gs_title_fit_mode
	endif
endif

values "gs_title_width" range (0,]
values "gs_title_height" range (0,]

if AC_ManualPosition then		! Custom
	lock "gs_title_position",
		 "gs_position_side",
		 "gs_offset",
		 "gs_link_title_width"
	hideparameter	"gs_title_position",
					"gs_position_side",
					"gs_offset",
					"gs_link_title_width"

	gs_link_title_width = 0
	parameters gs_link_title_width = 0
endif


! Marker =======================================================================

if not(gs_show_symbol) then
	lock "gs_symbol_style", "gs_symbol_pen", "gs_symbol_linetype", "gs_symbol_fill", "gs_symbol_fill_fg", "gs_symbol_fill_bg"
	hideparameter "gs_symbol_style", "gs_symbol_pen", "gs_symbol_linetype", "gs_symbol_fill", "gs_symbol_fill_fg", "gs_symbol_fill_bg"
endif


! ==============================================================================
! Rectangular Drawing Title special settings
! ==============================================================================

if GLOB_MODPAR_NAME = "gs_show_drawing_name" & gs_show_drawing_name then
	parameters	gs_show_source_filename	 = 0,
				gs_show_layout_name		 = 0,
				gs_show_project_filename = 0
endif
if GLOB_MODPAR_NAME = "gs_show_source_filename" & gs_show_source_filename then
	parameters	gs_show_drawing_name	 = 0,
				gs_show_layout_name		 = 0,
				gs_show_project_filename = 0
endif
if GLOB_MODPAR_NAME = "gs_show_layout_name" & gs_show_layout_name then
	parameters	gs_show_drawing_name	 = 0,
				gs_show_source_filename	 = 0,
				gs_show_project_filename = 0
endif
if GLOB_MODPAR_NAME = "gs_show_project_filename" & gs_show_project_filename then
	parameters	gs_show_drawing_name	 = 0,
				gs_show_source_filename	 = 0,
				gs_show_layout_name		 = 0
endif
if GLOB_MODPAR_NAME = "gs_show_drawing_number" & not(gs_show_drawing_number) then
	parameters gs_show_layout_number = 1
endif
if GLOB_MODPAR_NAME = "gs_show_layout_number" & not(gs_show_layout_number) then
	parameters gs_show_drawing_number = 1
endif
if GLOB_MODPAR_NAME = "gs_show_drawing_scale" & gs_show_drawing_scale then
	parameters gs_show_drawing_magnification = 0
endif
if GLOB_MODPAR_NAME = "gs_show_drawing_magnification" & gs_show_drawing_magnification then
	parameters gs_show_drawing_scale = 0
endif


! ==============================================================================
! Title Data
! ==============================================================================

! Drawing Name =================================================================

if AC_UseUniformTextFormat | not(gs_show_drawing_name) then
	lock			"gs_drawing_name_font_type",
					"gs_drawing_name_font_size",
					"gs_drawing_name_font_size_point",
					"gs_drawing_name_font_pen",
					"gs_drawing_name_font_bold",
					"gs_drawing_name_font_italic",
					"gs_drawing_name_font_under"

	hideparameter	"gs_drawing_name_font_type",
					"gs_drawing_name_font_size",
					"gs_drawing_name_font_size_point",
					"gs_drawing_name_font_pen",
					"gs_drawing_name_font_bold",
					"gs_drawing_name_font_italic",
					"gs_drawing_name_font_under"
else
	values "gs_drawing_name_font_size" range [0,]
	values "gs_drawing_name_font_size_point" range [0,]
endif

if not(gs_drawing_name_custom) then lock "gs_drawing_name_custom_text"

if not(gs_show_drawing_number) then
	lock			"gs_drawing_name_custom",
					"gs_drawing_name_custom_text"

	hideparameter	"gs_drawing_name_custom",
					"gs_drawing_name_custom_text"
endif

if AC_SourceFileName = "" then
	hideparameter "gs_drawing_name_extension"
endif


! Drawing Scale ================================================================

if AC_UseUniformTextFormat | not(gs_show_drawing_scale) then
	lock			"gs_drawing_scale_font_type",
					"gs_drawing_scale_font_size",
					"gs_drawing_scale_font_size_poin",
					"gs_drawing_scale_font_pen",
					"gs_drawing_scale_font_bold",
					"gs_drawing_scale_font_italic",
					"gs_drawing_scale_font_under"

	hideparameter	"gs_drawing_scale_font_type",
					"gs_drawing_scale_font_size",
					"gs_drawing_scale_font_size_poin",
					"gs_drawing_scale_font_pen",
					"gs_drawing_scale_font_bold",
					"gs_drawing_scale_font_italic",
					"gs_drawing_scale_font_under"
else
	values "gs_drawing_scale_font_size" range [0,]
	values "gs_drawing_scale_font_size_poin" range [0,]
endif

if not(gs_show_drawing_scale) then
	lock	"gs_drawing_scale_prefix",
			"gs_drawing_scale_original"
	hideparameter	"gs_drawing_scale_prefix",
					"gs_drawing_scale_original"
endif


! Drawing Number ===============================================================

if AC_UseUniformTextFormat | not(gs_show_drawing_number) then
	lock			"gs_drawing_number_font_type",
					"gs_drawing_number_font_size",
					"gs_drawing_number_font_size_poi",
					"gs_drawing_number_font_pen",
					"gs_drawing_number_font_bold",
					"gs_drawing_number_font_italic",
					"gs_drawing_number_font_under"

	hideparameter	"gs_drawing_number_font_type",
					"gs_drawing_number_font_size",
					"gs_drawing_number_font_size_poi",
					"gs_drawing_number_font_pen",
					"gs_drawing_number_font_bold",
					"gs_drawing_number_font_italic",
					"gs_drawing_number_font_under"
else
	values "gs_drawing_number_font_size" range [0,]
	values "gs_drawing_number_font_size_poi" range [0,]
endif

if not(gs_show_drawing_number) then
	lock "gs_drawing_number_prefix"
	hideparameter "gs_drawing_number_prefix"
endif


! Source File Name and Path ====================================================

if AC_UseUniformTextFormat | not(gs_show_source_filename) then
	lock			"gs_source_filename_font_type",
					"gs_source_filename_font_size",
					"gs_source_filename_font_size_po",
					"gs_source_filename_font_pen",
					"gs_source_filename_font_bold",
					"gs_source_filename_font_italic",
					"gs_source_filename_font_under"

	hideparameter	"gs_source_filename_font_type",
					"gs_source_filename_font_size",
					"gs_source_filename_font_size_po",
					"gs_source_filename_font_pen",
					"gs_source_filename_font_bold",
					"gs_source_filename_font_italic",
					"gs_source_filename_font_under"
else
	values "gs_source_filename_font_size" range [0,]
	values "gs_source_filename_font_size_po" range [0,]
endif

if not(gs_show_source_filename) then
	lock			"gs_source_filename_path"
	hideparameter	"gs_source_filename_path"
endif


! Drawing Magnification ========================================================

if AC_UseUniformTextFormat | not(gs_show_drawing_magnification) then
	lock			"gs_drawing_magn_font_type",
					"gs_drawing_magn_font_size",
					"gs_drawing_magn_font_size_point",
					"gs_drawing_magn_font_pen",
					"gs_drawing_magn_font_bold",
					"gs_drawing_magn_font_italic",
					"gs_drawing_magn_font_under"

	hideparameter	"gs_drawing_magn_font_type",
					"gs_drawing_magn_font_size",
					"gs_drawing_magn_font_size_point",
					"gs_drawing_magn_font_pen",
					"gs_drawing_magn_font_bold",
					"gs_drawing_magn_font_italic",
					"gs_drawing_magn_font_under"
else
	values "gs_drawing_magn_font_size" range [0,]
	values "gs_drawing_magn_font_size_point" range [0,]
endif

if not(gs_show_drawing_magnification) then
	lock "gs_drawing_magn_suffix"
	hideparameter "gs_drawing_magn_suffix"
endif


! Project Filename =============================================================

if AC_UseUniformTextFormat | not(gs_show_project_filename) then
	lock			"gs_project_filename_font_type",
					"gs_project_filename_font_size",
					"gs_project_filename_font_size_p",
					"gs_project_filename_font_pen",
					"gs_project_filename_font_bold",
					"gs_project_filename_font_italic",
					"gs_project_filename_font_under"

	hideparameter	"gs_project_filename_font_type",
					"gs_project_filename_font_size",
					"gs_project_filename_font_size_p",
					"gs_project_filename_font_pen",
					"gs_project_filename_font_bold",
					"gs_project_filename_font_italic",
					"gs_project_filename_font_under"
else
	values "gs_project_filename_font_size" range [0,]
	values "gs_project_filename_font_size_p" range [0,]
endif

if not(gs_show_project_filename) then
	lock			"gs_project_filename_path"
	hideparameter	"gs_project_filename_path"
endif


! Layout Name ==================================================================

if AC_UseUniformTextFormat | not(gs_show_layout_name) then
	lock			"gs_layout_name_font_type",
					"gs_layout_name_font_size",
					"gs_layout_name_font_size_point",
					"gs_layout_name_font_pen",
					"gs_layout_name_font_bold",
					"gs_layout_name_font_italic",
					"gs_layout_name_font_under"

	hideparameter	"gs_layout_name_font_type",
					"gs_layout_name_font_size",
					"gs_layout_name_font_size_point",
					"gs_layout_name_font_pen",
					"gs_layout_name_font_bold",
					"gs_layout_name_font_italic",
					"gs_layout_name_font_under"
else
	values "gs_layout_name_font_size" range [0,]
	values "gs_layout_name_font_size_point" range [0,]
endif


! Layout Number ================================================================

if AC_UseUniformTextFormat | not(gs_show_layout_number) then
	lock			"gs_layout_number_font_type",
					"gs_layout_number_font_size",
					"gs_layout_number_font_size_poin",
					"gs_layout_number_font_pen",
					"gs_layout_number_font_bold",
					"gs_layout_number_font_italic",
					"gs_layout_number_font_under"

	hideparameter	"gs_layout_number_font_type",
					"gs_layout_number_font_size",
					"gs_layout_number_font_size_poin",
					"gs_layout_number_font_pen",
					"gs_layout_number_font_bold",
					"gs_layout_number_font_italic",
					"gs_layout_number_font_under"
else
	values "gs_layout_number_font_size" range [0,]
	values "gs_layout_number_font_size_poin" range [0,]
endif

if not(gs_show_layout_number) then
	lock "gs_layout_number_prefix"
	hideparameter "gs_layout_number_prefix"
endif


for i=1 to 255: put i: next i
values "gs_drawing_name_font_pen" use(nsp)
values "gs_drawing_scale_font_pen" use(nsp)
values "gs_drawing_number_font_pen" use(nsp)
values "gs_source_filename_font_pen" use(nsp)
values "gs_drawing_magn_font_pen" use(nsp)
values "gs_project_filename_font_pen" use(nsp)
values "gs_layout_name_font_pen" use(nsp)
values "gs_layout_number_font_pen" use(nsp)
values "gs_title_pen" use(nsp)
values "gs_symbol_pen" use(nsp)
values "gs_symbol_fill_fg" use(nsp)
values "AC_TextPen" get(nsp) ! use get() to clear the parameter queue

! ==============================================================================
! Debug Functions
! ==============================================================================

if not(gs_debug) then
	hideparameter	"AC_DrawingName",
					"AC_SourceFileName",
					"AC_DrawingNumber",
					"AC_SourceFilePath",
					"AC_DrawingScale",
					"AC_OriginalDrawingScale",
					"AC_Magnification",
!!!					"AC_PreviewType",
					"AC_LayoutRect",
					"AC_GridRect",
					"AC_DrawingRect"
endif


Dot_in_mm = 25.4 / 72


!!! Synhronized mm and point in marker width
if GLOB_MODPAR_NAME = "gs_drawing_name_font_size" then
	parameters gs_drawing_name_font_size_point = gs_drawing_name_font_size / Dot_in_mm
	gs_drawing_name_font_size_point = gs_drawing_name_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_drawing_name_font_size_point" then
	parameters gs_drawing_name_font_size = gs_drawing_name_font_size_point * Dot_in_mm
	gs_drawing_name_font_size = gs_drawing_name_font_size_point * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_drawing_scale_font_size" then
	parameters gs_drawing_scale_font_size_poin = gs_drawing_scale_font_size / Dot_in_mm
	gs_drawing_scale_font_size_poin = gs_drawing_scale_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_drawing_scale_font_size_poin" then
	parameters gs_drawing_scale_font_size = gs_drawing_scale_font_size_poin * Dot_in_mm
	gs_drawing_scale_font_size = gs_drawing_scale_font_size_poin * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_drawing_number_font_size" then
	parameters gs_drawing_number_font_size_poi = gs_drawing_number_font_size / Dot_in_mm
	gs_drawing_number_font_size_poi = gs_drawing_number_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_drawing_number_font_size_poi" then
	parameters gs_drawing_number_font_size = gs_drawing_number_font_size_poi * Dot_in_mm
	gs_drawing_number_font_size = gs_drawing_number_font_size_poi * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_source_filename_font_size" then
	parameters gs_source_filename_font_size_po = gs_source_filename_font_size / Dot_in_mm
	gs_source_filename_font_size_po = gs_source_filename_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_source_filename_font_size_po" then
	parameters gs_source_filename_font_size = gs_source_filename_font_size_po * Dot_in_mm
	gs_source_filename_font_size = gs_source_filename_font_size_po * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_drawing_magn_font_size" then
	parameters gs_drawing_magn_font_size_point = gs_drawing_magn_font_size / Dot_in_mm
	gs_drawing_magn_font_size_point = gs_drawing_magn_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_drawing_magn_font_size_point" then
	parameters gs_drawing_magn_font_size = gs_drawing_magn_font_size_point * Dot_in_mm
	gs_drawing_magn_font_size = gs_drawing_magn_font_size_point * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_project_filename_font_size" then
	parameters gs_project_filename_font_size_p = gs_project_filename_font_size / Dot_in_mm
	gs_project_filename_font_size_p = gs_project_filename_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_project_filename_font_size_p" then
	parameters gs_project_filename_font_size = gs_project_filename_font_size_p * Dot_in_mm
	gs_project_filename_font_size = gs_project_filename_font_size_p * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_layout_name_font_size" then
	parameters gs_layout_name_font_size_point = gs_layout_name_font_size / Dot_in_mm
	gs_layout_name_font_size_point = gs_layout_name_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_layout_name_font_size_point" then
	parameters gs_layout_name_font_size = gs_layout_name_font_size_point * Dot_in_mm
	gs_layout_name_font_size = gs_layout_name_font_size_point * Dot_in_mm
endif

if GLOB_MODPAR_NAME = "gs_layout_number_font_size" then
	parameters gs_layout_number_font_size_poin = gs_layout_number_font_size / Dot_in_mm
	gs_layout_number_font_size_poin = gs_layout_number_font_size / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "gs_layout_number_font_size_poin" then
	parameters gs_layout_number_font_size = gs_layout_number_font_size_poin * Dot_in_mm
	gs_layout_number_font_size = gs_layout_number_font_size_poin * Dot_in_mm
endif



]]>
</Script_VL>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<ParamSection SectVersion="22" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Размер 1"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Размер 2"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>

		<!-- gs_title_rotation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_title_rotation">
			<Description><![CDATA["Угол Поворота"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
		</Title>
		<Boolean Name="gs_rotate_with_position">
			<Description><![CDATA["Поворачивать с Расположением"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_rotate_with_drawing">
			<Description><![CDATA["Поворачивать с Чертежом"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Angle Name="gs_custom_angle">
			<Description><![CDATA["Специальный Угол"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>

		<!-- gs_drawing_title_position: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_drawing_title_position">
			<Description><![CDATA["Расположение"]]></Description>
		</Title>
		<String Name="gs_title_fit_mode">
			<Description><![CDATA["Расположение отн..."]]></Description>
			<Value><![CDATA["Чертеж"]]></Value>
		</String>
		<Integer Name="AC_TitleFitMode">
			<Description><![CDATA["Расположение отн..."]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Boolean Name="AC_ManualPosition">
			<Description><![CDATA["Ручное Размещение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="AC_DrawingGUID">
			<Description><![CDATA["Ссылка на Чертеж"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_position_side">
			<Description><![CDATA["Сторона"]]></Description>
			<Value><![CDATA["Низ"]]></Value>
		</String>
		<Integer Name="gs_position_side_int">
			<Description><![CDATA["Сторона"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>4</Value>
		</Integer>
		<Length Name="gs_offset">
			<Description><![CDATA["Смещение Чертежа (Размер Модели)"]]></Description>
			<Value>0.01</Value>
		</Length>

		<!-- gs_drawing_title_width: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_drawing_title_width">
			<Description><![CDATA["Ширина и Высота"]]></Description>
		</Title>
		<Boolean Name="gs_link_title_width">
			<Description><![CDATA["Привязать Размер к Расположению"]]></Description>
			<Value>1</Value>
		</Boolean>
		<Length Name="gs_title_width">
			<Description><![CDATA["Ширина Заголовка (Размер Модели)"]]></Description>
			<Value>0.0119826429093</Value>
		</Length>
		<Length Name="gs_title_height">
			<Description><![CDATA["Высота Заголовка (Размер Модели)"]]></Description>
			<Value>0.011286423921</Value>
		</Length>

		<!-- gs_show_drawing_name: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_drawing_name">
			<Description><![CDATA["Показ Имени Чертежа"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="gs_drawing_name_extension">
			<Description><![CDATA["С Расширением"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_name_custom">
			<Description><![CDATA["Специальное Имя Чертежа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_drawing_name_custom_text">
			<Description><![CDATA["Специальный Текст"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_drawing_name_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_drawing_name_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_drawing_name_font_size_point">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_drawing_name_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_drawing_name_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_name_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_name_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_drawing_name_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_drawing_name_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_drawing_scale: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_drawing_scale">
			<Description><![CDATA["Показ Масштаба Чертежа"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="gs_drawing_scale_original">
			<Description><![CDATA["Использовать Исходный Масштаб"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_drawing_scale_prefix">
			<Description><![CDATA["Префикс Масштаба Чертежа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_drawing_scale_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_drawing_scale_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_drawing_scale_font_size_poin">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_drawing_scale_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_drawing_scale_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_scale_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_scale_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_drawing_scale_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_drawing_scale_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_drawing_number: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_drawing_number">
			<Description><![CDATA["Показ ID Чертежа"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<String Name="gs_drawing_number_prefix">
			<Description><![CDATA["Префикс ID Чертежа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_drawing_number_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_drawing_number_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_drawing_number_font_size_poi">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_drawing_number_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_drawing_number_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_number_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_number_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_drawing_number_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_drawing_number_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_source_filename: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_source_filename">
			<Description><![CDATA["Показ Имени Исходного Файла и Пути"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_source_filename_path">
			<Description><![CDATA["с Путем"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_source_filename_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_source_filename_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_source_filename_font_size_po">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_source_filename_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_source_filename_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_source_filename_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_source_filename_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_source_filename_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_source_filename_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_drawing_magnification: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_drawing_magnification">
			<Description><![CDATA["Показ Увеличения"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_drawing_magn_suffix">
			<Description><![CDATA["Суффикс Увеличения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[" %"]]></Value>
		</String>
		<String Name="gs_drawing_magn_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_drawing_magn_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_drawing_magn_font_size_point">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_drawing_magn_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_drawing_magn_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_magn_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_drawing_magn_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_drawing_magn_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_drawing_magn_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_project_filename: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_project_filename">
			<Description><![CDATA["Показ Имени Файла Проекта и Пути"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_project_filename_path">
			<Description><![CDATA["с Путем"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_project_filename_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_project_filename_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_project_filename_font_size_p">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_project_filename_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_project_filename_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_project_filename_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_project_filename_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_project_filename_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_project_filename_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_layout_name: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_layout_name">
			<Description><![CDATA["Показ Имени Макета"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_layout_name_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_layout_name_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_layout_name_font_size_point">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_layout_name_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_layout_name_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_layout_name_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_layout_name_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_layout_name_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_layout_name_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_show_layout_number: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_layout_number">
			<Description><![CDATA["Показ ID Макета"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_layout_number_prefix">
			<Description><![CDATA["Префикс ID Макета"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_layout_number_font_type">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="gs_layout_number_font_size">
			<Description><![CDATA["Размер Шрифта (мм)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</RealNum>
		<RealNum Name="gs_layout_number_font_size_poin">
			<Description><![CDATA["Размер Шрифта (пт)"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>11.34</Value>
		</RealNum>
		<PenColor Name="gs_layout_number_font_pen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>66</Value>
		</PenColor>
		<Boolean Name="gs_layout_number_font_bold">
			<Description><![CDATA["Жирный"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_layout_number_font_italic">
			<Description><![CDATA["Курсив"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_layout_number_font_under">
			<Description><![CDATA["Подчеркнутый"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="gs_layout_number_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_layout_number_pos_y">
			<Description><![CDATA["Расположение Текста по Y"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_title_lines: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_title_lines">
			<Description><![CDATA["Линии Заголовка"]]></Description>
		</Title>
		<LineType Name="gs_title_linetype">
			<Description><![CDATA["Тип Линии"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_title_pen">
			<Description><![CDATA["Перо"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</PenColor>
		<Boolean Name="gs_title_line_1">
			<Description><![CDATA["Показ Линии 1"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="gs_title_line_2">
			<Description><![CDATA["Показ Линии 2"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>

		<!-- gs_show_symbol: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="gs_show_symbol">
			<Description><![CDATA["Показ Маркера"]]></Description>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<PenColor Name="gs_symbol_pen">
			<Description><![CDATA["Перо"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</PenColor>
		<FillPattern Name="gs_symbol_fill">
			<Description><![CDATA["Штриховка Фона"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_symbol_fill_fg">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</PenColor>
		<PenColor Name="gs_symbol_fill_bg">
			<Description><![CDATA["Перо Фона Штриховки"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>125</Value>
		</PenColor>
		<String Name="AC_TextFont">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="AC_TextSize">
			<Description><![CDATA["Размер Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</RealNum>
		<PenColor Name="AC_TextPen">
			<Description><![CDATA["Перо Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<Integer Name="AC_TextStyle">
			<Description><![CDATA["Стиль Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Boolean Name="AC_UseUniformTextFormat">
			<Description><![CDATA["Единый Формат Текста"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="AC_DrawingName">
			<Description><![CDATA["Имя Чертежа"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA["Имя Чертежа"]]></Value>
		</String>
		<String Name="AC_DrawingNumber">
			<Description><![CDATA["ID Чертежа"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="AC_DrawingScale">
			<Description><![CDATA["Масштаб Чертежа"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA["1 : 100"]]></Value>
		</String>
		<String Name="AC_OriginalDrawingScale">
			<Description><![CDATA["Исходный Масштаб Чертежа"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA["1 : 50"]]></Value>
		</String>
		<RealNum Name="AC_Magnification">
			<Description><![CDATA["Увеличение"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value>1</Value>
		</RealNum>
		<String Name="AC_SourceFileName">
			<Description><![CDATA["Имя Исходного Файла"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA["Имя Исходного Файла"]]></Value>
		</String>
		<String Name="AC_SourceFilePath">
			<Description><![CDATA["Путь Исходного Файла"]]></Description>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<Value><![CDATA["Путь Исходного Файла"]]></Value>
		</String>
		<Integer Name="AC_PreviewType">
			<Description><![CDATA["Тип Предпросмотра"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Boolean Name="AC_ConvertedTitle">
			<Description><![CDATA["Конвертированный Заголовок"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="AC_LayoutRect">
			<Description><![CDATA["Данные Прямоугольника Макета"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<ArrayValues FirstDimension="5" SecondDimension="0">
				<AVal Row="1">-2.21574609878</AVal>
				<AVal Row="2">0.263931800834</AVal>
				<AVal Row="3">3.94791507788</AVal>
				<AVal Row="4">2.13357035504</AVal>
				<AVal Row="5">341.3525</AVal>
			</ArrayValues>
		</Length>
		<Length Name="AC_GridRect">
			<Description><![CDATA["Данные Прямоугольной Сетки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<ArrayValues FirstDimension="5" SecondDimension="0">
				<AVal Row="1">-0.161192373224</AVal>
				<AVal Row="2">0.887144652238</AVal>
				<AVal Row="3">2.29221947768</AVal>
				<AVal Row="4">2.69230076516</AVal>
				<AVal Row="5">341.3525</AVal>
			</ArrayValues>
		</Length>
		<Length Name="AC_DrawingRect">
			<Description><![CDATA["Данные Прямоугольника Чертежа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Unique/>
			</Flags>
			<ArrayValues FirstDimension="5" SecondDimension="0">
				<AVal Row="1">0.19832778852</AVal>
				<AVal Row="2">1.72393537597</AVal>
				<AVal Row="3">1.83877444272</AVal>
				<AVal Row="4">1.58753253554</AVal>
				<AVal Row="5">311.9606</AVal>
			</ArrayValues>
		</Length>
		<String Name="gs_GLOB_MODPAR_NAME">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="gs_debug">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="LibraryLangCode">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["RUS"]]></Value>
		</String>
	</Parameters>
</ParamSection>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="684" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	00800800000000E6553E17000002694944415478DAEDDAC1B1AB201805E09C2A
	98D7001550435A604F0FF460112CB378255801255002651CDEC278AF99AB3789
	21E28BFF5964241AE7137EC1CC782A85B7298574083FBE7F534E3B01380D40BB
	DC0A6030C4340244844C3205F46D00C15E5B36B4EE8178D01A58BA0BCAA379D7
	3C702440EB215828C2CD004B13D16680A589A8410FC483D6C0CB77C10B8E3AF3
	C0E700705800C6B402A8D68088D635D01C20F3407B00307E1C15301D822280D6
	8BD11101B7AB6169BD1A96D6AB6169BD1A1EEE369C39D13E006B33EDCB2280FB
	000A40009F07786E6E128000E60014800004B029A008E0F08099FF45A443189F
	281E3ACBF4114400021080007606B87B868D00CB11800004B03BC010017C1EE0
	F1B54000AF015644000210C0BE015BE4BF03949511C08E6BC0CD06C16D94131A
	670910B6CA22E09722AC5B03FB01FCE5E485A6ED017F7C792300B8072087D789
	1E040CC768972A02F81C8064EA145CAD21580320B34157AF08570098A0488017
	039017AFA16C227B6892748624357A0224909C82EE49323B0513809701348804
	C2F07BF8CCEC90488D4812C86482E61510C6DD592164A61A00874020E669C119
	B2832703D0911EDD0820C98C33E98691AB07B8367267B502406628D21863488D
	3C05102015722DC03004C3760FD5F569685AF40997801461F90330D97C1A707B
	5F8F45489254485FFB22AC5724BC47CF991EA804C806E11B30BD2E1AA88E744A
	A999CB3EA3AF014841C34FBAC3C293D10ECD006432E2BBDC2680081D99EC1430
	3DF7430000D03EDDCCB35E013A5C9BCA0E93409E1BF878FE3A721DA04A124C33
	006C623A23F2F907923AE9BC823A473603CC2E468D00FF007F408F78EDACE759
	0000000049454E44AE426082
	]]>
</Picture>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
actualGUID = FROM_GUID

! ==============================================================================
! Subroutines
! ==============================================================================

	_startID	= "23B73319-83E7-45D9-B1A3-647BA284E40F"	!19 version
	_endID		= "3E84DA40-5513-482A-82CB-A88AE236DCD6"	!new version
gosub "invertscaleoffset_FWM"

! ==============================================================================
! Set migration GUID
! ==============================================================================

setmigrationguid actualGUID

! ==============================================================================
end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! en
! ==============================================================================


! ==============================================================================
! New and deleted parameters
! ==============================================================================
"invertscaleoffset_FWM":
	if actualGUID = _startID then
		if (gs_position_side_int = POS_TOP | gs_position_side_int = POS_LEFT) then

			!invert offset directions to be consistent on rotation

			bSuccess = (stored_par_value("gs_drawing_scale_pos_x", gs_drawing_scale_pos_x) &\
						stored_par_value("gs_drawing_magn_pos_x", gs_drawing_magn_pos_x))
			if bSuccess then
				gs_drawing_scale_pos_x = -gs_drawing_scale_pos_x
				gs_drawing_magn_pos_x = -gs_drawing_magn_pos_x
			endif
			parameters	gs_drawing_scale_pos_x = gs_drawing_scale_pos_x,
						gs_drawing_magn_pos_x = gs_drawing_magn_pos_x
		endif
		
		actualGUID = _endID
	endif
return
]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
targetGUID = TO_GUID

! ==============================================================================
! Subroutines
! ==============================================================================

gosub "invertscaleoffset_BWM"

! ==============================================================================
! Set migration GUID
! ==============================================================================

setmigrationguid targetGUID

! ==============================================================================
end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! end ! en
! ==============================================================================


! ==============================================================================
! New and deleted parameters
! ==============================================================================
"invertscaleoffset_BWM":
	if targetGUID # "" then

		if (gs_position_side_int = POS_TOP | gs_position_side_int = POS_LEFT) then

			!invert offset directions to be consistent on rotation		

			gs_drawing_scale_pos_x = -gs_drawing_scale_pos_x
			gs_drawing_magn_pos_x = -gs_drawing_magn_pos_x
			parameters	gs_drawing_scale_pos_x = gs_drawing_scale_pos_x,
						gs_drawing_magn_pos_x = gs_drawing_magn_pos_x
		endif
	endif
return
]]>
</Script_BWM>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>23B73319-83E7-45D9-B1A3-647BA284E40F</MainGUID>
		<Version>19</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>false</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
