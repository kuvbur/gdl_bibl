<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="2FD16305-CA53-4505-BFA7-4E98A8BA9399" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>B2970E4C-8680-4061-8670-2F4B638F3953</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
if gs_detlevel_2D_m = 0 then				! Scale sensitive
	det2D = 2

	if GLOB_SCALE > 150 then det2D = 1
	if GLOB_SCALE > 75 and GLOB_SCALE <= 150 then det2D = 2
	if GLOB_SCALE <= 75 then det2D = 3
else
	det2D = gs_detlevel_2D_m
endif


end det2D
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS = 0.0001

if GLOB_SCRIPT_TYPE = 4 | \		! parameter script
	GLOB_SCRIPT_TYPE = 5 | \	! interface script
	GLOB_SCRIPT_TYPE = 7 | \	! forward migration
	GLOB_SCRIPT_TYPE = 8 then	! backward migration

	dim stDetail2dMetric[5]
		stDetail2dMetric[1] = `Зависит от Масштаба`
		stDetail2dMetric[2] = `1:50`
		stDetail2dMetric[3] = `1:100`
		stDetail2dMetric[4] = `1:200`
		stDetail2dMetric[5] = `Символический`

	bMetricDimensionNeeded = 0
	if GLOB_SCRIPT_TYPE = 4 | \		! parameter script
		GLOB_SCRIPT_TYPE = 5 then	! interface script
		w_units_form = ""
		rrr = request("Working_length_unit", "", w_units_form)
		bMetricDimensionNeeded = strstr(w_units_form, "m")		! m, cm, mm
	endif

	dim stDetail2D[5]
	if bMetricDimensionNeeded then
		stDetail2D = stDetail2dMetric
	else
		stDetail2d[1]=`Зависит от Масштаба`
		stDetail2d[2]=`Детальный`
		stDetail2d[3]=`Середина`
		stDetail2d[4]=`Простой`
		stDetail2d[5]=`Символический`
	endif
endif
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! returns the values of 2d detail level

end stDetail2d
]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! enable2dDetLevels - possible values
!	2	- enable scale sansitive
!	4	- enable 1:50, detailed
!	8	- enable 1:100, middle
!	16	- enable 1:200, simple
!	32	- enable symbolic

if enable2dDetLevels < EPS then enable2dDetLevels = 2 + 4 + 8 + 16 + 32

dim detLevel2dValueList[]
j = 1
for i = 1 to vardim1(stDetail2D)
	if bittest(enable2dDetLevels, i) then
		if i = 1 then put 0			! Scale sensitive
		if i = 2 then put 3			! 1:50 - Detailed
		if i = 3 then put 2			! 1:100 - Middle
		if i = 4 then put 1			! 1:200 - Simple
		if i = 5 then put 4			! Symbolic

		detLevel2dValueList[j] = stDetail2D[i]
		j = j + 1
	endif
next i

values "gs_detlevel_2D" detLevel2dValueList
values "gs_detlevel_2D_m" get(NSP)

if GLOB_MODPAR_NAME = "gs_detlevel_2D" then
	gs_detlevel_2D_m = 0											! Scale sensitive
	if gs_detlevel_2D = stDetail2D[2] then gs_detlevel_2D_m = 3		! 1:50 - Detailed
	if gs_detlevel_2D = stDetail2D[3] then gs_detlevel_2D_m = 2		! 1:100 - Middle
	if gs_detlevel_2D = stDetail2D[4] then gs_detlevel_2D_m = 1		! 1:200 - Simple
	if gs_detlevel_2D = stDetail2D[5] then gs_detlevel_2D_m = 4		! Symbolic
	parameters gs_detlevel_2D_m = gs_detlevel_2D_m
else
	gs_detlevel_2D = stDetail2D[1]									! Scale sensitive
	if gs_detlevel_2D_m = 1 then gs_detlevel_2D = stDetail2D[4]		! 1:200 - Simple
	if gs_detlevel_2D_m = 2 then gs_detlevel_2D = stDetail2D[3]		! 1:100 - Middle
	if gs_detlevel_2D_m = 3 then gs_detlevel_2D = stDetail2D[2]		! 1:50 - Detailed
	if gs_detlevel_2D_m = 4 then gs_detlevel_2D = stDetail2D[5]		! Symbolic
	parameters gs_detlevel_2D = gs_detlevel_2D
endif
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Dimension 1"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Dimension 2"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Height"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Show 2D Hotspots in 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Bottom Level"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Top Level"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="gs_detlevel_2D">
			<Description><![CDATA[""]]></Description>
			<Value><![CDATA["Зависит от Масштаба"]]></Value>
		</String>
		<Integer Name="gs_detlevel_2D_m">
			<Description><![CDATA[""]]></Description>
			<Value>0</Value>
		</Integer>
		<Integer Name="enable2dDetLevels">
			<Description><![CDATA[""]]></Description>
			<Value>62</Value>
		</Integer>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

</Symbol>
