<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="987196B2-C786-44F9-83BA-16A1806B5C54" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>2BE37B56-E4CC-412B-BA03-C60B6C3F0D5C</MainGUID>
	<MainGUID>0E7235D8-42A8-45E9-A8E4-4F3A10773293</MainGUID>
</Ancestry>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! ==============================================================================
! TEXT
! ======================================================================
nTrans = 0
if txt_show then

	unID = 100
	hotspot2 txt_pos_x,	0,			UnID, txt_pos_y, 1+128	: unID=unID+1
	hotspot2 txt_pos_x,	-1,			UnID, txt_pos_y, 3		: unID=unID+1
	hotspot2 txt_pos_x,	txt_pos_y,	UnID, txt_pos_y, 2		: unID=unID+1

	hotspot2 0,			txt_pos_y,	UnID, txt_pos_x, 1+128	: unID=unID+1
	hotspot2 -1,		txt_pos_y,	UnID, txt_pos_x, 3		: unID=unID+1
	hotspot2 txt_pos_x,	txt_pos_y,	UnID, txt_pos_x, 2		: unID=unID+1

	pen txt_pen

	define style fe1 fontType, fontSizeFixed_mm, 5, bBold + bItalic * 2 + bUnderlined * 4
	style fe1
	add2 txt_pos_x, txt_pos_y
	nTrans = nTrans + 1

	! --- Oriented View ------------------------------ [

	angleViewRot = 0
	rrr = REQUEST ("View_Rotangle", "", angleViewRot)
	totalRotate = (SYMB_ROTANGLE + angleViewRot) MOD 360

	! Text Rotation - Readable / Always Horizontal / Align with Symbol
	! ----------------------------------------------------------------------
	if typeTextRotation_m = 2 then								! Readable
		if (totalRotate > (gs_readable_angle + eps) & totalRotate < (gs_readable_angle + 180 + eps)) then
			rot2 180
			nTrans = nTrans + 1
		endif
	else
		if typeTextRotation_m = 1 then							! Horizontal
			rot2 totalRotate * (SYMB_MIRRORED - not(SYMB_MIRRORED)) ! 1/-1
			nTrans = nTrans + 1
		endif
	endif
	! ----------------------------------------------------------------------

	text2 0,0,txt
	del nTrans
endif

! ==============================================================================
end
! ==============================================================================
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
eps = 0.0001

dim stTextOrientation[3]
	stTextOrientation[1] = `Выровнять по Символу`
	stTextOrientation[2] = `Всегда Горизонтально`
	stTextOrientation[3] = `Читаемый`

w_units_form = ""
rrr = request("Working_length_unit", "", w_units_form)

bMetricDimensionNeeded = strstr(w_units_form, "m")		! m, cm, mm
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
		y0 = 5
		dy = 25

		x1 = 2
		heightInf = 19
		heightOutf = 15	
		widthInfPen = 33

		widthOutf4 = 155
		widthInf4 = 133
		widthOutf5 = 293
		filly	= 26
	
		ui_style 0, 1
		ui_infield{3} "txt_show", x1, y0 - 2, widthOutf5, heightInf,
				7,"",2,1,
				0, 0, 0, 0,
				1,`Показ Имени Растения`, 0,
				2,`Показ Имени Растения`, 1
		y0 = y0 + dy + 10
	
		ui_style 0,0
		ui_outfield `Имя Растения`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield "txt", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf 					
		y0 = y0 + dy
	
		ui_outfield `Тип Шрифта`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield "fontType", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf				
		y0 = y0 + dy

		if bMetricDimensionNeeded then
			ui_outfield `Размер Шрифта (мм)`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
			ui_infield "fontSizeFixed_mm", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf		
		else
			ui_outfield `Размер Шрифта (пт)`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
			ui_infield "fontSizeFixed_pt", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf		
		endif
			y0 = y0 + dy

		ui_outfield `Стиль Шрифта`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield{3} "bBold", x1 + widthOutf4 + 5, y0 - 6, filly, filly,
				6, "",
				2,
				1, 16, 16, 16, 16,
				"ui_bold_flat(1)", "", 0,
				"ui_bold_flat(1)", "", 1\
				ui_tooltip `Жирный`
	
		ui_infield{3} "bItalic",  x1 + widthOutf4 + 6 + filly, y0 - 6, filly, filly,
				6, "",
				2,
				1, 16, 16, 16, 16,
				"ui_italic_flat(1)", "", 0,
				"ui_italic_flat(1)", "", 1\
				ui_tooltip `Курсив`
	
		ui_infield{3} "bUnderlined",  x1 + widthOutf4 + 7 + 2 * filly, y0 - 6, filly, filly,
				6, "",
				2,
				1, 16, 16, 16, 16,
				"ui_underline_flat(1)", "", 0,
				"ui_underline_flat(1)", "", 1\
				ui_tooltip `Подчеркнутый`
	
		y0 = y0 + dy
	
		ui_outfield `Перо Текста`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield "txt_pen", x1 + widthOutf4 + 5, y0 - 2, widthInfPen, heightInf
		y0 = y0 + dy 
	
		ui_outfield `Позиция Текста по X`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield "txt_pos_x", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf			
		y0 = y0 + dy
	
		ui_outfield `Позиция Текста по Y`, x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield "txt_pos_y", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf
		y0 = y0 + dy
	
		ui_outfield `Ориентация Текста`,	x1, y0, widthOutf4, heightOutf, 4*not(txt_show)
		ui_infield{3} "typeTextRotation_m", x1 + widthOutf4 + 5, y0 - 4, widthInf4, heightInf,
				8, "", 3, 1, 0, 0, 0, 0,
				1, `Читаемый`, 2,
				2, `Всегда Горизонтально`, 1,
				3, `Выровнять по Символу`, 0
]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
values "fontSizeFixed_mm" range (0,]

values{2} "typeTextRotation_m" 	2, 	`Читаемый`,
								1, 	`Всегда Горизонтально`,
								0,	`Выровнять по Символу`

! ===== Synhronized mm and point in marker width =====


Dot_in_mm = 25.4 / 72
if GLOB_MODPAR_NAME = "fontSizeFixed_mm" then
	parameters fontSizeFixed_pt = fontSizeFixed_mm / Dot_in_mm
	fontSizeFixed_pt = fontSizeFixed_mm / Dot_in_mm
endif
if GLOB_MODPAR_NAME = "fontSizeFixed_pt" then
	parameters fontSizeFixed_mm = fontSizeFixed_pt * Dot_in_mm
	fontSizeFixed_mm = fontSizeFixed_pt * Dot_in_mm
endif


if not(txt_show) then
	lock "txt_pen","txt","fontType",
		 "fontSizeFixed_mm","fontSizeFixed_pt",
		 "bBold","bItalic","bUnderlined",
		 "txt_pos_x","txt_pos_y","typeTextRotation_m"
	hideparameter "txt_pen","txt","fontType",
				  "fontSizeFixed_mm", "fontSizeFixed_pt",
				  "bBold", "bItalic", "bUnderlined",
				  "txt_pos_x","txt_pos_y","typeTextRotation_m"
endif

if bMetricDimensionNeeded then
	hideparameter "fontSizeFixed_pt"
	lock "fontSizeFixed_pt"
else
	hideparameter "fontSizeFixed_mm"
	lock "fontSizeFixed_mm"
endif
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_FWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_FWM>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_BWM SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_BWM>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_FixSize/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Dimension 1"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Dimension 2"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Height"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Show 2D Hotspots in 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Bottom Level"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Top Level"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D Representation"]]></Description>
			<Fix/>
		</Title>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Contour Pen"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>4</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Fill Type"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Fill Pen"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Fill Background Pen"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>

		<!-- gs_list: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_list">
			<Description><![CDATA["Parameters for Listing"]]></Description>
			<Fix/>
		</Title>
		<RealNum Name="gs_list_cost">
			<Description><![CDATA["Cost"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="gs_list_manufacturer">
			<Description><![CDATA["Manufacturer"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_note">
			<Description><![CDATA["Note/Remarks"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_location">
			<Description><![CDATA["Location"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_Type">
			<Description><![CDATA["Group Type"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Другой"]]></Value>
		</String>
		<Integer Name="iFMType">
			<Description><![CDATA["Group Type"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>25</Value>
		</Integer>
		<String Name="FM_InventoryNumber">
			<Description><![CDATA["Inventory Number"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_ProductionYear">
			<Description><![CDATA["Production Year"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom1">
			<Description><![CDATA["User Defined 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom2">
			<Description><![CDATA["User Defined 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom3">
			<Description><![CDATA["User Defined 3"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom4">
			<Description><![CDATA["User Defined 4"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom5">
			<Description><![CDATA["User Defined 5"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>

		<!-- gs_onorm_Title: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_onorm_Title">
			<Description><![CDATA["Additional Listing Parameters"]]></Description>
			<Fix/>
		</Title>
		<String Name="gs_onorm_name_value">
			<Description><![CDATA["Description Value"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_name">
			<Description><![CDATA["Additional Description"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_diameter">
			<Description><![CDATA["Additional Diameter"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_height">
			<Description><![CDATA["Additional Height"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_perimeter">
			<Description><![CDATA["Additional Perimeter"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_customtext1">
			<Description><![CDATA["Additional Information 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_customtext2">
			<Description><![CDATA["Additional Information 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_description">
			<Description><![CDATA["Additional Description"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_adminunit">
			<Description><![CDATA["Administrative Unit"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_plantname">
			<Description><![CDATA["Scientific Name of Plant"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_id">
			<Description><![CDATA["ID Number"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_admission">
			<Description><![CDATA["Admission Date"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_onorm_modification">
			<Description><![CDATA["Modification Date"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="sLibpartName">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="txt_show">
			<Description><![CDATA["Show Tree Name"]]></Description>
			<Value>1</Value>
		</Boolean>
		<String Name="txt">
			<Description><![CDATA["Tree Name"]]></Description>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="fontType">
			<Description><![CDATA["Font Type"]]></Description>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="fontSizeFixed_mm">
			<Description><![CDATA["Font Size (mm)"]]></Description>
			<Value>3</Value>
		</RealNum>
		<RealNum Name="fontSizeFixed_pt">
			<Description><![CDATA["Font Size (point)"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>8.50393700787</Value>
		</RealNum>
		<PenColor Name="txt_pen">
			<Description><![CDATA["Text Pen"]]></Description>
			<Value>4</Value>
		</PenColor>
		<Boolean Name="bBold">
			<Description><![CDATA["Bold"]]></Description>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="bItalic">
			<Description><![CDATA["Italic"]]></Description>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="bUnderLined">
			<Description><![CDATA["Underline"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Length Name="txt_pos_x">
			<Description><![CDATA["Text Position X"]]></Description>
			<Value>0.001</Value>
		</Length>
		<Length Name="txt_pos_y">
			<Description><![CDATA["Text Position Y"]]></Description>
			<Value>0.01</Value>
		</Length>
		<Integer Name="typeTextRotation_m">
			<Description><![CDATA["Text Orientation on Symbol"]]></Description>
			<Value>0</Value>
		</Integer>
		<Angle Name="gs_readable_angle">
			<Description><![CDATA[""]]></Description>
			<Value>0</Value>
		</Angle>
	</Parameters>
</ParamSection>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

</Symbol>
