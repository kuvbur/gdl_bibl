<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="856ADBF5-B678-403E-B9FB-70155F07B416" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="43">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>56A4A77E-2509-450D-94D0-A816189B7DF4</MainGUID>
	<MainGUID>06BA412F-7262-4221-A9B3-1A3E410E9170</MainGUID>
	<MainGUID>4E5B3C37-FC62-45CC-A81D-6C48E85111AB</MainGUID>
	<MainGUID>4DAFFCF4-6762-4F09-B32D-718501DD0BAC</MainGUID>
	<MainGUID>004A6DCB-5444-4BC2-A769-30E015C3E575</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen pen3D
material rm_mat


! ==============================================================================
! 2D Display Options
! ==============================================================================

!gs_2D_projection_type:
!	0 - Normal 3D
!	1 - View Edges
!	2 - View Polygons
!	3 - Overhead Edges
!	4 - Cut Lines
!	5 - Cut Polygons
!	6 - Bottom Range Cut Lines
!	7 - Top Range Cut Lines

nProjectionCut = 0
if gs_2D_projection then
	if AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE | (AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT & gs_bottom_range_height < gs_cutplane_height) then
		addz gs_bottom_range_height
		cutplane{2} 180, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if gs_2D_projection_type <> 6 then
		addz gs_cutplane_height
		cutplane{2} 180 * (gs_2D_projection_type = 3), 1
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if AC_symb_show_projection_to <> 3 then
		addz gs_top_range_height
		cutplane{2} 0, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
endif


! ==============================================================================
! 3D Hotspots
! ==============================================================================

! --- Profile Width ------------------------------------------------------------
	unID = 1000
	if rm_iRoofEdgeAngle = EDGE_VERTICAL then
		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle), unID,	profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  1,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle), unID,	profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -1,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle), -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle), -1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

! --- Profile Height ------------------------------------------------------------
	unID = 2000
	hotspot  0,										0,  0,									 unID,  rm_ProfileHeight, 1+128 : unID=unID+1
	hotspot -rm_ProfileHeight*sin(rm_PitchAngle),	0,  rm_ProfileHeight*cos(rm_PitchAngle), unID,	rm_ProfileHeight, 2		: unID=unID+1
	hotspot  rm_ProfileHeight*sin(rm_PitchAngle),	0, -rm_ProfileHeight*cos(rm_PitchAngle), unID,  rm_ProfileHeight, 3		: unID=unID+1

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	!!roty -rm_PitchAngle
	!!	hotspot  0,					0, 0, unID, structuralLength, 1+256,	rm_ProjectedLength : unID=unID+1
	!!	hotspot -1,					0, 0, unID, structuralLength, 3,		rm_ProjectedLength : unID=unID+1
	!!	hotspot  structuralLength,	0, 0, unID, structuralLength, 2,		rm_ProjectedLength : unID=unID+1
	!del 1

	if rm_bIsTrimmerRotated then
		hotspot sin(rm_PitchAngle)*(rm_ProfileHeight/2),					0, (rm_ProjectedLength+sin(rm_PitchAngle)*(rm_ProfileHeight/2))*tan(rm_PitchAngle), unID, rm_ProjectedLength, 1+128	: unID=unID+1
		hotspot sin(rm_PitchAngle)*(rm_ProfileHeight/2)-1,					0, (rm_ProjectedLength+sin(rm_PitchAngle)*(rm_ProfileHeight/2))*tan(rm_PitchAngle), unID, rm_ProjectedLength, 3		: unID=unID+1
		hotspot rm_ProjectedLength+sin(rm_PitchAngle)*(rm_ProfileHeight/2),	0, (rm_ProjectedLength+sin(rm_PitchAngle)*(rm_ProfileHeight/2))*tan(rm_PitchAngle), unID, rm_ProjectedLength, 2		: unID=unID+1
	else
		hotspot  0,						0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 1+128	: unID=unID+1
		hotspot -1,						0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 3		: unID=unID+1
		hotspot  rm_ProjectedLength,	0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 2		: unID=unID+1
	endif

	hotspot  0,						0, 0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot -1,						0, 0, unID, rm_ProjectedLength, 3		: unID=unID+1
	hotspot  rm_ProjectedLength,	0, 0, unID, rm_ProjectedLength, 2+128	: unID=unID+1

	!hotspot  0,					0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 1+128	: unID=unID+1
	!hotspot -1,					0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 3		: unID=unID+1
	!hotspot  rm_ProjectedLength,	0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 2		: unID=unID+1

! --- Roof Pitch ------------------------------------------------------------------
	unID = 5000
	hotspot 0,						 0, 0,											unID, rm_PitchAngle, 6		: unID=unID+1
	hotspot rm_ProjectedLength/2,	 0, 0,											unID, rm_PitchAngle, 4+128	: unID=unID+1
	hotspot 0,						-1, 0,											unID, rm_PitchAngle, 7		: unID=unID+1
	hotspot rm_ProjectedLength/2,	 0, (rm_ProjectedLength/2)*tan(rm_PitchAngle),	unID, rm_PitchAngle, 5		: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	addz rm_ProfileHeight/cos (rm_PitchAngle)
	roty -rm_PitchAngle
		hotspot  0,			0, 0, unID, overHang, 1+128,	rm_OverHang : unID=unID+1
		hotspot  1,			0, 0, unID, overHang, 3,		rm_OverHang : unID=unID+1
		hotspot -overHang,	0, 0, unID, overHang, 2,		rm_OverHang : unID=unID+1
	del 2


! --- Soffit Angle ------------------------------------------------------------
	unID = 12000
	if rm_bSoffit then
		if rm_iRoofEdgeAngle = EDGE_VERTICAL then
			hotspot -rm_OverHang,	0, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,6		: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang,	1, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,7		: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)-rm_OverHang*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5		: unID=unID+1
		endif

		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),	0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,6	: unID=unID+1
			hotspot  0,													0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),	1, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,7	: unID=unID+1
			hotspot  0,													0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle)-(rm_OverHang-rm_ProfileHeight*sin(rm_PitchAngle))*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5	: unID=unID+1
		endif

		if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
			hotspot -rm_OverHang,	0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,6	: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang,	1, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,7	: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2-(rm_OverHang-_profileHeightZ/2/tan(rm_PitchAngle))*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5	: unID=unID+1
		endif
	endif


! ==============================================================================
! Roofmaker Element
! ==============================================================================

if rm_iProfileType = PROFILE_TYPE_RECTANGULAR then
	put	-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
		 rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
		 rm_ProfileWidth/2,  rm_ProfileHeight/2, 0,
		-rm_ProfileWidth/2,  rm_ProfileHeight/2, 0,
		-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0
else
	if rm_iProfileType = PROFILE_TYPE_I_BEAM then
		put	-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, -rm_ProfileHeight/2+profileThickness, 0,
			 profileThickness/2, -rm_ProfileHeight/2+profileThickness, 0,
			 profileThickness/2, rm_ProfileHeight/2-profileThickness, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2-profileThickness, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, rm_ProfileHeight/2-profileThickness, 0,
			-profileThickness/2, rm_ProfileHeight/2-profileThickness, 0,
			-profileThickness/2, -rm_ProfileHeight/2+profileThickness, 0,
			-rm_ProfileWidth/2, -rm_ProfileHeight/2+profileThickness, 0,
			-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0
	endif

	if rm_iProfileType = PROFILE_TYPE_L_BEAM then
		put	-rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2-profileThickness, 0,
			-rm_ProfileWidth/2+profileThickness, rm_ProfileHeight/2-profileThickness, 0,
			-rm_ProfileWidth/2+profileThickness, -rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, rm_ProfileHeight/2, 0
	endif

	if rm_iProfileType = PROFILE_TYPE_C_BEAM then
		put	-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
			 rm_ProfileWidth/2, -rm_ProfileHeight/2+profileThickness, 0,
			-rm_ProfileWidth/2+profileThickness, -rm_ProfileHeight/2+profileThickness, 0,
			-rm_ProfileWidth/2+profileThickness, rm_ProfileHeight/2-profileThickness, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2-profileThickness, 0,
			 rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, rm_ProfileHeight/2, 0,
			-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0
	endif
endif


_bottomCutAngle		= 0
_topCutAngle		= 0
_nCut				= 0
if rm_bIsTrimmerRotated then _topCutAngle = rm_PitchAngle
if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR	then _bottomCutAngle = 90-rm_PitchAngle
if rm_iRoofEdgeAngle = EDGE_VERTICAL		then _bottomCutAngle = 90


! --- Bottom Cut ------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		addy rm_ProfileWidth/2
		rotx 90
		addx -rm_OverHang
		addy -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2
		rotz 0
		muly -1
		cutplane 1, 0, 1           !Bottom Cut1
		_nCut = _nCut + 1
		del 4

		addx -rm_OverHang
		cutplane 0, 1, 1, 1         !Bottom Cut2
		_nCut = _nCut + 1
		del 3
	else
		addy rm_ProfileWidth/2
		rotx 90
		addx -rm_OverHang
		addy -rm_OverHang*tan(rm_PitchAngle)+rm_ProfileHeight/cos(rm_PitchAngle)
		rotz -_bottomCutAngle
		muly -1
		cutplane 1, 0, 1
		_nCut = _nCut + 1
		del 6
	endif


! --- Top Cut ------------------------------------------------------------------
	addy rm_ProfileWidth/2
	rotx 90
	addx rm_ProjectedLength
	addy rm_ProjectedLength*tan(rm_PitchAngle)+rm_ProfileHeight/2/cos(rm_PitchAngle)
	addz rm_ProfileWidth/2
	rotz _topCutAngle
	addx -(rm_JointWidth/2)/sin(rm_VerticalTrimmerAngle)
	roty rm_VerticalTrimmerAngle-90
	cutplane 0, 1, 1
	_nCut = _nCut + 1
	del 8


! --- 3D Body ------------------------------------------------------------------

	rotz -90
	rotx rm_PitchAngle-90
	addz -rm_OverHang/cos(rm_PitchAngle)-1
	addy -rm_ProfileHeight/2

	base
		if rm_bSoffit then
			extrude NSP/3, 0, 0, rm_ProjectedLength/cos(rm_PitchAngle)+rm_OverHang/cos(rm_PitchAngle)+3, 1+2+4+16+32,
					use(NSP)
		else
			extrude NSP/3, 0, 0, rm_ProjectedLength/cos(rm_PitchAngle)+rm_OverHang/cos(rm_PitchAngle)+3, 1+2+4+16+32,
					get(NSP)
		endif

		vert 0,0,0
		vert 0,0,rm_ProjectedLength
		vert 0,rm_ProjectedLength,0
		vert 1,0,0

		coor 2, -1,-2,-3,-4
	body 1

	for i = 1 to _nCut
		cutend
	next i

	del 4


! --- Soffit ------------------------------------------------------------------
	if rm_bSoffit then
		Y	= 0
		X	= 0

		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			X	= cos(rm_PitchAngle)*tan(rm_PitchAngle)*rm_ProfileHeight
			Y	= sin(rm_PitchAngle)*tan(rm_PitchAngle)*rm_ProfileHeight
		endif

		if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
			X	= _profileHeightZ/2/tan(rm_PitchAngle)
			Y	= _profileHeightZ/2
		endif


		add -rm_OverHang+X, 0, -rm_OverHang*tan(rm_PitchAngle)+Y
		roty 90-rm_PitchAngle
		cutplane 0, 1, 1, 1         !Cut at rafter
		del 2
		cutplane 0, 1, 1


		add -rm_OverHang+X, 0, -rm_OverHang*tan(rm_PitchAngle)+Y
		rotz -90
		rotx 90-rm_SoffitAngle
		addy rm_ProfileHeight/2
		muly -1
		base
			extrude NSP/3, 0, 0, -rm_OverHang/cos(rm_SoffitAngle), 1+2+4+16+32,
					get(NSP)

			vert 0,0,0
			vert 0,0,rm_ProjectedLength
			vert 0,rm_ProjectedLength,0
			vert 1,0,0

			coor 2, -1,-2,-3,-4
		body 1

		del 5

		cutend
		cutend

	endif


! ==============================================================================
for i = 1 to nProjectionCut
	cutend
next i

END





]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen gs_cont_pen
line_type gs_cont_line
fill gs_fill_type
hLineID = 2500

! ==============================================================================
! Roofmaker Macro
! ==============================================================================

call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										txt_BasePointX			= rm_ProjectedLength/2,
										txt_BasePointY			= 0,
										txt_BaseAngle			= 0,
				returned_parameters 	gs_cutplane_height,
										gs_top_range_height,
										gs_bottom_range_height,
										doCutplane


! ==============================================================================
! Listing
! ==============================================================================
if GLOB_CONTEXT = 6 then
	project2{2} 4, 270, 3+32+1024,
		gs_back_pen,0,0,0
	end
endif


! ==============================================================================
! 2D Hotspots
! ==============================================================================
! --- Centre ------------------------------------------------------------------
	hotspot2 rm_ProjectedLength/2, 0, 100

! --- Profile Width ------------------------------------------------------------
	if rm_bRafterVisible then
		unID = 1000
		hotspot2 -rm_OverHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang, -profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang,  1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot2 -rm_OverHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang,  profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang, -1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	hotspot2  0,					0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot2  rm_ProjectedLength,	0, unID, rm_ProjectedLength, 2		: unID=unID+1
	hotspot2 -1,					0, unID, rm_ProjectedLength, 3		: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	hotspot2  0,			0, unID, rm_OverHang, 1+128	: unID=unID+1
	hotspot2 -rm_OverHang,	0, unID, rm_OverHang, 2		: unID=unID+1
	hotspot2  1,			0, unID, rm_OverHang, 3		: unID=unID+1


! ==============================================================================
! Axis
! ==============================================================================
if not(rm_bRafterVisible) | AC_symb_display_option <> DISPLAY_OUTLINES then
	line_type rm_AxisLineType
	pen gs_axis_line_pen

	line2		-rm_OverHang, 0, rm_ProjectedLength, 0
	hotline2	-rm_OverHang, 0, 0, 0, hLineID : hLineID = hLineID + 1
	hotline2	 0, 0, rm_ProjectedLength, 0, hLineID : hLineID = hLineID + 1

	if not(rm_bRafterVisible) then end
else
	hLineID = hLineID + 2
endif


! ==============================================================================
! Floor Plan View
! ==============================================================================

if AC_symb_display_option = DISPLAY_SYMBOLIC then

	! ----- Symbolic 2D --------------------------------------------------------
	pen gs_fill_pen
	fill gs_fill_type
	line_type gs_cont_line
	project2{2} 3, 270, 3+32+1024, gs_back_pen,0,0,0

	pen gs_cont_pen
	project2{3} 3, 270, 3+32+1024, 8

else

	! ----- View Edges ---------------------------------------------------------
	pen gs_cont_pen
	line_type gs_cont_line

	if AC_symb_display_option = DISPLAY_OVERHEAD_ALL then
		pen AC_overhead_pen
		line_type AC_overhead_linetype
	endif

	project2{3} 3,270,2 + 32 * (AC_symb_display_option = DISPLAY_OVERHEAD_ALL | not(gs_use_3D_view_attributes)), 8,
		parameters	gs_2D_projection		= doCutplane,
					gs_2D_projection_type	= 1,
					gs_cutplane_height		= gs_cutplane_height,
					gs_top_range_height		= gs_top_range_height,
					gs_bottom_range_height	= gs_bottom_range_height


	if AC_symb_display_option <> DISPLAY_OVERHEAD_ALL then
		! ----- View Polygons --------------------------------------------------
		pen gs_fill_pen
		fill gs_fill_type

		project2{3} 3,270,3+32+1024+2048, 4,
						gs_back_pen,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 2,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif


	if AC_symb_display_option = DISPLAY_OVERHEAD_PROJ then

		! ----- Overhead View -----------------------------------------------------
		pen AC_overhead_pen
		line_type AC_overhead_linetype

		project2{3} 3,270,2+32, 2+8,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 3,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif

	if doCutplane then

		! ----- Cut Lines ---------------------------------------------------------
		pen gs_cut_pen
		line_type AC_cut_linetype
		line_property 2

		project2{3} 3,270,2+16+32+256+4096, 2,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 4,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height


		! ----- Cut Polygons ------------------------------------------------------
		pen gs_cut_fill_pen
		fill gs_cut_fill_type

		project2{3} 3,270,3+32+512, 1,
						gs_cut_back_pen,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 5,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif
endif

]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
call "RoofMaker_macro" parameters	gs_iDisplayStandards	= gs_iDisplayStandards,
									gs_disable_property		= gs_disable_property,
									bdft_Length				= lumberSize,
									bdft_ProfileWidth		= rm_ProfileWidth,
									bdft_ProfileHeight		= rm_ProfileHeight,
									bdft_Quantity			= 1
]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! =================================================================================
! Rafter parameters set by the RoofMaker Add-on:
! "rm_ProjectedLength"			Horizontal Projection
! "rm_ProfileWidth"				Profile Width
! "rm_ProfileHeight"			Profile Height
! "rm_Height"					Relative Height of Rafter
! "rm_bRafterVisible"			Rafter Visible in 2D
! "rm_AxisLineType"				Axis Line Type
! "rm_OverHang"					Overhang
! "rm_PitchAngle"				Pitch Angle
! "rm_rm_iProfileType"			Profile
! "rm_iRoofEdgeAngle"			Roof Edge Angle
! "rm_bSoffit"					Soffit
! "rm_SoffitAngle"				Angle of Soffit
! "rm_JointWidth"				Thickness of Joining Element
! "rm_bIsTrimmerRotated"		Ridge or Trimmer Rotated
! "rm_VerticalTrimmerAngle"		Angle to Joining Element
! Parameters not by the RoofMaker Add-on:
! "rm_CutEndPointDist"
! =================================================================================

! ==============================================================================
! Profile
! ==============================================================================

values "rm_profileType" stProfileTypes
values "rm_iProfileType" 1,2,3,4

if GLOB_MODPAR_NAME = "rm_profileType" then
	rm_iProfileType = PROFILE_TYPE_RECTANGULAR
	if rm_profileType = stProfileTypes[2] then rm_iProfileType = PROFILE_TYPE_I_BEAM
	if rm_profileType = stProfileTypes[3] then rm_iProfileType = PROFILE_TYPE_L_BEAM
	if rm_profileType = stProfileTypes[4] then rm_iProfileType = PROFILE_TYPE_C_BEAM
	parameters rm_iProfileType = rm_iProfileType
else
	rm_profileType = stProfileTypes[min(max(1, rm_iProfileType), vardim1(stProfileTypes))]
	parameters rm_profileType = rm_profileType
endif

if rm_iProfileType = PROFILE_TYPE_RECTANGULAR then
	hideparameter	"profileThickness"
	lock			"profileThickness"
endif

if profileThickness < EPS then
	profileThickness = 0.001
	parameters profileThickness = profileThickness
endif

values "rm_RoofEdgeAngle" stEdgeType
values "rm_iRoofEdgeAngle" 1,2,3

if GLOB_MODPAR_NAME = "rm_RoofEdgeAngle" then
	rm_iRoofEdgeAngle = 1
	for i = 2 to vardim1(stEdgeType)
		if rm_RoofEdgeAngle = stEdgeType[i] then
			rm_iRoofEdgeAngle = i
			i = vardim1(stEdgeType)
		endif
	next i
	parameters rm_iRoofEdgeAngle = rm_iRoofEdgeAngle
else
	rm_iRoofEdgeAngle = max(min(rm_iRoofEdgeAngle,vardim1(stEdgeType)),1)
	parameters rm_RoofEdgeAngle = stEdgeType[rm_iRoofEdgeAngle]
endif

! ==============================================================================
! Geometry
! ==============================================================================
values "rm_PitchAngle"				range [0, 90)
values "rm_VerticalTrimmerAngle"	range (0,180)
values "profileWidthHalf"			range (0, )
values "rm_ProjectedLength"			range (0, )
values "rm_ProfileHeight"			range (0,)
values "rm_Overhang"				range [0,)		!-rm_ProjectedLength
values "overhang"					range [0,)
values "rm_SoffitAngle"				range [0,90)
values "structuralLength"			range (0,)

if rm_ProfileWidth < EPS then
	rm_ProfileWidth = 0.001
	parameters rm_ProfileWidth = rm_ProfileWidth
endif

if rm_JointWidth < 0 then
	rm_JointWidth = 0
	parameters rm_JointWidth = rm_JointWidth
endif

if GLOB_MODPAR_NAME = "profileWidthHalf" Then
	rm_ProfileWidth = profileWidthHalf*2
	parameters rm_ProfileWidth = rm_ProfileWidth
else
	profileWidthHalf = rm_ProfileWidth/2
	parameters profileWidthHalf = profileWidthHalf
endif

if GLOB_MODPAR_NAME="overHang" then
	rm_OverHang = overHang*cos(rm_PitchAngle)
	parameters rm_OverHang = rm_OverHang
else
	overHang = rm_OverHang/cos(rm_PitchAngle)
	parameters overHang = overHang
endif

if rm_StructuralLength < topStrutSize + overhangStrutSize then
	rm_StructuralLength = topStrutSize + overhangStrutSize
	parameters rm_StructuralLength = rm_StructuralLength
endif

if GLOB_MODPAR_NAME = "structuralLength" then
	rm_ProjectedLength	= structuralLength*cos(rm_PitchAngle)
	rm_Height			= structuralLength*sin(rm_PitchAngle)
	rm_StructuralLength	= structuralLength - topStrutSize + overhangStrutSize
	parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
else
	if GLOB_MODPAR_NAME = "rm_StructuralLength" then
		structuralLength	= rm_structuralLength + topStrutSize - overhangStrutSize
		rm_ProjectedLength	= structuralLength*cos(rm_PitchAngle)
		rm_Height			= structuralLength*sin(rm_PitchAngle)
		parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, structuralLength = structuralLength
	else
		if GLOB_MODPAR_NAME = "rm_Height" then
			structuralLength	= sqr(rm_ProjectedLength^2+rm_Height^2)
			rm_PitchAngle		= atn(rm_Height/rm_ProjectedLength)
			gosub "calcTopCut"
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength - topStrutSize + overhangStrutSize
			parameters structuralLength = structuralLength, rm_PitchAngle = rm_PitchAngle,rm_StructuralLength = rm_StructuralLength
		else
			! "rm_ProjectedLength" is the strongest parameter
			structuralLength	= rm_ProjectedLength/cos(rm_PitchAngle)
			rm_Height			= rm_ProjectedLength*tan(rm_PitchAngle)
			gosub "calcTopCut"
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength - topStrutSize + overhangStrutSize
			parameters structuralLength = structuralLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
		endif
	endif
endif


if not(rm_bSoffit) then lock "bAddToLumberSize", "rm_SoffitAngle"


! ==============================================================================
! Lumber Size
! ==============================================================================
gosub "calcTopCut"
gosub "calcOverhangStrutSize"
gosub "calcSoffitSize"
lumberSize = structuralLength - topStrutSize + overhangStrutSize + soffitSize * bAddToLumberSize
parameters lumberSize = lumberSize

! ==============================================================================
call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iObjectType				= 9

! ==============================================================================
! Bounding Box
! ==============================================================================
_underHeight = 0
if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
	_underHeight = sin(rm_PitchAngle) * overhangStrutSize - cos(rm_PitchAngle) * rm_ProfileHeight/2
else
	_underHeight = sin(rm_PitchAngle) * overhangStrutSize
endif

_underSoffit = 0
if rm_bSoffit then
	_underSoffit = sin(rm_SoffitAngle) * soffitSize
	if _underSoffit < 0 then
		_underSoffit = 0
	endif
endif

parameters A		= rm_ProjectedLength + rm_OverHang - _topCutX						: lock "A"
parameters B		= rm_ProfileWidth													: lock "B"
parameters ZZYZX	= rm_Height - _topHeight + _profH + _underHeight + _underSoffit		: lock "ZZYZX"


! ==============================================================================
! Levels
! ==============================================================================
parameters ac_toplevel		= rm_Height - _topHeight + _profH
parameters ac_bottomlevel	= -_underHeight - _underSoffit

]]>
</Script_VL>

<ParamSection SectVersion="22" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_FixSize/>
			<STBit_UIUseHierarchicalPages/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Горизонтальная Проекция"]]></Description>
			<Fix/>
			<Value>2.5</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Общая Высота"]]></Description>
			<Fix/>
			<Value>1.84818081263</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>-0.252441802004</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1.59573901062</Value>
		</Length>
		<Length Name="rm_ProfileWidth">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="profileWidthHalf">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.04</Value>
		</Length>
		<Length Name="rm_ProfileHeight">
			<Description><![CDATA["Высота Профиля"]]></Description>
			<Fix/>
			<Value>0.16</Value>
		</Length>
		<Length Name="rm_StructuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Fix/>
			<Value>3.10795307496</Value>
		</Length>
		<Length Name="structuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2.44154917752</Value>
		</Length>
		<Length Name="rm_ProjectedLength">
			<Description><![CDATA["Конструктивная Длина Пролета"]]></Description>
			<Fix/>
			<Value>2</Value>
		</Length>
		<Length Name="rm_Height">
			<Description><![CDATA["Относительная Высота Стропил"]]></Description>
			<Fix/>
			<Value>1.40041507642</Value>
		</Length>
		<Angle Name="rm_PitchAngle">
			<Description><![CDATA["Угол Наклона"]]></Description>
			<Fix/>
			<Value>35</Value>
		</Angle>
		<Length Name="rm_OverHang">
			<Description><![CDATA["Свес"]]></Description>
			<Fix/>
			<Value>0.5</Value>
		</Length>
		<Length Name="overHang">
			<Description><![CDATA["Свес"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.610387294381</Value>
		</Length>
		<String Name="rm_RoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Value><![CDATA["Прямоугольный Срез"]]></Value>
		</String>
		<Integer Name="rm_iRoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="rm_profileType">
			<Description><![CDATA["Профиль"]]></Description>
			<Value><![CDATA["Прямоугольная"]]></Value>
		</String>
		<Integer Name="rm_iProfileType">
			<Description><![CDATA["Профиль"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Length Name="profileThickness">
			<Description><![CDATA["Толщина Клапана"]]></Description>
			<Value>0.005</Value>
		</Length>
		<Angle Name="rm_VerticalTrimmerAngle">
			<Description><![CDATA["Угол Соединения с Элементом"]]></Description>
			<Fix/>
			<Value>90</Value>
		</Angle>
		<Length Name="rm_JointWidth">
			<Description><![CDATA["Толщина Соединительного Элемента"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Boolean Name="rm_bIsTrimmerRotated">
			<Description><![CDATA["Конек или Распорка Повернуты"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="rm_bSoffit">
			<Description><![CDATA["Софит"]]></Description>
			<Fix/>
			<Value>1</Value>
		</Boolean>
		<Boolean Name="bAddToLumberSize">
			<Description><![CDATA["Учесть Софит в Размере Пиломатериала"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Angle Name="rm_SoffitAngle">
			<Description><![CDATA["Угол Софита"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Angle>
		<Angle Name="rm_JointAngle">
			<Description><![CDATA["Угол между Соединяющими Элементами"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Length Name="rm_CutAxisDist">
			<Description><![CDATA["Расстояние от Среза до Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D-отображение"]]></Description>
			<Fix/>
		</Title>
		<LineType Name="rm_AxisLineType">
			<Description><![CDATA["Тип Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</LineType>
		<PenColor Name="gs_axis_line_pen">
			<Description><![CDATA["Перо Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<Boolean Name="rm_bRafterVisible">
			<Description><![CDATA["Отображение Стропила в 2D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Integer Name="AC_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Integer Name="AC_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="gs_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Символический Вид"]]></Value>
		</String>
		<Boolean Name="gs_use_3D_view_attributes">
			<Description><![CDATA["Использовать Реквизиты 3D-вида"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Весь Элемент"]]></Value>
		</String>
		<LineType Name="gs_cont_line">
			<Description><![CDATA["Тип Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Перо Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Тип Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Перо Фона Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<LineType Name="AC_cut_linetype">
			<Description><![CDATA["Линии Сечений"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cut_pen">
			<Description><![CDATA["Перо Линии Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>24</Value>
		</PenColor>
		<FillPattern Name="gs_cut_fill_type">
			<Description><![CDATA["Тип Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_cut_fill_pen">
			<Description><![CDATA["Перо Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_cut_back_pen">
			<Description><![CDATA["Перо Фона Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<LineType Name="AC_overhead_linetype">
			<Description><![CDATA["Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>21</Value>
		</LineType>
		<PenColor Name="AC_overhead_pen">
			<Description><![CDATA["Перо Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</PenColor>
		<Boolean Name="gs_2D_projection">
			<Description><![CDATA["2D-символ"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_2D_projection_type">
			<Description><![CDATA["Тип 2D-проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Length Name="gs_cutplane_height">
			<Description><![CDATA["Высота Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_top_range_height">
			<Description><![CDATA["Высота Верхней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_bottom_range_height">
			<Description><![CDATA["Высота Нижней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_3D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_3D_representation">
			<Description><![CDATA["3D-отображение"]]></Description>
			<Fix/>
		</Title>
		<PenColor Name="pen3D">
			<Description><![CDATA["Перо в 3D"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>

		<!-- gs_material: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_material">
			<Description><![CDATA["Покрытия"]]></Description>
			<Fix/>
		</Title>
		<Material Name="rm_mat">
			<Description><![CDATA["Стропило"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>15</Value>
		</Material>

		<!-- txt_show: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="txt_show">
			<Description><![CDATA["Показать Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="displaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Размер Обрезки Пиломатериала"]]></Value>
		</String>
		<Integer Name="iDisplaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<PenColor Name="txt_pen">
			<Description><![CDATA["Перо Текста"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<String Name="txt">
			<Description><![CDATA["Текст"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="fontType">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="fsz">
			<Description><![CDATA["Размер Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>10</Value>
		</RealNum>
		<Boolean Name="gs_text_style_bold">
			<Description><![CDATA["Жирный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_italic">
			<Description><![CDATA["Курсивный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_underline">
			<Description><![CDATA["Подчеркнутый Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="txt_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="txt_pos_y">
			<Description><![CDATA["Позиция Текста по Y"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="typeTextRotation">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Читаемый"]]></Value>
		</String>
		<Integer Name="typeTextRotation_m">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<Angle Name="gs_readable_angle">
			<Description><![CDATA["Читаемый Угол"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>90</Value>
		</Angle>

		<!-- gs_list: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_list">
			<Description><![CDATA["Параметры Спецификаций"]]></Description>
			<Fix/>
		</Title>
		<Length Name="lumberSize">
			<Description><![CDATA["Размер Обрезки Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.10795307496</Value>
		</Length>
		<String Name="roundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["50"]]></Value>
		</String>
		<Integer Name="iRoundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="roundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA['2"']]></Value>
		</String>
		<Integer Name="iRoundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>5</Value>
		</Integer>
		<Length Name="roundValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="roundedLumberSize">
			<Description><![CDATA["Округленный Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.10795307496</Value>
		</Length>
		<RealNum Name="numBDFT">
			<Description><![CDATA["Объем в BDFT"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="gs_list_cost">
			<Description><![CDATA["Цена"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="gs_list_manufacturer">
			<Description><![CDATA["Производитель"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_note">
			<Description><![CDATA["Примечания"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_location">
			<Description><![CDATA["Расположение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_accessories">
			<Description><![CDATA["Аксессуары"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_Type">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Другой"]]></Value>
		</String>
		<Integer Name="iFMType">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>25</Value>
		</Integer>
		<String Name="FM_InventoryNumber">
			<Description><![CDATA["Инвентарный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_SerialNumber">
			<Description><![CDATA["Серийный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_ProductionYear">
			<Description><![CDATA["Год Производства"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="FM_ObjectWeight">
			<Description><![CDATA["Вес Изделия"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="FM_ObjectWeightUnit">
			<Description><![CDATA["Единица Веса"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["кг"]]></Value>
		</String>
		<String Name="gs_list_custom1">
			<Description><![CDATA["Пользовательское Значение 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom2">
			<Description><![CDATA["Пользовательское Значение 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom3">
			<Description><![CDATA["Пользовательское Значение 3"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom4">
			<Description><![CDATA["Пользовательское Значение 4"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom5">
			<Description><![CDATA["Пользовательское Значение 5"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="gs_disable_property">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_ui_current_page">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Integer Name="gs_iDisplayStandards">
			<Description><![CDATA["Стандартное Отображение"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
	</Parameters>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="4140" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	008008020000004C5CF69C00000FE94944415478DAED5D69735CD511CD9FC997
	5425F99EA552C6015240A5285231D6BECC2E1B6263C004538029B602EC6070CC
	56D85A66D5082D9601116C19BC808CA579DB8CF6DDDA256BDF2D5939DDF74DF2
	FD3D1952A9EEBA35F56644F9439FFBCEED3EDD7DF9D98ED84F6A028000200088
	0900028098002000880900028098002000880900028098002000880900028098
	00F07F6A776E5CAABE3D332500FC04B636695E3CFB64CEFD3F9F1C1F15007E54
	5B9F1F1DBE7EA6A7D6FBF1D13D7FF9E32F6F4F4F08003F926D6DAC4C183599EA
	901E2EE8A92F2B7FE9917D0FFE5A00F8916CAEFF5A67E351BD32C78C79AD9A50
	6FC381F2971EDEF7800070EF6D75A6AFBFF92D235CA0878BD2097FBA3A60C5BD
	7D0D072A5E7E64DF03BF1200EEA1DD599D1BBD59918E7BF4CA3C2B114863C5FD
	E9B8CF8C95F6D61F3807001E1400EE91DDBD3BD3F57547FD61BD32D788941831
	2F367EA61A00D08395F0F7D4959D7DF12101E09ED8D278BAEFEBD7F4AA3CB83E
	9D085A095FBADA9F4906F169C5699931004067801CC2BB6C1B8B13B7BEFFD888
	14E9550516B10DEDFA4C4D309D040C60FFA0551D32E301FCA9B71E003CF4D8DE
	5FCC4C8D0900BB60DB77D6A7D2E7DB6B9FD0ABF2CD044806AE0F6612C0C00BEA
	87EBC13C781BF040C054FBFB1ACA3E3ABAA7F0D1DF2C2ECC09006E6D61F8879E
	A6970CB83E5A6AC1C514E7F82C3C837C127EF678289DC00A58D5E4FD4CC29B89
	E4D69EC8B58C56D1825CD9EAEDC1C12BA78C48A1112D01C960A5936AB3074C44
	3B4CF7587821D49F32E0A258B1192EE86F3EB1B13026629C9BB476695C4BC0D1
	F0BE058F2743999A50BAA60C5EC6B3950C19EC7D60401B9F88C89F897B8DCADC
	8EF347E7065A440D7565B3BDDF74353E8BDC0AAE87D3E17A2C0BAEE79D8E9316
	0B18282E4A8388621EA32A2F537360DCA8DBDA581539DAB92D4F75F55F7A13AE
	37E1D96499221C781F7E87C6608279AA83267E07E9274314F293EB0BCC48F1D0
	957FAE2F4E483DC0B96D2E4F23AD35631E0A3193CC36D520772FE805799611F7
	D1F19B089944387C12008948915695D7FDE5F1C531530A32CEEDEEF69D99CEAF
	3AEA0EE99102707A96EE43269C1EF362EF33DB90EBE9171574D604F5705E7BDD
	A199EE4B77B7B7A422E6DC1647B5DEAF8E434036A2A5D8FE1639B78CB845B91B
	DB1C745F538607DBFBC9A0192BC16B71EBC6B9CD95DB5292745339B9357CEDB4
	112ED4C245662248AE4FC2FB44EEF0B511F399F44B19CE5E1218628A823C088A
	FA2EBDB53CDD2B3561E7B6BDB93A697C06264955EC87AFE17D8E26FD4A51C033
	E361738EC9718E192D81F8D379E1B9D9FE6B529477657303D7BB1A8F6A95B954
	3921BF0729AD6515135C0FD71B601BB83E4B41486E8D703ED09A30EBEEAC2F49
	5784735B99EE19687E078A825E998FC006B5438AE2E314E7806138C404001CE0
	27FCCC48C0A6148C3F78F5FDB5B911694B715339991F6D0DC3D15A150E5BAF49
	89AB0F4226B99E15052346CB4CF8EDD81FA76EC2A75388F9E2C2AD36E90B7215
	63DEEE69EEA83B0CBA3722A52A88CC2403769C13A3C0C68892F739C85182BE57
	0FE7676A0E4E653EDFBEB3218D59CE6D692283CA09BC69BB9E8219DAFB2CAB05
	188C10B17C9CBFC63C1038F52AB09367F8FB4F90D64A679C9BCAC9F8C88DB316
	AAB5912243E907703D338FE21CA51E733D4BE9395E2B5A0CEFF7FCEBF5A5C94E
	694D746EDB5B1B5399C6CC670739B7F2584A3E537EE7AF26713D890A9C640532
	501D40F71539EDB5876FF75C96DE509795939B5D9F1F833E839316813C6B99F4
	C98B5C6FC4E99361A0B8935C5F990B6CC6DA6238A8A539D7B9ADCD0D0D5E7DCF
	88161BB1528BA54AD6EEFFE3FD909108EAD8FB00C07E21BC66B4089CD37BE9ED
	95997EE98E766E5BEB4B137A12BED6C385E07AE577DAF82A99224581D22BFAA4
	B8D38FB222D25AAD3CA7F3FC737303DF4B7BBAEB86C0F3CFA8423907EFE0778E
	EBE33E9DE2FD0065B68C04241D25DFA72A7210EC4F9A0D68E594F900D7951304
	3991128B4534D6293D260BC8A817B2DF438401763D4BCAF88F11140D7DF7F1FA
	C2980C6838B7CD9519AA9C24BC3AD2DA38170899F14D568CB1F06025CBB0EB55
	21058C64A7B54D2F2F8C9A3221E3DCEE6E6DCC7436B5D7FE8DE21C15CE671563
	F85A8F79B3AE0F62CB434F2660927E2462EDF54F4DB57F89CA898C2839B7A551
	1DCA8C5E91ABE31465C112E18D723DDCCDFA251FB6AC62B2D2E9D52385907D46
	5AAB3657E76446CCB9ADCF8D0C5D3B635001B6302BDFFB2CBB5C15E42357C597
	0102839E7D289B60E3F75D7E6779B25B86F49CDBD6E60A2A27485611BA18511F
	79191916BC0CDD8677BD910819F6AEC757BB6B0AAEEF38FFCC6CDF5599927465
	F3832D5D8DCFA5CA1FD7C3C57AD4C38A8DDF1690633EE8973AF63E97122D9B8E
	42E01C6030AE275139913155370D81FD0397DFD12AF33173825D0F79925BC003
	20745E013D4A00F0AE0FA8664D944DC05183574FAFCE0DCB9CB073BBB33637D6
	16C61ED72A48CF3163D4F897613921CB3308F601893F7BD2AA6A6D7EE785E7E7
	866ECAA0B69B9193ADD9DECB1D0D475295793ADC6A0BC52CDA70C469D10A40C5
	A467E6223352922ADF6FD51C9C48374204954979E7B63CD1DEFBF56B3CE7566C
	8792312F37EA78ADECC6B7E20409F41C2EAD908A69848B875B3EDD589A92AB0A
	9CDBC6D2E4D0F50FD1FC0DBA47EAC41D808AEB7D58F44BD4CFF18F1DE7708F66
	29554E9A5E5D1ACFC85D11EE664E321732B54F6A2CA571121BB2A062F203BE22
	BACF566BB17C8A8EB48AFD99DA43D39D17E5B20E57B638A2757FF102290AD400
	5246EAB1DD74EF33585120F99E122B3BA7858AC9032A9E911F90D6CECB6D29CE
	6D6DFE16CF9C1481E2AD24F75C0203D6D110F62815D3C057EE4D63F99EDA95B5
	CA3CCC9CAC4CF7C975352E674EE2D02611E02BC2B1E93EE6C54ED7F149E76D90
	3FFD4AEA41F104397067E3F3A89CC87D416E2B275DE78FA62A21A579CC844DF7
	2A96475ACB0D81E01F9230C9FBACB281A080D3B8598BD3422E6C72D51088AB14
	502FD45851B0F73E9FB154B422C20999EC7DBC04F8A43FC528281AB8727A6D7E
	4C6ECC723373323372E31CD14855014ED46C69904463E21C667CBB5A4B018F87
	6221EE4AEB6E7A6561C4902BCBDC544E36673A503939D48686C028913B2BC608
	6FA829411DB68AEE098618960767323827537758554EE4CE383733277A4FD3F1
	B68A1C2D5C821C8AA49BA85DAAE5F832BBE20155C3022A1ACF40DFFAA17C7365
	562EED73D510387CED0CA246D273221090B9FB9545053E5D0314DDD3C65765AC
	2073512934E45ECC9C4C75CBAD89AE664E30BF805E57B81E1B1FC4C2892B6403
	0F8B0A4435D090A1E0AB2E1D4B6D7C546BCF3F7BBBEF8A5C5BE972E6E4BBAEC6
	BFB795EF87EB593563C586568025E5801EF1818B8870D49FA03673E3E6485B0C
	9513B937D45543E0C0B72735E29C428A61E06E2E5DC1FBF6243F138ED2738888
	22A55A650182A2FE6F4FE11A06B9B8D54DE564612C1545B29AC2C40FC8DDDEEC
	581ED673C03F410620C048A85E4CC8F7399D175E98BF95929B735DCD9CCC745F
	EC68783A5599AF55151BE46296EFB1A21E23C61226BCCFA387061311AB9839E9
	EA0313D679CC9CC8D5C52E2B27AFAB93D6201707541C095FAB492B3A6923083D
	F1EC55433FD0D190D60E5DA79913B93BDAD5550A232D9F8261B448B13D73920C
	6119CCF8886D90EB6A945551632C0FF92BCED9DFF505AE5248E35F90CBBB9DA7
	B5A89C7043603EB99EB484801273947C8633008BD3AB00D7B04A497E38BB2F53
	F7D474E7D777EF6EE31F11009CCF9CF47CF1621B544C6452C9034ABF84DF11D1
	6B110F461EB2DE0FA8E81E7F6D3BB71FD4C49593851D31C700ACCFA321F0B406
	15B38A434C1E7060D1C6A36365373E9060DA61168A14E164EE6D3E413327628E
	01D8DA58563327A4282094E4FE6F7C85AF756679669B907A09E81712157CD0FA
	DB1B8ECEA27222E60680D9BE2B1D0DCFB455E46A68F8CE0EF08361F0AC453D8A
	EBE95381C17D2229DC2F555D36A62569E644CC31002BD3DDFDCD6F6B703D2A27
	F6648F5F7527B0F77DFFF57ED447213F10A2D26EC9C0D5D37495829863002002
	8FDEAC842B53157914C6B0766672919616D1BD9FD5637F2AE265D2F722B447B5
	B6ABE9F822664EC41C0380D2072A27B817A1AD3C47F1BB498D50F06F292556AA
	3D84773D2559C086CBE5A89CA46BFF36D5D184CBBE76C41C03B03466F47CF54A
	AA22B7ADB200C72967B38A5B7C1AABC71AF6BE5D3CF1AB1BA498734A875BCE6E
	2CCFEC88390600638243D73F008DB455E49378C0846EF26551FC8CF0C6A745E8
	10260A62BD018341088A7A2EBE495729883906002D1E93563D7A9EC0395AA414
	C76956A3270981237AF8DAAFB3F759E0F441436E839456FBD474F73792D6BA02
	607EA8050D8114625226153089F1BDF02FEF7A2619FA31A8ABE738B91E38817F
	4653893B6B8B3B628E0140FBFC586B044DC5A9AA428D3329CA66F106A8AE345A
	4183071F98EEA9AE82FE35ACBEE6932BA89C88B9046069A2A3F5DC7E9CB41465
	AAA6576618443EA07B1D0BDE57418EFADFD0444B3A1B8FCD0DDED811DB150010
	2FF65D3E99E2A64C0280631B0D714E1800B0BAC0AF02793FE1BB599EDFD9FCC1
	8ED8EE9E01EB8B93903391E5521E4B225A105CC4E7AD07110EB5EE447D183CFF
	F693828F8FFDE993E3FBBEAD7B7F665C34B55D3D84A7BB2EB522F8419419E7DC
	8A037CA56E9AF6B581C1960A4FFDC97D9FBCF0F0C943BFFFF0F9879BAA5E191F
	4CEF88ED52187AB7B7F9646B459EAED48504310F3DC3FBACE9732D976E6B6F8D
	F8BE3C9D77F6C5474E3EF9BBD3CF3E70E1ECB1C10E390F5C03C029D8388740A5
	DC20E5CF56540080DD2EA84E08D69F83AD55A5FF3A9357FEF29FF136BCF7F47D
	0D1F3DDDAD354B2AE036139E6CFF12152E23C67AB2129623FC00599FDE00AAEE
	425EC60223E16D003C173FCC0FBFFAE8BB87FF80557D2A94B9F1F9E6FAEA8E98
	330030918B5ECC9B9FFE15A52E9E86600C5465D1BE62CA7EC05BA2A68532493C
	079B3F2A88BFF1D87B47F68097A26F17675A1AB7B7E56D70A4056D6DAC4E755E
	ECB8F0428A5333832F39CA46A8F41228F19980E107FCCE6FC301D4C5AE7D5A5C
	FDE663C0E058E0FEE5E5E51D31C76AE8F6D6E66CFFF5EEAF5E6B2BCF8320AAC7
	3C7430D877C0840C2A846171B0C4E704161E80414FFD81779FDAEBDB7FDFDAAA
	94C076A320333FDCD67BE944AA0AE2681E29742C8E1A8444C8A623B0139EF996
	0CE0D1D370F0D491BD81DCBD02C06E962417D1F576F91FD0E95ACF3DAE478A79
	7A828F043E1E088F6C6DA0BBFEE0BB4F03803F0A00BB5F945F9D1D1AB8F6219C
	0EED485733D37C36906211F5F1F0B4BFBBB6ECDD237B0239F206DCB3BE20F471
	DEBA19865CC1121E75FD63D9677222D85D5776EAC87D02C03DEF8CC34524E366
	7DFAB34318BEB05B42B91D9101D8EB9743D80100CE460126DB9B3A1A8F61B042
	0B17A18AD0FD59E0BD237B7D8FEF595B9130D401000EA7C0D6A6BB2F777EF132
	22A58E78E189277E0B0ADA585FDB11FB31E7032004CD0EB40C35BF71E6E88397
	9A1A76C47EAA11A5C5DB633B62727BBA00202600080062028000202600080062
	02800020260008006202800020260008006202C0FF84FD1B132C446582A1762A
	0000000049454E44AE426082
	]]>
</Picture>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="1" length_in_bytes="245" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000290000
	005F0203000000087506B900000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D8660000009049444154785EE5D0310AC3300C0550
	77E89E827B9F7F040DE921E2D364C8119C41FF9485B6E4FFA15082C76A7A886F
	59A8BC0AE55CE18407E73B2673152F0FE5E77AF85A26D8CBC3906F1A12E6B9CA
	CB5DF916EAB76E4EC85C95E76E26CC9B39CD8C22777342A67B33A79921B76E4E
	C85CCDBB99F8F8FD859C6686F2ECD64FC8FCE23660FEF0407E749FF13DFFE26E
	4F7E20868449C6C0EF0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="2" length_in_bytes="387" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000004F0000
	005C0203000000521800200000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D8660000011B49444154785EA5D5B16DC240
	18C7D13BE1C8655CA4F728B8C80029928665BC449608D36498B491635B3EDE77
	010924FF3B7EFA78161282F47F598871D7BA47CDBC8F64C6249A681FCBDE1F88
	F9749EF759C756B4FE74FEBA8AA34BE42422276F478A368A81149162243D1D29
	46524432912E2B52448A482652AC4911292245A4A723EB8814914C24135947A4
	88642245E43ADF4FA418C869484F3EB838AFD94871CEC8ABCB566C32F286398A
	91BC365BF1356524332FE6504831A52E92BF69BDACC99FF2E8487E97A70F15B9
	AD22CB6545BA445E2ED311B9BE5E8D1E995E96F8961614E9D706E9328D179299
	FA42C61D7C70CB1BA94057CA9E91D622238AB423D27A644491860C1B91D623ED
	80B48C0C43DE5BB3F39FB1BB87FE01E3361488B97654FF0000000049454E44AE
	426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="3" length_in_bytes="443" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000560000
	00570203000000E3645AC10000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D8660000015349444154785EB5D5314E0331
	1085E137CAAE52B269D2EE5118240E600A2872008ABD442E4145BF91E2D3D070
	9350462696351A36F38A48117FF98ACFD319D6005A079AE0FE1CBF3FA5B82484
	3640FF4100C5760EAB60C0EEA871864C399117FB9C03DEF5D8E63C93799773C0
	3BC87BCE01974A475C2A4D70BDD004DF4CF910F14A1F095EE929E2AF97F933E0
	F2335DF680AFCFF592808FE5ADCD4B7C5FBE092EA5307C5D0AC3C7520C7F59D0
	A5E1661BDDF0439E31FCA51B7E0C74C3A70459D00D0F74C3674092D386573A39
	6D7852C8E074C32B8DCE69C3670083D386575A9D363C014F70DAF040373CD2B5
	9332BA7C0112E9A21DA3CFE034F0CCE91E355DD240AFA8D2350D465B72455BBA
	A0AD9B684F280D3C321A18236DB8D31EA5817DA00D77DA5B511A1269C39DF61E
	180DAC8D8EB8D3DE23A381D1E8809F40323A5CAE208D8C06569486501A50F0FE
	F3171D6EC17F013F72E24317B1FA140000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="4" length_in_bytes="610" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000DE0000
	006F040300000071DF63540000000F504C5445FF0000000000D7D7D7F0F0F0FF
	FFFF9AF919C80000000174524E530040E6D866000001F749444154785EED9641
	6E02310C45ED1BD82227E80D2A4E1095FB9FA9A8D32C1A857E3EF6582CF21788
	0D7A3C3D7934C24EC797765BCCE5E16CFC989A9A1CF315AEC33FCB6EE0748933
	49F6F3816B2B9EC118D9F1905F653CC4E3E361BFCA7888C7C7C37E95F1108F8F
	87FD2AE3011E15CF9DF18BC773CA2F1ECFA87EF17866945FFCF238BFF8E5717E
	F1CB53C22F168F29A319F148BF78BCE7036A381EE0013F3E1EE9178E47FAC5E2
	D1A7A5D1789887FD703CFF1DEFC7C6C33CECC7C7F38F9F45FD703CCCC37E381E
	E01107A8643CCCC37E385EAA1F8E97EA87E315F8A1C766C88F7F6C5E037E7CBC
	7E59F2DC8DF023E25DAE4B9EBAC0A93B1BEFCBAF77DE31BE9F1B1BEFE6D36CCC
	F5FF7DEA7D743CFF9806B4803F8A674AF1E26F9B1AF0E32F4F385EFC6D33E2C7
	C713C0CB8E17E2191D0FF0D2E325FB298897ECA706E225FBA178B97EE6205EDC
	8FBABC343F3BE606E2A5F77BCCEB42F0487C5BC62BF53339C34F1FF15CA4D2AF
	0BC9E3F86D11AFD2CF04F242826D11AFCEAF8B9CE7A78337C5ABF33321797CC0
	36C52BF4EB42F378C136C5ABF33339DD4F076FC4ABF3EB42F00201DB14AFC8CF
	A4C44FAC8D78957E5DA4C84FDB8857E4E7F79970BCF8EAFCEC59DEF6DB7EDB4F
	5DDCA68F73FDE4ADB7FDB6DFFB6FFB6DBFEDB7FD30505F06DADA4401CFFC459E
	0FEEDFF9693B00757ED5FD0EC037393C0312489D67DA0000000049454E44AE42
	6082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="5" length_in_bytes="356" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000007C0000
	00480203000000499B799600000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D866000000FF49444154785E7DCFA17143411004D1
	BD2AC9F8039781A259F003109089435034060EC106BA285D8D164D0F9D6AF02A
	EF51BEF7F29DADF7B57C471D76AFF6FC52B5ECBF7B4E5BEDF8ABFC5CB756FC7A
	E61FFADB6EC57FE5FF8260EF36FC07BFE09FFC82DFFC82E7373CBFE1F90DCF6F
	787EC3F31B9EDFF0FC86E7373CBFE1F90DCF6F787EC3F31B9EDFF0FC86E7373C
	BFE0D9791E09CF5E558F84673FBD3E331E5E1D19BFFFAAF9137E7F177DC4BF9A
	3EE37F8B3EE3EF456F789A8CAFE9039E3EE3A74F78FA889F3EE2E9237EFA8827
	4BF8E9339E3EE0A7173C7DC04F2F78FA809F5EF094013FBDE0E9037E7AC1D307
	FCF482A70FF8E9054F1FF0D30B9EFE1F35116C5C3AB402570000000049454E44
	AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="6" length_in_bytes="238" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000200000
	002702030000001311A2DF00000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D8660000008949444154785E5DCFB109C3301046E1
	7760F5365899E74670204EA111344F32820BDF9421FA7385F3A3E221F11502A0
	A2D98A362FE45C2F19F338600F98004AC6FE0603AC1D3E58EDA7E219B10D768B
	102B112F458F6330EB21468B0B5B9295643519C91CB109C41C92F165E72FFAE1
	626D47B56FA0707D8C95FF4D50B38BC2B95F2F58A4C13C63830FF42A27FF2F81
	E5260000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="7" length_in_bytes="667" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000DE0000
	006F040300000071DF63540000000F504C5445FF0000000000D7D7D7F0F0F0FF
	FFFF9AF919C80000000174524E530040E6D8660000023049444154785EDD944B
	AAE3400C45A51DDC0BB582B7835E4268EF7F4D0D6D8270A83CA18F35F01D046A
	108E0F872A894EDF87756C46F93AD89F0353C839EE702FF763A3C39BBBC5419A
	FDF8C6AD1D0F6E8C9978E63712CFA633F1CC6F249E4D67E299DF483C9BCEC433
	BFC978C6ABC723237EF5780CF9D5E321D4AF1E0F08F9D56F5ECCAF7EF3627EF5
	9BA701BF5ABC4819ED8897F1AB3F9B08F9D59F4D04FC0AF1827EE57841BF5ABC
	F0D5D26A3C9BA6FDFC783CC7AC9F1FAFC633BF5C3CFEFC5FB39FC5ABF2CC2F10
	CFE109027E6EBC3ACFFCFC78FD7E7EBC7E3F3F5EDD2FF76CE6FD72CF66DE2FF5
	6C6E7924327E7E3CC896A714774A46E3FDA588F05CBC1F118D77F063788FFAFB
	FEA8AA86E3F1E763A6E5FA65E2699697BB7992E72173F3F2BCDCCDABF8C5E389
	C3EB8E57E2211CCFE1B5C76BF653275EB39FC289D7ECE7C5EBF5039D78CD7E74
	E2B5F9E11CE1C46BEF67BC5DBCEE7EF2DDEF451B79BFDF45995D7EFA8DC7CBE9
	76BFD7E1F192C396F75AC7A8DF3A5C5E49706DE20DF859BCFBFCD478166FD46F
	1D77FA098C67F166FC2C9ECF2B09AE4BBC49BF75DCEEA7C6B378037E16EF5E3F
	812C8B37E9B78E113FC1B278337E166FC24F97C51BF1A3B3102FF3292A9769CD
	CFB7263C5EABA092B37E2A037E861DEF87113FC3E0997E827D3E0AF1F1D3EAA7
	CEB96F30BEB3925FC4B75F5065D60F32E7275095513F85B4FBE1BACB9994E17E
	8E5FF7F0703FC1C3FD040FF77B5C3F38B82C107B1375786092C7FDFBC9DB7602
	E6FCA6FB9D877FBBCA6F3A107F20610000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="10" length_in_bytes="153" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000180000
	00110103000000FDB6FE7300000006504C5445FF000000000041A31203000000
	0174524E530040E6D8660000003749444154785E2DC6A11180300C00C08F0187
	40A160958C9251322A2354D681A9F8BB074E1CCB5D44B3E36AAA45A74D7ABE89
	C44B8C753FD1C6081B8AE6B0CD0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="11" length_in_bytes="343" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000840000
	001902030000008DD26EA90000000C504C5445FF0000000000F0F0F0FFFFFFD8
	8E3F020000000174524E530040E6D866000000EF49444154785EB591318AC330
	104567C072ED855D0C3A8D8EA0226ADCA4779F32E40A09EC1192423E4D0A1F25
	29C3441EFE8092B0CB16D9E93CFCF7F823D3DB27FC05588B5C7E75F04E647EA6
	DCAAFE1091F8CC0D3984053D2F8E5EE4B6B4E90A80257D4CD321288A1A5742C2
	966D1E4F86AA6BB684F9388FDF4017315C5F958FC62902558762E4637596CFA8
	A10E60FE589DD5A2061C8695047CC456431DC0FC109C2D89AC863A1443023EE2
	A835E000E6A7BDB325B9462F8063AE12F051C3A50750DEC195527229914DE871
	41E02DB0AEB853F54B1D5E23F2862CF138054502D8EB244222FE94F844210EF4
	1F730743138C2A4DE13F0A0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="12" length_in_bytes="197" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000CC0000
	00130203000000A1240A9B00000009504C5445FF0000000000CECECE78B84BB6
	0000000174524E530040E6D8660000006049444154785EED93B1098040100435
	788BB01A8B70124BF8BA3470AB34FB7D3841384C042F1BF626DB1DB237C2DAA0
	007DE60458EC487B83493A7BC749955E740A07F70E6CC1095F81E6AF39BFE31E
	1878EA81FB66887DCB3B713F86B09FD45D764450AA2DAB90B40000000049454E
	44AE426082
	]]>
</GDLPict>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS = 0.00001

bEnableRafter		= 1
bEnableSymbol		= 0
bEnableResolution	= 0


! ==============================================================================
! Definitions
! ==============================================================================
!gs_iDisplayStandards
	LANGUAGE_INT		= 1
	LANGUAGE_GER		= 2
	LANGUAGE_CHE		= 3
	LANGUAGE_AUT		= 4
	LANGUAGE_USA		= 5

!AC_symb_display_option
	DISPLAY_PROJECTED			= 1
	DISPLAY_OVERHEAD_PROJ		= 2
	DISPLAY_SYMBOLIC			= 3
	DISPLAY_OUTLINES			= 4
	DISPLAY_OVERHEAD_ALL		= 5

!AC_symb_show_projection_to
	PROJECTION_FLOOR_PLAN_RANGE	= 1
	PROJECTION_DISPLAY_LIMIT	= 2
	PROJECTION_ENTIRE_ELEMENT	= 3

dim stProfileTypes[4]
	stProfileTypes[1] = `Прямоугольная`
	stProfileTypes[2] = `I-образный`
	stProfileTypes[3] = `L-образный`
	stProfileTypes[4] = `C-образный`

! rm_iProfileType:
	PROFILE_TYPE_RECTANGULAR	= 1
	PROFILE_TYPE_I_BEAM			= 2
	PROFILE_TYPE_L_BEAM			= 3
	PROFILE_TYPE_C_BEAM			= 4

dim stEdgeType[3]
	stEdgeType[1]	= `Перпендикулярно`
	stEdgeType[2]	= `Вертикально`
	stEdgeType[3]	= `Прямоугольный Срез`

! rm_iRoofEdgeAngle
	EDGE_PERDENDICULAR		= 1
	EDGE_VERTICAL			= 2
	EDGE_RECTANGULAR		= 3


! ==============================================================================
! 2D Display Options
! ==============================================================================

dim stDisplayOptions[5]
	stDisplayOptions[1]		= `Сечение и Низ`
	stDisplayOptions[2]		= `Сечение и Верх`
	stDisplayOptions[3]		= `Символический Вид`
	stDisplayOptions[4]		= `Только Контуры`
	stDisplayOptions[5]		= `Вся Проекция`

dim stProjectionTypes[3]
	stProjectionTypes[1]	= `Согласно Диапазону Плана Этажа`
	stProjectionTypes[2]	= `Согласно Абсолютному Диапазону`
	stProjectionTypes[3]	= `Весь Элемент`

if GLOB_MODPAR_NAME = "gs_symb_display_option" | AC_symb_display_option = 0 then
	AC_symb_display_option = DISPLAY_PROJECTED
	if gs_symb_display_option = stDisplayOptions[2] then AC_symb_display_option = DISPLAY_OVERHEAD_PROJ
	if gs_symb_display_option = stDisplayOptions[3] then AC_symb_display_option = DISPLAY_SYMBOLIC
	if gs_symb_display_option = stDisplayOptions[4] then AC_symb_display_option = DISPLAY_OUTLINES
	if gs_symb_display_option = stDisplayOptions[5] then AC_symb_display_option = DISPLAY_OVERHEAD_ALL
	parameters AC_symb_display_option = AC_symb_display_option
else
	gs_symb_display_option = stDisplayOptions[min(max(1, AC_symb_display_option), vardim1(stDisplayOptions))]
	parameters gs_symb_display_option = gs_symb_display_option
endif

if GLOB_MODPAR_NAME = "gs_symb_show_projection_to" | AC_symb_show_projection_to = 0 then
	AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE
	if gs_symb_show_projection_to = stProjectionTypes[2] then AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT
	if gs_symb_show_projection_to = stProjectionTypes[3] then AC_symb_show_projection_to = PROJECTION_ENTIRE_ELEMENT
	parameters AC_symb_show_projection_to = AC_symb_show_projection_to
else
	gs_symb_show_projection_to = stProjectionTypes[min(max(1, AC_symb_show_projection_to), vardim1(stProjectionTypes))]
	parameters gs_symb_show_projection_to = gs_symb_show_projection_to
endif


! ==============================================================================
! Geometry Calculation
! ==============================================================================

_profileHeightZ		= rm_ProfileHeight/cos(rm_PitchAngle)

gosub "calcTopCut"
gosub "calcOverhangStrutSize"
gosub "calcSoffitSize"



! ==============================================================================
goto "MasterEnd"
! ==============================================================================

! ==============================================================================
! Subroutines
! ==============================================================================
! ------------------------------------------------------------------------------
"calcTopCut":
! ------------------------------------------------------------------------------
	_strutLengthPlus	= 0
	_topCutX1			= 0
	_topCutX2			= 0
	_topCutY			= 0
	_jointAngle			= abs(rm_VerticalTrimmerAngle-90)

	if not(rm_bIsTrimmerRotated) then
		_profH				= _profileHeightZ
		_strutLengthPlus	= abs(rm_ProfileHeight/tan(90-rm_PitchAngle))
		if abs(rm_VerticalTrimmerAngle)>eps & abs(rm_VerticalTrimmerAngle-180)>eps	then _topCutX1	= abs((rm_JointWidth/2)/sin(rm_VerticalTrimmerAngle))
		if abs(rm_VerticalTrimmerAngle)>eps & abs(rm_VerticalTrimmerAngle-90)>eps	then _topCutX2	= abs(tan(90-rm_VerticalTrimmerAngle)*rm_ProfileWidth/2)
	else
		_ttopCutX1	= 0
		_ttopCutX2	= 0
		if abs(rm_VerticalTrimmerAngle)>eps & abs(rm_VerticalTrimmerAngle-180)>eps	then _ttopCutX1	= abs((rm_JointWidth/2)/sin(rm_VerticalTrimmerAngle))
		if abs(rm_VerticalTrimmerAngle)>eps & abs(rm_VerticalTrimmerAngle-90)>eps	then _ttopCutX2	= abs(tan(90-rm_VerticalTrimmerAngle)*rm_ProfileWidth/2)

		_profH				= rm_ProfileHeight*cos(rm_PitchAngle)
		_strutLengthPlus	= abs((rm_ProfileHeight/2)*tan(rm_PitchAngle)) - _ttopCutX1 + _ttopCutX2
	endif

	topStrutSize	= (_topCutX1 - _topCutX2) / cos(rm_PitchAngle) - _strutLengthPlus
	if not(rm_bIsTrimmerRotated) then
		_topCutX	= _topCutX1 - _topCutX2
	else
		_topCutX	= -cos(rm_PitchAngle) * _strutLengthPlus
	endif
	_topHeight		= _topCutX * tan(rm_PitchAngle)

return


! ------------------------------------------------------------------------------
"calcOverhangStrutSize":
! ------------------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		overhangStrutSize = (rm_OverHang - rm_ProfileHeight*sin(rm_PitchAngle))/cos(rm_PitchAngle)
	else
		if rm_iRoofEdgeAngle = EDGE_VERTICAL then
			overhangStrutSize = rm_OverHang/cos(rm_PitchAngle)
		else
			if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
				overhangStrutSize = rm_OverHang/cos(rm_PitchAngle) - (rm_ProfileHeight/2)*tan(rm_PitchAngle)
			endif
		endif
	endif
return


! ------------------------------------------------------------------------------
"calcSoffitSize":
! ------------------------------------------------------------------------------
	soffitSize = 0
	if rm_bSoffit then
		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			soffitSize = (rm_OverHang - rm_ProfileHeight*sin(rm_PitchAngle))/cos(rm_SoffitAngle)
		else
			if rm_iRoofEdgeAngle = EDGE_VERTICAL then
				soffitSize = rm_OverHang/cos(rm_SoffitAngle)
			else
				if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
					if abs(rm_PitchAngle) < EPS then
						soffitSize	= 0
						rm_bSoffit	= 0
					else
						soffitSize = (rm_OverHang - (rm_ProfileHeight/2)/sin(rm_PitchAngle))/cos(rm_SoffitAngle)
					endif
				endif
			endif
		endif
	endif
return

! ==============================================================================
"MasterEnd":
! ==============================================================================

]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! =============================================================================
! Localization
! =============================================================================
dim stGeometry[13]
	stGeometry[1]	= `Угол Наклона`
	stGeometry[2]	= `Конструктивная Длина Пролета`
	stGeometry[3]	= `Длина Элемента`
	stGeometry[4]	= `Ширина Профиля`
	stGeometry[5]	= `Высота Профиля`
	stGeometry[6]	= `Горизонтальная Проекция`
	stGeometry[7]	= `Относительная Высота Стропил`
	stGeometry[8]	= `Софит`
	stGeometry[9]	= `Угол Софита`
	stGeometry[10]	= `Свес`
	stGeometry[11]	= `Профиль`
	stGeometry[12]	= `Толщина Профиля`
	stGeometry[13]	= `Угол Торца Крыши`

dim stCutting[5]
	stCutting[1]	= `Распорка`
	stCutting[2]	= `Конек или Распорка Повернуты`
	stCutting[3]	= `Толщина Соединительного Элемента`
	stCutting[4]	= `Углы Соединений`
	stCutting[5]	= `Угол Соединения с Элементом`

! =============================================================================
! Variables
! =============================================================================

pageStartY		= 5
xInfieldSmall	= 70
xInfieldBig		= 90
yInfield		= 19
yOutfield		= 16

! =============================================================================
! Tabpages
! =============================================================================

TABID_ROOT					= -1
TABID_GEOMETRY				= 1
TABID_CUTTING				= 2

call "RoofMaker_macro"	parameters all	iObjectType				= 9,
										bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iUiType					= 1

ui_page TABID_GEOMETRY, TABID_ROOT, `Геометрия`, "uiTab_Dimension_flat(1)"
if gs_ui_current_page = TABID_GEOMETRY then
	gosub "geometryPage"
endif

ui_page TABID_CUTTING, TABID_ROOT, `Подрезка`, "uiTab_RMCut_flat(1)"
if gs_ui_current_page = TABID_CUTTING then
	gosub "cuttingPage"
endif

! ======================================================================
end
! ======================================================================

"geometryPage":
! =============================================================================
! Geometry
! =============================================================================

	picX			= 340
	picY			= pageStartY + 20

	if rm_bSoffit then
		ui_pict 7,	picX-245, picY+69, 222,  111, 1									!rafter_pict7.png
	else
		ui_pict 4,	picX-245, picY+69, 222,  111, 1									!rafter_pict4.png
	endif
	ui_pict 5,	picX-147, picY-3, 124, 72, 1										!rafter_pict5.png
	ui_pict 6,	picX-22, picY-12, 32, 39, 1											!rafter_pict6.png

	ui_pict 10, picX-15, picY+99, 24, 17, 1											!ui_rm_angle_1.png
	ui_infield "rm_PitchAngle", picX+12, picY+96, xInfieldBig, yInfield				ui_tooltip stGeometry[1]

	ui_infield "rm_ProjectedLength", picX-20, picY+177, xInfieldBig, yInfield		ui_tooltip stGeometry[2]
	ui_infield "rm_structuralLength", picX-338, picY+107, xInfieldBig, yInfield		ui_tooltip stGeometry[3]
	ui_infield "rm_ProfileWidth", picX+12, picY+16, xInfieldBig, yInfield			ui_tooltip stGeometry[4]
	ui_infield "rm_ProfileHeight", picX+12, picY-15, xInfieldBig, yInfield			ui_tooltip stGeometry[5]
	!ui_infield "A", picX-154, picY+189, xInfieldBig, yInfield						ui_tooltip stGeometry[6]
	ui_infield "rm_Height", picX-20, picY+62, xInfieldBig, yInfield					ui_tooltip stGeometry[7]

	ui_infield{3} "rm_bSoffit", picX-338, picY+130, xInfieldBig, yInfield,
		7, "", 0, 0,
		0,0,0,0,
		0, stGeometry[8],	0,
		0, stGeometry[8],	1	ui_tooltip stGeometry[8]

	ui_infield "rm_SoffitAngle", picX-338, picY+154, xInfieldBig, yInfield			ui_tooltip stGeometry[9]
	ui_infield "rm_OverHang", picX-338, picY+177, xInfieldBig, yInfield				ui_tooltip stGeometry[10]


	ui_outfield stGeometry[11], 4, pageStartY - 1, 114, yOutfield
	ui_infield{3} "rm_iProfileType", 119, pageStartY, 55, 30,
		2, 12, 4, 1,																!rm_profile2.png
		51,19,51,19,
		1, stProfileTypes[1],	1,
		2, stProfileTypes[2],	2,
		3, stProfileTypes[3],	3,
		4, stProfileTypes[4],	4 ui_tooltip stGeometry[11]

	ui_outfield stGeometry[12], 4, pageStartY + 39, 114, yOutfield, 4 * (rm_iProfileType = PROFILE_TYPE_RECTANGULAR)
	ui_infield "profileThickness", 120, pageStartY + 33, 53, yInfield						ui_tooltip stGeometry[12]

	ui_outfield stGeometry[13], 4, pageStartY + 64, 114, yOutfield
	ui_infield{3} "rm_iRoofEdgeAngle", 119, pageStartY + 58, 55, 30,
		2, 11, 3, 1,																!pict_roof edge_angle_1.png
		44,25,44,25,
		1, stEdgeType[1],	1,
		2, stEdgeType[2],	2,
		3, stEdgeType[3],	3 ui_tooltip stGeometry[13]

return

"cuttingPage":
! =============================================================================
! Cutting
! =============================================================================

	! -------- Trimmer ----------------------------------------------------------------------------------

	picX1	= 8
	picY1	= pageStartY + 77

	ui_style 0, 1
	ui_outfield stCutting[1], 10, pageStartY, 338-172, yOutfield
	ui_style 0, 0

	ui_infield{3} "rm_bIsTrimmerRotated", 12, pageStartY + 40, 200, yInfield * 1.5,
		7, "", 0, 0,
		0,0,0,0,
		0, stCutting[2],	0,
		0, stCutting[2],	1	ui_tooltip stCutting[2]

	if rm_bIsTrimmerRotated then
		ui_pict 3,	picX1, picY1, 86, 87, 1											!rafter_pict3.png
		ui_outfield stCutting[3], picX1+95, picY1+25, 260-picX1-95, yOutfield
		ui_infield "rm_JointWidth", picX1+95, picY1+46, xInfieldBig, yInfield		ui_tooltip stCutting[3]
	else
		ui_pict 2,	picX1, picY1-5, 79, 92, 1										!rafter_pict3.png
		ui_outfield stCutting[3], picX1+95, picY1+25, 260-picX1-95, yOutfield
		ui_infield "rm_JointWidth", picX1+95, picY1+46, xInfieldBig, yInfield		ui_tooltip stCutting[3]
	endif

	ui_separator 263, pageStartY, 263, pageStartY + 230


	! -------- Joining Angles ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[4], 271, pageStartY, 444-271, yOutfield
	ui_style 0, 0

	ui_pict 1,	382, pageStartY + 77, 41, 95, 1													!rafter_pict1.png

	ui_outfield stCutting[5], 282, pageStartY + 60, 444-282, yOutfield
	ui_infield "rm_VerticalTrimmerAngle", 282, pageStartY + 81, xInfieldSmall, yInfield			ui_tooltip stCutting[5]
return
]]>
</Script_UI>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["RoofMaker_macro"]]></MName>
		<MainGUID>30FD2A4F-F31A-4D2A-88EF-73C19FC6BFB6</MainGUID>
	</Macro>
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>F005DDCD-F653-4DD2-B5D9-5D560BEBF165</MainGUID>
		<Version>19</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
