<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="7C537BD6-E593-48C0-9DAA-2B3DF1439C08" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen pen3D
material rm_mat


! ==============================================================================
! 2D Display Options
! ==============================================================================

!gs_2D_projection_type:
!	0 - Normal 3D
!	1 - View Edges
!	2 - View Polygons
!	3 - Overhead Edges
!	4 - Cut Lines
!	5 - Cut Polygons
!	6 - Bottom Range Cut Lines
!	7 - Top Range Cut Lines

nProjectionCut = 0
if gs_2D_projection then
	if AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE | (AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT & gs_bottom_range_height < gs_cutplane_height) then
		addz gs_bottom_range_height
		cutplane{2} 180, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if gs_2D_projection_type <> 6 then
		addz gs_cutplane_height
		cutplane{2} 180 * (gs_2D_projection_type = 3), 1
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if AC_symb_show_projection_to <> 3 then
		addz gs_top_range_height
		cutplane{2} 0, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
endif


! ==============================================================================
! 3D Hotspots
! ==============================================================================
unID = 1
hotspot rm_ProjectedLength-_topJointPlus, 0, rm_ProjectedLength*tan(_pitchAngle)-_topJointPlus*tan(_pitchAngle),					unID : unID=unID+1
hotspot rm_ProjectedLength-_topJointPlus, 0, rm_ProjectedLength*tan(_pitchAngle)-_topJointPlus*tan(_pitchAngle)+_profileHeightZ,	unID : unID=unID+1

! --- Profile Width ------------------------------------------------------------
	unID = 1000
	if rm_iRoofEdgeAngle = EDGE_VERTICAL then
		hotspot -overhang,  0,					-overhang*tan(_pitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang, -profileWidthHalf,	-overhang*tan(_pitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang,  1,					-overhang*tan(_pitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -overhang,  0,					-overhang*tan(_pitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang,  profileWidthHalf,	-overhang*tan(_pitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang, -1,					-overhang*tan(_pitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle),  0,				-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle), -profileWidthHalf,	-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle),  1,				-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle),  0,				-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle),  profileWidthHalf,	-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang+rm_ProfileHeight*sin(_pitchAngle), -1,				-overhang*tan(_pitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(_pitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		hotspot -overhang,  0,					-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang, -profileWidthHalf,	-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang,  1,					-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -overhang,  0,					-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -overhang,  profileWidthHalf,	-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -overhang, -1,					-overhang*tan(_pitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif


! --- Profile Height ------------------------------------------------------------
	unID = 2000
	hotspot  0,										0,  0,								unID, rm_ProfileHeight, 1+128	: unID=unID+1
	hotspot -rm_ProfileHeight*sin(_pitchAngle),	0,  rm_ProfileHeight*cos(_pitchAngle),	unID, rm_ProfileHeight, 2		: unID=unID+1
	hotspot  rm_ProfileHeight*sin(_pitchAngle),	0, -rm_ProfileHeight*cos(_pitchAngle),	unID, rm_ProfileHeight, 3		: unID=unID+1

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	hotspot  0,						0, rm_ProjectedLength*tan(_pitchAngle), unID, rm_ProjectedLength, 1+128	: unID=unID+1
	hotspot  rm_ProjectedLength,	0, rm_ProjectedLength*tan(_pitchAngle), unID, rm_ProjectedLength, 2		: unID=unID+1
	hotspot -1,						0, rm_ProjectedLength*tan(_pitchAngle), unID, rm_ProjectedLength, 3		: unID=unID+1

	hotspot  0,						0, 0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot  rm_ProjectedLength,	0, 0, unID, rm_ProjectedLength, 2+128	: unID=unID+1
	hotspot -1,						0, 0, unID, rm_ProjectedLength, 3		: unID=unID+1

! --- Height ------------------------------------------------------------
	hotspot rm_ProjectedLength,	0,	 0,			unID, rm_Height, 1+128	: unID=unID+1
	hotspot rm_ProjectedLength,	0,	-1,			unID, rm_Height, 3		: unID=unID+1
	hotspot rm_ProjectedLength,	0,	 rm_Height,	unID, rm_Height, 2		: unID=unID+1

	hotspot 0, 0,  0,			unID, rm_Height, 1+256	: unID=unID+1
	hotspot 0, 0, -1,			unID, rm_Height, 3		: unID=unID+1
	hotspot 0, 0,  rm_Height,	unID, rm_Height, 2+128	: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	hotspot  0,			0, -overhang*tan(_pitchAngle)+_profileHeightZ, unID, overhang, 1+128,	rm_OverHang	: unID=unID+1
	hotspot -overhang,	0, -overhang*tan(_pitchAngle)+_profileHeightZ, unID, overhang, 2,		rm_OverHang	: unID=unID+1
	hotspot  1,			0, -overhang*tan(_pitchAngle)+_profileHeightZ, unID, overhang, 3,		rm_OverHang	: unID=unID+1


! ==============================================================================
! Roofmaker Element
! ==============================================================================

_bottomCutAngle		= 0
_topCutAngle		= 0
_nCut				= 0
if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR	then _bottomCutAngle = 90-_pitchAngle
if rm_iRoofEdgeAngle = EDGE_VERTICAL		then _bottomCutAngle = 90

! --- Bottom Cut ------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		addy rm_ProfileWidth/2
		rotx 90
		addx -overhang
		addy -overHang*tan(_pitchAngle)+_profileHeightZ/2
		rotz 0
		muly -1
		cutplane 1, 0, 1           !Bottom Cut1
		_nCut = _nCut + 1
		del 6
	else
		addy rm_ProfileWidth/2
		rotx 90
		addx -overhang
		addy -overhang*tan(_pitchAngle)+_profileHeightZ
		rotz -_bottomCutAngle
		muly -1
		cutplane 1, 0, 1       !Bottom Cut
		_nCut = _nCut + 1
		del 6
	endif

! --- Top Cut ------------------------------------------------------------------
	addy rm_ProfileWidth/2
	rotx 90
	addx rm_ProjectedLength-_topJointPlus
	addz rm_ProfileWidth/2
	roty -(180-_TopJointAngle)
	cutplane 0, 1, 1
	roty 90
	cutplane 0, 1, 1       !Top Cut
	del 6
	_nCut = _nCut + 2


! --- 3D Body ------------------------------------------------------------------
	addy rm_ProfileWidth/2
	rotx 90

	base
		prism 6, rm_ProfileWidth,
				0, 0,
				rm_ProjectedLength, rm_ProjectedLength*tan(_pitchAngle),
				rm_ProjectedLength, rm_ProjectedLength*tan(_pitchAngle)+rm_ProfileHeight/cos(_pitchAngle),
				-overhang, -overhang*tan(_pitchAngle)+rm_ProfileHeight/cos(_pitchAngle),
				-overhang, -overhang*tan(_pitchAngle),
				0, 0

		vert 0, 0, 0
		vert rm_ProjectedLength,rm_Height,0
		vert -rm_Height,rm_ProjectedLength,0
		vert 0, 0, -1

		coor 2, -1, -2, -3, -4
	body 1

	for i = 1 to _nCut
		cutend
	next i

	del 2


! ==============================================================================
for i = 1 to nProjectionCut
	cutend
next i

END
]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen gs_cont_pen
line_type gs_cont_line
fill gs_fill_type
hLineID = 2500

! ==============================================================================
! Roofmaker Macro
! ==============================================================================

call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										txt_BasePointX			= rm_ProjectedLength/2,
										txt_BasePointY			= 0,
										txt_BaseAngle			= 0,
				returned_parameters 	gs_cutplane_height,
										gs_top_range_height,
										gs_bottom_range_height,
										doCutplane


! ==============================================================================
! Listing
! ==============================================================================
if GLOB_CONTEXT = 6 then
	project2{2} 4, 270, 3+32+1024,
		gs_back_pen,0,0,0
	end
endif


! ==============================================================================
! 2D Hotspots
! ==============================================================================
unID=1
hotspot2 rm_ProjectedLength-_topJointPlus, 0, unID : unID=unID+1

! --- Centre ------------------------------------------------------------------
	hotspot2 rm_ProjectedLength/2, 0, 100

! --- Profile Width ------------------------------------------------------------
	if rm_bRafterVisible then
		unID = 1000
		hotspot2 -overHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -overHang, -profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -overHang,  1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot2 -overHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -overHang,  profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -overHang, -1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	hotspot2  0,					0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot2  rm_ProjectedLength,	0, unID, rm_ProjectedLength, 2		: unID=unID+1
	hotspot2 -1,					0, unID, rm_ProjectedLength, 3		: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	!!hotspot2  0,			0, unID, rm_OverHang, 1+128	: unID=unID+1
	!!hotspot2 -rm_OverHang,	0, unID, rm_OverHang, 2		: unID=unID+1
	!!hotspot2  1,			0, unID, rm_OverHang, 3		: unID=unID+1

	hotspot2  0,		0, unID, overhang, 1+128,	rm_OverHang: unID=unID+1
	hotspot2 -overhang,	0, unID, overhang, 2,		rm_OverHang: unID=unID+1
	hotspot2  1,		0, unID, overhang, 3,		rm_OverHang: unID=unID+1


! ==============================================================================
! Axis
! ==============================================================================
if not(rm_bRafterVisible) | AC_symb_display_option <> DISPLAY_OUTLINES then
	line_type rm_AxisLineType
	pen gs_axis_line_pen

	line2		-overHang, 0, rm_ProjectedLength, 0
	hotline2	-overHang, 0, 0, 0, hLineID : hLineID = hLineID + 1
	hotline2	 0, 0, rm_ProjectedLength, 0, hLineID : hLineID = hLineID + 1

	if not(rm_bRafterVisible) then end
else
	hLineID = hLineID + 2
endif


! ==============================================================================
! Floor Plan View
! ==============================================================================

if AC_symb_display_option = DISPLAY_SYMBOLIC then

	! ----- Symbolic 2D --------------------------------------------------------
	pen gs_fill_pen
	fill gs_fill_type
	line_type gs_cont_line
	project2{2} 3, 270, 3+32+1024, gs_back_pen,0,0,0

	pen gs_cont_pen
	project2{3} 3,270,3+32+1024, 8

else

	! ----- View Edges ---------------------------------------------------------
	pen gs_cont_pen
	line_type gs_cont_line

	if AC_symb_display_option = DISPLAY_OVERHEAD_ALL then
		pen AC_overhead_pen
		line_type AC_overhead_linetype
	endif

	project2{3} 3,270,2 + 32 * (AC_symb_display_option = DISPLAY_OVERHEAD_ALL | not(gs_use_3D_view_attributes)), 8,
		parameters	gs_2D_projection		= doCutplane,
					gs_2D_projection_type	= 1,
					gs_cutplane_height		= gs_cutplane_height,
					gs_top_range_height		= gs_top_range_height,
					gs_bottom_range_height	= gs_bottom_range_height


	if AC_symb_display_option <> DISPLAY_OVERHEAD_ALL then
		! ----- View Polygons --------------------------------------------------
		pen gs_fill_pen
		fill gs_fill_type

		project2{3} 3,270,3+32+1024+2048, 4,
						gs_back_pen,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 2,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif


	if AC_symb_display_option = DISPLAY_OVERHEAD_PROJ then

		! ----- Overhead View -----------------------------------------------------
		pen AC_overhead_pen
		line_type AC_overhead_linetype

		project2{3} 3,270,2+32, 2+8,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 3,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif

	if doCutplane then

		! ----- Cut Lines ---------------------------------------------------------
		pen gs_cut_pen
		line_type AC_cut_linetype
		line_property 2

		project2{3} 3,270,2+16+32+256+4096, 2,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 4,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height


		! ----- Cut Polygons ------------------------------------------------------
		pen gs_cut_fill_pen
		fill gs_cut_fill_type

		project2{3} 3,270,3+32+512, 1,
						gs_cut_back_pen,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 5,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif
endif
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
call "RoofMaker_macro" parameters	gs_iDisplayStandards	= gs_iDisplayStandards,
									gs_disable_property		= gs_disable_property,
									bdft_Length				= lumberSize,
									bdft_ProfileWidth		= rm_ProfileWidth,
									bdft_ProfileHeight		= rm_ProfileHeight,
									bdft_Quantity			= 1
]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! =================================================================================
! Rafter parameters set by the RoofMaker Add-on:
! "rm_ProjectedLength"			Horizontal Projection
! "rm_ProfileWidth"				Profile Width
! "rm_ProfileHeight"			Profile Height
! "rm_Height"					Relative Height of Ridge
! "rm_bRafterVisible"			Rafter Visible in 2D
! "rm_AxisLineType"				Axis Line Type
! "rm_OverHang"					Eaves Overhang
! "rm_EavesAngle"				Angle to Eaves
! "rm_iRoofEdgeAngle"			Roof Edge Angle
! "rm_JointWidth"				Thickness of Joining Element
! "rm_TopJointAngle"			Angle to Joining Element
! Parameters not by the RoofMaker Add-on:
! "rm_TopJointAngle_1"
! "rm_TopJointAngle_2"
! "rm_VerticalTrimmerAngle"
! "rm_PitchAngle"
! "rm_bIsTrimmerRotated"
! "rm_bSoffit"
! "rm_SoffitAngle"
! "rm_CutEndPointDist"
! =================================================================================


! ==============================================================================
! Profile
! ==============================================================================
values "rm_RoofEdgeAngle" stEdgeType
values "rm_iRoofEdgeAngle" 1,2,3

if GLOB_MODPAR_NAME = "rm_RoofEdgeAngle" then
	rm_iRoofEdgeAngle = 1
	for i = 2 to vardim1(stEdgeType)
		if rm_RoofEdgeAngle = stEdgeType[i] then
			rm_iRoofEdgeAngle = i
			i = vardim1(stEdgeType)
		endif
	next i
	parameters rm_iRoofEdgeAngle = rm_iRoofEdgeAngle
else
	rm_iRoofEdgeAngle = max(min(rm_iRoofEdgeAngle,vardim1(stEdgeType)),1)
	parameters rm_RoofEdgeAngle = stEdgeType[rm_iRoofEdgeAngle]
endif


! ==============================================================================
! Geometry
! ==============================================================================
values "profileWidthHalf"			range (0, )
values "rm_ProfileHeight"			range (0,)
values "rm_ProjectedLength"			range (0,)
values "rm_EavesAngle"				range (0,)
!values "structuralLength"			range (0,)
!values "rm_TopJointAngle"			range (0, 180)


if rm_TopJointAngle > 175 then
	rm_TopJointAngle = 175
	parameters rm_TopJointAngle = rm_TopJointAngle
endif

if rm_TopJointAngle < 5 then
	rm_TopJointAngle = 5
	parameters rm_TopJointAngle = rm_TopJointAngle
endif

if rm_JointWidth < EPS then
	rm_JointWidth = 0
	parameters rm_JointWidth = rm_JointWidth
endif

if rm_ProfileWidth < EPS then
	rm_ProfileWidth = 0.001
	parameters rm_ProfileWidth = rm_ProfileWidth
endif

if rm_Height < 0 then
	rm_Height = 0
	parameters rm_Height = rm_Height
endif

if GLOB_MODPAR_NAME = "profileWidthHalf" Then
	rm_ProfileWidth = profileWidthHalf*2
	parameters rm_ProfileWidth = rm_ProfileWidth
else
	profileWidthHalf = rm_ProfileWidth/2
	parameters profileWidthHalf = profileWidthHalf
endif


if rm_OverHang < EPS then
	rm_OverHang = 0
	parameters rm_OverHang = rm_OverHang
endif

if GLOB_MODPAR_NAME = "overhang" then
	rm_OverHang = overhang*sin(rm_EavesAngle)
	parameters rm_OverHang = rm_OverHang
else
	overhang = rm_OverHang/sin(rm_EavesAngle)
	parameters overhang = overhang
endif

lock "overhang"


if GLOB_MODPAR_NAME = "structuralLength" then
	rm_ProjectedLength	= structuralLength*cos(_pitchAngle)
	rm_Height			= structuralLength*sin(_pitchAngle)
	rm_StructuralLength	= structuralLength + _strutLengthPlus + overhangStrutSize - _topJointH
	parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
else
	if GLOB_MODPAR_NAME = "rm_StructuralLength" then
		structuralLength	= rm_structuralLength - _strutLengthPlus - overhangStrutSize + _topJointH
		rm_ProjectedLength	= structuralLength*cos(_pitchAngle)
		rm_Height			= structuralLength*sin(_pitchAngle)
		parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, structuralLength = structuralLength
	else
		if GLOB_MODPAR_NAME = "rm_Height" then
			structuralLength	= sqr(rm_ProjectedLength^2+rm_Height^2)
			_pitchAngle			= atn(rm_Height/rm_ProjectedLength)
			_strutLengthPlus	= rm_ProfileHeight*tan(_pitchAngle)
			_topJointH			= _topJointPlus/cos(_pitchAngle)
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength + _strutLengthPlus + overhangStrutSize - _topJointH
			parameters structuralLength = structuralLength, _pitchAngle = _pitchAngle, rm_StructuralLength = rm_StructuralLength
		else
			! "rm_ProjectedLength" is the strongest parameter
			_pitchAngle			= atn(rm_Height/rm_ProjectedLength)
			structuralLength	= rm_ProjectedLength/cos(_pitchAngle)
			rm_Height			= rm_ProjectedLength*tan(_pitchAngle)
			_strutLengthPlus	= rm_ProfileHeight*tan(_pitchAngle)
			_topJointH			= _topJointPlus/cos(_pitchAngle)
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength + _strutLengthPlus + overhangStrutSize - _topJointH
			parameters structuralLength = structuralLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
		endif
	endif
endif


! ==============================================================================
! Lumber Size
! ==============================================================================
_strutLengthPlus	= rm_ProfileHeight*tan(_pitchAngle)
_topJointH			= _topJointPlus/cos(_pitchAngle)
gosub "calcOverhangStrutSize":
lumberSize = structuralLength + _strutLengthPlus + overhangStrutSize - _topJointH
parameters lumberSize = lumberSize


! ==============================================================================
call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iObjectType				= 17


! ==============================================================================
! Bounding Box
! ==============================================================================
_underHeight = 0
if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
	_underHeight = sin(_pitchAngle) * overhangStrutSize - cos(_pitchAngle) * rm_ProfileHeight/2
else
	_underHeight = sin(_pitchAngle) * overhangStrutSize
endif

parameters A		= overhang + rm_ProjectedLength	-_topJointH*cos(_pitchAngle)				: lock "A"
parameters B		= rm_ProfileWidth															: lock "B"
parameters ZZYZX	= rm_Height+_profileHeightZ + _underHeight - _topJointH*sin(_pitchAngle)	: lock "ZZYZX"


! ==============================================================================
! Levels
! ==============================================================================
parameters ac_toplevel 		= rm_Height+_profileHeightZ-_topJointH*sin(_pitchAngle)
parameters ac_bottomlevel	= -_underHeight
]]>
</Script_VL>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_FixSize/>
			<STBit_UIUseHierarchicalPages/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Горизонтальная Проекция"]]></Description>
			<Fix/>
			<Value>2.65053823869</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Общая Высота"]]></Description>
			<Fix/>
			<Value>2.18790367902</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>-0.53033008589</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1.65757359313</Value>
		</Length>
		<Length Name="rm_ProfileWidth">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="profileWidthHalf">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.04</Value>
		</Length>
		<Length Name="rm_ProfileHeight">
			<Description><![CDATA["Высота Профиля"]]></Description>
			<Fix/>
			<Value>0.16</Value>
		</Length>
		<Length Name="rm_StructuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Fix/>
			<Value>3.43317279836</Value>
		</Length>
		<Length Name="structuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2.5</Value>
		</Length>
		<Length Name="rm_ProjectedLength">
			<Description><![CDATA["Конструктивная Длина Пролета"]]></Description>
			<Fix/>
			<Value>2</Value>
		</Length>
		<Length Name="rm_Height">
			<Description><![CDATA["Относительная Высота Стропил"]]></Description>
			<Fix/>
			<Value>1.5</Value>
		</Length>
		<Length Name="rm_OverHang">
			<Description><![CDATA["Свес Мауэрлата"]]></Description>
			<Fix/>
			<Value>0.5</Value>
		</Length>
		<Length Name="overhang">
			<Description><![CDATA["Свес Стропила"]]></Description>
			<Value>0.707106781187</Value>
		</Length>
		<Angle Name="rm_EavesAngle">
			<Description><![CDATA["Угол к Свесу"]]></Description>
			<Fix/>
			<Value>135</Value>
		</Angle>
		<String Name="rm_RoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Value><![CDATA["Вертикальный"]]></Value>
		</String>
		<Integer Name="rm_iRoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<Length Name="rm_JointWidth">
			<Description><![CDATA["Толщина Соединительного Элемента"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Angle Name="rm_TopJointAngle">
			<Description><![CDATA["Угол Соединения с Элементом"]]></Description>
			<Fix/>
			<Value>135</Value>
		</Angle>
		<Angle Name="rm_VerticalTrimmerAngle">
			<Description><![CDATA["Угол Соединения с Элементом"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Angle Name="rm_PitchAngle">
			<Description><![CDATA["Угол Наклона Крыши"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Boolean Name="rm_bIsTrimmerRotated">
			<Description><![CDATA["Конек или Распорка Повернуты"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="rm_bSoffit">
			<Description><![CDATA["Софит"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Angle Name="rm_SoffitAngle">
			<Description><![CDATA["Угол Софита"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Angle Name="rm_JointAngle">
			<Description><![CDATA["Угол между Соединяющими Элементами"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Angle>
		<Length Name="rm_CutAxisDist">
			<Description><![CDATA["Расстояние от Среза до Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D-отображение"]]></Description>
			<Fix/>
		</Title>
		<LineType Name="rm_AxisLineType">
			<Description><![CDATA["Тип Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</LineType>
		<PenColor Name="gs_axis_line_pen">
			<Description><![CDATA["Перо Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<Boolean Name="rm_bRafterVisible">
			<Description><![CDATA["Отображение Стропила в 2D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Integer Name="AC_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Integer Name="AC_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="gs_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Символический Вид"]]></Value>
		</String>
		<Boolean Name="gs_use_3D_view_attributes">
			<Description><![CDATA["Использовать Реквизиты 3D-вида"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Весь Элемент"]]></Value>
		</String>
		<LineType Name="gs_cont_line">
			<Description><![CDATA["Тип Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Перо Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Тип Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Перо Фона Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<LineType Name="AC_cut_linetype">
			<Description><![CDATA["Линии Сечений"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cut_pen">
			<Description><![CDATA["Перо Линии Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>24</Value>
		</PenColor>
		<FillPattern Name="gs_cut_fill_type">
			<Description><![CDATA["Тип Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_cut_fill_pen">
			<Description><![CDATA["Перо Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_cut_back_pen">
			<Description><![CDATA["Перо Фона Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<LineType Name="AC_overhead_linetype">
			<Description><![CDATA["Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>21</Value>
		</LineType>
		<PenColor Name="AC_overhead_pen">
			<Description><![CDATA["Перо Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</PenColor>
		<Boolean Name="gs_2D_projection">
			<Description><![CDATA["2D-символ"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_2D_projection_type">
			<Description><![CDATA["Тип 2D-проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Length Name="gs_cutplane_height">
			<Description><![CDATA["Высота Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_top_range_height">
			<Description><![CDATA["Высота Верхней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_bottom_range_height">
			<Description><![CDATA["Высота Нижней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_3D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_3D_representation">
			<Description><![CDATA["3D-отображение"]]></Description>
			<Fix/>
		</Title>
		<PenColor Name="pen3D">
			<Description><![CDATA["Перо в 3D"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>

		<!-- gs_material: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_material">
			<Description><![CDATA["Покрытия"]]></Description>
			<Fix/>
		</Title>
		<Material Name="rm_mat">
			<Description><![CDATA["Стропило"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>15</Value>
		</Material>

		<!-- txt_show: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="txt_show">
			<Description><![CDATA["Показать Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="displaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Размер Обрезки Пиломатериала"]]></Value>
		</String>
		<Integer Name="iDisplaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<PenColor Name="txt_pen">
			<Description><![CDATA["Перо Текста"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<String Name="txt">
			<Description><![CDATA["Текст"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="fontType">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="fsz">
			<Description><![CDATA["Размер Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>10</Value>
		</RealNum>
		<Boolean Name="gs_text_style_bold">
			<Description><![CDATA["Жирный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_italic">
			<Description><![CDATA["Курсивный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_underline">
			<Description><![CDATA["Подчеркнутый Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="txt_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="txt_pos_y">
			<Description><![CDATA["Позиция Текста по Y"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="typeTextRotation">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Читаемый"]]></Value>
		</String>
		<Integer Name="typeTextRotation_m">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<Angle Name="gs_readable_angle">
			<Description><![CDATA["Читаемый Угол"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>90</Value>
		</Angle>

		<!-- gs_list: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_list">
			<Description><![CDATA["Параметры Спецификаций"]]></Description>
			<Fix/>
		</Title>
		<Length Name="lumberSize">
			<Description><![CDATA["Размер Обрезки Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.43317279836</Value>
		</Length>
		<String Name="roundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["50"]]></Value>
		</String>
		<Integer Name="iRoundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="roundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA['2"']]></Value>
		</String>
		<Integer Name="iRoundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>5</Value>
		</Integer>
		<Length Name="roundValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="roundedLumberSize">
			<Description><![CDATA["Округленный Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.43317279836</Value>
		</Length>
		<RealNum Name="numBDFT">
			<Description><![CDATA["Объем в BDFT"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="gs_list_cost">
			<Description><![CDATA["Цена"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="gs_list_manufacturer">
			<Description><![CDATA["Производитель"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_note">
			<Description><![CDATA["Примечания"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_location">
			<Description><![CDATA["Расположение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_accessories">
			<Description><![CDATA["Аксессуары"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_Type">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Другой"]]></Value>
		</String>
		<Integer Name="iFMType">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>25</Value>
		</Integer>
		<String Name="FM_InventoryNumber">
			<Description><![CDATA["Инвентарный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_SerialNumber">
			<Description><![CDATA["Серийный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_ProductionYear">
			<Description><![CDATA["Год Производства"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="FM_ObjectWeight">
			<Description><![CDATA["Вес Изделия"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="FM_ObjectWeightUnit">
			<Description><![CDATA["Единица Веса"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["кг"]]></Value>
		</String>
		<String Name="gs_list_custom1">
			<Description><![CDATA["Пользовательское Значение 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom2">
			<Description><![CDATA["Пользовательское Значение 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom3">
			<Description><![CDATA["Пользовательское Значение 3"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom4">
			<Description><![CDATA["Пользовательское Значение 4"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom5">
			<Description><![CDATA["Пользовательское Значение 5"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="gs_disable_property">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_ui_current_page">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Integer Name="gs_iDisplayStandards">
			<Description><![CDATA["Стандартное Отображение"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
	</Parameters>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="4396" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	008008020000004C5CF69C000010E94944415478DAED5D596F5BD711CE6F290A
	B48F45D2B429D0B4CF2D501445165BBB4452A42829B105D84ED3D84D833449DD
	6C0D12A74D62CBDCC94B4AB22DEF6BAC585E6489BC0B49519B256BB1AC7DB1F6
	95FD66CE4DD11F70243FE40C0E2EAEAEE9979939337366BE99F34C5ED1532525
	0025801F2A75A65A66A72794009E0EDD6C3E5E57F4FCD4F8232580DDA6EDEDAD
	AB89CF9CBFFB515DD1AFE6D40ED86DEE6FADA52F7F5AF3A79F7A5FFAD9C1D217
	E7A6C79500768F3656E6876E1EFDF6CB975F2FF845EDABCF1E287B716E46ED80
	DDA2D5F9D1AEE643D958F97727CAF715FEF2B53D3F3F54A676C06ED1E278AEB3
	69BF112ACD35D5DCAA77EC2F7AE1B53DCF1D2AFF8DF201BB4173836D56AC12DC
	4FC7BD9D8DD5B78E97EDC70E60012813B4E334D57DCD0C951AE1B274A23A1DAF
	CA35782180BA62DA0107CB7EAD4CD0CED2B8D968040AACA82B93A8B134B71573
	75357A5B4F3AEA8A5EA87DE5D983652F2A13B473B43D72EF84112804DF49F713
	5E58A14CA2AAE7746DABCF414EF8D5E70E56FC5699A01DA1CDF5A5FE1B1FA6FC
	059984972D8F271D73A5B5CA6C839704505FAE7CC00ED2DAE264EFA57752B03C
	9A279DA8496BC47DAC4CBC32D3E0ED3E557BEB44194C1076C0BEBDCFCF2A1F20
	9796A7FA73670EE8C1E2B4E645CC63C62AAD981BBA9FC18A7B320DD510406B7D
	057680E3F73F0E7C7178637D4D09401A2D8C65B38DB546A8C48A83FB64F4B1B2
	8DD5507C3CB30D3599B8B7ABA9BAE578A9EB0F3FF17F7E646B6B4BA5A3A5D1EC
	C0EDB4E6B2624E2B5E6DC5ABD21A14DF03AFCB0220EE63E16367C27DFDD84BCD
	912F543D40264D64CF42F1C17DB8DC0CADAA74DC0DD663911F8E57E189EFF483
	A873227745156464D26832AC070ACC88D38856A61355303858593C05EB79651B
	6BCCA803E1D0ECC01D551193465B1BAB4377BE32834566C46544C8DF66340F39
	5BCD8D4D80F317AC10D99F44B51929877B58789C55254969B4B13CFBE0FA51DD
	BF371D739B914AF09A381EE315F740F7F184D78500CC7059AEF9D0CAECB0AA09
	4BA3D585B1EE0B8771D0CD70B8C98AEFCE20D88F912460888400F0AEFB0B7A2F
	BFBBB13CA38AF2D26869B2AFF3D43EA4D8C8BE6B55D80194ED8939C17D7C2101
	902D72E3A9078B066E7EBAB1BAA05011D2687E38998EBA88FB5A75466376C73D
	595E7817C7AEB40691388D50F1C87D3F2AC00A962231B77CD58C5458E18AB4C6
	46E67B97CB4F8FD07D7A469C66B8FCB1D5A47041326922D36C048B8D70851971
	93A6C748D3B3892A587F0B1C8F38F1D1C2C7B0231D2E9FEAB9AE80591281249B
	8FDA0306879B26879B14E17086079607ACB7E39F68A515AAC8C4DC73831D0A19
	278DB6D6571EDEFA1CDC4782C1642343EC8E92CB05C7851B6027EC36FDC528FC
	2E4DF62A68A2345A5F9E416E5907F7B52A13BCA6C3AD8759EF42C00383639B9D
	98C7F015769F3BBC3237A2B0A1D20847A7DC69CA2D83FB16C5F55E0800FE360D
	BEDB2E579CBF2A0D7F51FFF50F01FB51E05C69B4F0388342AE1E2C41661FE965
	8E2FDD99061280850579F01758213350FCB0E5F3ADAD75858E9646730FDB60D6
	012421D66B646A28AD46F935CA33E39D926E9ADBC46F82C523ED21054F974993
	5D97CD50890937DB500353032EC3D430F7791F44D9FEC429D78614DB44E705D5
	1F209346750DD91B33E6326DDD275E671B28B38F17DE070471C0390B18939981
	3BAA41431E6D6D0EB6FE3BE9DBCB0A5E2D824B8B539BD07D2C9C7E39BB594328
	2BCD3B3FA2AB0E1969B4B9B6F0E0DA5100492CF05DF3DAC17E8C16EC3E982ED4
	3F1BF7A2F2D5D5FCC6D2F4806A5192895BEE3E7F38E52F84CD01F74D527C3707
	9A5460C9DA55462F96112CE9B9F4F6FAD2B4EA119346CBD3FDB9E6830866CC38
	B82FCE562EE17261EE330C6560A3E4C171ACFFDB8F37D79654939E347A326A81
	D148709A1CECA7639C654B8888D396419A4FBC48450CDF3BB1B5B9AEBA24A5D1
	4C5F0B12CB06E219E83887F65073515207D385D6139441AB444D71CC3CA5DA54
	65D278E60CDCA901014438AEB7C12355CC7A38007A21EE479D40334C765D517D
	C23269A4EDA411B0A10C269B9D8CC6952C705F5821B2FED5304DF8323BD8A61A
	B525E29697075B8FA510EC139481AA57E475A30E68BA85CCBE48389339F21A91
	F24CD3EB8B13DDAA535E626E79B6EFDA070C2441B06FE7D76C2803F31D32B0A1
	0C81C2DC9943084FD5A80269B43AF728D7FC861E28621C8347E8BE386AF19F6E
	0B491EAEB1E037BD57DE5B5B9C52B322A4D1D24477B6A1D6468DC7B886C595F4
	6C1CEF5560BD19B54B2BA940E1C3D62FD161A18675486F522CE7623AD54FD236
	7A9954DE126E007FC227074B86DBFD2801AB6929D268327719994B032B0267EB
	B638C9938D139CC488388C900389077C37817508968E59A7D5B81A9934663651
	B01F0197DD5816395B2EE73282CA14E9360826ECC09AEE6D51F38224CEC4D81C
	BE57AF5393220597B03CB4220E420F46DD1C0551C89F86600225F8F3C923530D
	6C92D9A43870F31304FB08EA8DEF4FB9698AF79D2C0937BB5C2C378AE9D9A63A
	74D5A98959D2687D690AF01064F689FBA4E91E8EEE39CD29F29DCC7D3C755F61
	CFC5B757E71FAB91651273CB039DA70FA40204E3C112110E67D9F89D4DBF08F6
	8D4071DF950F36569FA89971D208763C13AF0690C4A2FE500F523D9C65232883
	19A577516341B55D0F950CDEFE6A7B6B430DED9346B3FDB7114A22D8476F3474
	DF00C785EE03CAA071EC8F27BFE03836AAC7D5D444993491BBA85376D3412DA2
	1AF49D729C19D67D0274C6C43EA8C60F00F599E8BAA2C656CAA4471D214019D8
	C8309084A37B941521005BFD09D3596D4490FA774E3FB8A5E6864AA3EDCDF587
	DF1D4BFA0AA0EF86568527898170FA4E1C7419CAC06516703F549669DAF76434
	A306B7CA1C80D777F50304FBE03B43192AA1E0768B3A9E71824F09382D5C2ECA
	EE2BB3436A72AE34020ABCFBC211B85313FE16010F9FAD4445376D4F88F1B260
	3C7AA8B8E7F2BBEB4B336A74B1345AA626451A8027A00CA60051D9D01DB239B4
	18CF0CCF4CB8E5F515353B5A1ACD8FA4C06E3D586A08CC3EA116DC76B8C9391F
	0210E223C178D0A41840B0AF86774BA3E9DE1B14ECD3AA341936CBA5442C3A6A
	D156881382932554822645353D5D6E6EB991F06B619C632B8D28197D6E556418
	21171429DC6CA83129F9EC9CECB9A6C6D7CB9C763D7CDF07834E95931814DCC3
	7515EA0C25F70BF5B7336E5E3D5C0E31CC0D75A8FB0364E296075A3E23D47894
	C3CD985D4CCFE0C9E936939B46C9E5A27B3D51BB38D1A72E7090461BDCA498F2
	EDB1620C99A2F4327748D3814B649569C101607F749D7F0BB9657583864C2009
	A65D83B308F65900CC7D2EE7724DD163B01BC04AFA0BFB6EFC13B01F75858934
	5A1CCBA639B74C014FD443155DC23180DDF0C04E916EC34C42D1224A40928D15
	75878CC4DC722BD88D605F8F20C1C06ACE834FA1F846D881854093641076A0A2
	3B723FA82EF19149802253DE38E2D019CA2032FB48B1A5D9EB1A11B0DE45763F
	E43002A563E9B3EA162589B43D9A8CA211C5007F11F0B0A1A7EC6614DCF7700C
	EA26BB0F4873B0DC0C554CF7DF56D758C9CC2D0FDDF93AE9DB6380CB70B99A98
	7DCA9360B83597CFBA64FAA1F8401822B7ACEE11930924416E397912B9658232
	98D42221A27B66BD46EA6F03497C4598DFB034D5AF2E729339EDBAEBFC910E5F
	01879B760997323C09FB9CC5B688F0B3BABFB0FBFC5F57E7C7D44D7AD208D375
	3A4FD5A502C5C83160D93E965B24C0712CE63E8924152C7E70E3A3CDB5457595
	A144208981C026152C3169DEB297B84FF0298FC82D8B8A0A5EE07801F519BC7B
	1C88437597A4349A7ED002D0B21EAEB01235A2A4654648F745311D5FF06E25AA
	B12152BEC251A3415DE629B749B119F935709FF36BDC22C1C574EE136270032F
	0651954D765D53B7A9CAA4E1361F941A8605ACC7932C0FC59A7CD442318BB124
	78C1FEC0CBECE07D759DADC481246B188097F21508EED34137EC84CA53C4F97F
	BA8F77287EBAF1F585B14E759FB0DC26C57FC09D92E2C76CFC9AC5B71C082883
	A8B063210B943BFBE6CADC2375A1B3D48924E7DE02F70D8DB9AF79FE176EE269
	CF248C53FA21454D8AEF03F6A36ED4967893621730B3297F91019BC391A5A9F1
	398B396EC6C4602A32FD493429DEFA12401275A5B9349A1F6A477653E49679EC
	2C5774352C42904324EC752910C2C49E918E304AC0EA4E799903F080A0029044
	0F61308308785C164F4432ED92165DB665C45C7A08B9E533EA527FB903F01294
	6300D309BB29A632B8504E21F78BF32D191F0F19FD107A48ED2645250039043C
	DAD0DDE3D4A81546800F13CF2ED71E72CD7CB75B76016528C73FCD0FA7F0BF94
	00E410F265FD373FE938B987013C1C6E726F10D511E106F8E4C54FC2AF659AEA
	C4003C2500694D8A3D97FEC6472DB7086F0C8D27F0F053D87D2C2B4A50862E34
	293EA1DCB212801C02063FDBB41F9C0594410F71012BE2A253AE46E07D587FAA
	67F13E489DDCFBE0C6C71B2B73F91F3C3D23B349B1A116B9651DDC67280357CF
	9DC0CF82FB3AF95E0A8108DCE92FA2607F732DAF48960066FA5BA1EF3AC24DD2
	71B7C8AFA54900900404802F4E0165D0FD258F92B1BC22890218CF9C43B8A903
	4B12E37E15AE2922F6A7808758CF202A882458A1FB8BC73B2FE615C913C036CE
	AE68938385E1240F4FC61073DDA1EFA4FBFC8267B01CB361661EB6E515C91200
	802403B78EB59F78858EB851AE9EC3F43394C1468D338A9F827D5F713A5EFB04
	37292A92250004FBBD97DF6BAFDF435A0FCB43BCE670936BB9062D8FC5CE0039
	B85CF39F29D857244B00C82D779D7D139C1550063DE2820922D3CFB55C23EC02
	F7B1B0219281A2EECBEFD2003C45B204809B14338DFBE17561F4816610072B2E
	63C1FDF2568024B86D3A19287E70F35F945B56244B00E8FE31A2C459B01EECA6
	D4026349D2717B2A8345FBA01ADC472A62E86E7D5E9144014CF7B5A4FCC5A920
	35E88A3639514C47D8639756681FE09F5CD81F8FCDD379451205306A34C2E853
	B819253BA3C3D0F3740093ED0F577499FB6142964FF6DCC82B922780EDA17B27
	80DD24671BF518D40E5721805358ACFB02C556950A9761735093A2225902D8DA
	584193227099A4F584DD14784D316659C0A7C8F8E023E5964FD52D4EF4E415C9
	12C0FAE254EFA5BFD34137E616690691DCB7B55EA3DD20000D30FA5DE78EA8DC
	B24C0120B7DC79E660C74900082B531137B82CA0B202366B724151A83FAC53DF
	B5A39BB8B85B912C012C8CE7E05793FE62CA2D87ED4B74059A817C6FD829021E
	9C7E01F11C68FDCFD6C66A5E912C01CC3EBC87AC7D2A58A6735D85395E411127
	5EA8A445990693516C38E81290449144018C67CFA3A8C2D52B44F41E316416DC
	677003DC809DE741EA3F152819CB9CCB2B922880D1540CEE94B8CF155D5157C1
	425A8D73CB9C75E03014BF99EABD9957244B005B9BAB83B7BF46FE40B09EAC8D
	684E67F0881146BACD6944095C950A9559895A6A5254244B0028CFF6B77CD651
	FF2A9D6F056A3C664319B839D4A3E30BCFDF4FF98AB2A70F2CCF0EE715C91300
	BC6E5BFB8997C9E5069D4684821C71D10165F3430E51D5A2F7FABD3D17DF595D
	98C82B922B80A907B7DAEBF7A6422EB23F6CF7C58CF754B002668782CEB02B79
	B2A0EFFA471B2B4FF28A764000B7DB7D8526010539DC0C339096CD0E97732B92
	270B076F7FB38D2645453B2180E9FE3B84A225674B064754B5F4082D235401BB
	3FA280243B2B80813B497F11749FCB5B1E83592F36841E289BE8BA9A57B4D302
	E07C672542203D262C0FEE332BC5736E289957B42B3BA010461FE1A6C02D6343
	641AEB9E8CE5F28A76C507DC06C084770004E001F77367FFB23C339457B46B02
	409D9D310DC82D17F65C797F7D59E19677510033FDF0012510403BA1C63FA18B
	BB15EDAA00E0037C051DFEC2E1FB0115EC3F8D83586F4BDB377F1CCB9CCD2B7A
	4A3BE0EE78F6425ED1D312006E5ECC2BCAABB1953F48FA2F1E13E18C3126E56D
	0000000049454E44AE426082
	]]>
</Picture>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="1" length_in_bytes="515" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000004F0000
	00780203000000CE2547000000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D8660000019B49444154785EADD3316AE440
	1085E11E81F71073049F628EA0C08A9DDABAC3A23D424702379871204B5B751F
	E3C8B758E148D46A3A98E7563DCC804728FA689A9F2A2914CF43F0CF4EFF30FC
	EBF1972AC517877B556138BAA3ED8A4AD0DDBA3B19AA80ADAA2B5A592EC07DC6
	C1670251945423455674A07871262DA2ED7E702CB365990DC9949E64CA93CF14
	D5769B9971709834B94C514D91219B66F2990A44A6EAA39BE66B463738193C8E
	4296DEF7D1A136ADCF949E4C5346324D214B1F852D5DAEBF7455140185642ACB
	BCF8DB4C2A2C532243B674219940FC2D3FCDD4A1263FF5F34C467CB4DA4FB3B3
	B944C968B5CB5CDEED8D61576F325F17B36EDE644EBF6DE5BACC3C7ED8A7D9BF
	72E9C7D9EECF88CCC6085AC662E9B69C11992702EE334E0E13B0CCC49DC80462
	E9DA3954A02B2A702C109903C30988CC684842A6E12432B728BA45642EDF2096
	3E39D412F119027D664664029109C4D23B242113275134384C052233167772AC
	72D1A1C4703B12AC569450628ECA88A47CAB0E0EC32DC34AA3BB730D88FE64A8
	0E0403C580CE6B6173537F7DEFFE03B1B0589611BAD58D0000000049454E44AE
	426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="2" length_in_bytes="540" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000005D0000
	00780203000000ED7E16D50000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D866000001B449444154785EEDD4316EF230
	18C6715B82DD4B3B7461E7142F520F9001BA327F9EBFB5E2125190720024FB34
	1C0646E4E23CAFD337B62C5450D5058BEDA77F1E3991509543BF0FB7CFE31BBA
	06AF15D0B616F85AE0A91200CA80A10C129481AF05BE1678AA04051007257050
	0282729C1094B0E2C0E51B29E832D029B0540620CA0380F57900E9BDAF2CE051
	C5C2011B6580F122805216582C783F09009D174069C1668FA218000E19680B70
	7981C0DB6E0A08C488A3EC0E3D7B9B7F389F022E3E38E8C680615C701C08C816
	00661901860047AB655AB008180C369C8D231CD01000225A0400C36007E8C502
	A007CA0585711C1100FAA110C12C82158161780174BC31066A43119C1D1774F6
	281408C4B8FC7046C01B17FB26FB5B4CC1EEFF15B40414FBF0290A138183B023
	1412FA6B10C21141BAFA9283104E2824F4310897E9452C82288442C010ECE408
	0DE0B611E2889E42BB00881113C71D3104D21368D5021B184917B18E46386909
	AD1AE1222FF28FBE21AC04AC9580A3BC0800E79C60BE9E091023BA21CA01F2AE
	486C08205529541DD44DD865403F06753F843BE1EF371E87E7BB7ABEAB79B339
	6FF9376F1AA5BE00D2255ABF8E632F620000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="3" length_in_bytes="426" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000006A0000
	00680403000000EBC778AF0000000F504C5445FF00000000007D7D7DD7D7D7FF
	FFFF678837C30000000174524E530040E6D8660000013F49444154785EED9441
	8A04211004F507D6EA07667E20BE40A8FFBF691177C983E362F4CE610E9DA7A2
	2188B2203B04B3300287AF071DE2252AA70B546CF502951B774D15BE6119CF0A
	79A0E17888DE03A78A9B19A6BC3F9F0F4A15374E9977E31B164F6360D43820A1
	A422945484928A5052114A2A42494528A9082515A1A422945484928A5052D10A
	2BE7156E3FA9E7AD2C9E19A50A2BA0C20AA830A0A422D4AA221566D44E65B9DA
	CC6E78A56AB9B699CD50A50294546443EF0B7552E1CCA9E8BD71AAB8BDA252AE
	7126D734A32FD5BCC7856215568E2BDCCE5B593C134A15E61B164F31806BA857
	805285914B2A464D15734985A8A9822EA9083555D425D586325B87A992EB34F1
	5785A89002772990FA7457B4BFB2DF4B59FF1BFFA7F8869F7FF9DB75BB70EE2E
	5FBFC67B2F7FBB6E57140C6293920775F9CD2EFEAE6F2947A70FBD0ECAB80000
	000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="4" length_in_bytes="237" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000200000
	002702030000001311A2DF00000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D8660000008849444154785E5DCFC109C3301005D1
	5990EE3658A9674B70200AC425A89EB4E083B7CA10FFECC1F9E83048BC830068
	68B6A04D3339D74BC6741EB00714809AD17730C0B6DD4FD6C6A17846AC27BB45
	88D588B76284988D10638B0B9B93D5642D19C91CB102620EC9F8B2E3176377C4
	3AAAD78AD65D1F63E17F055A765538F7EB05B3349867ACF0010D75282352D565
	620000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="5" length_in_bytes="583" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000C00000
	00880203000000CCB90C950000000C504C5445FF0000FFFFFF000000D7D7D7A0
	CA31740000000174524E530040E6D866000001DF49444154785EEDD6B16ADC40
	1845E1CB548E9E424D609DF78910AA16577A8CC1555EC0BD1A8351E3F773B309
	8BD141C5EACEADD2E82FB6DA9F6FC4D180F4781649CFBFB7A992AA7A3D9C2249
	6FDBC2A4FB1C2C5C2475005739A14AFAB90143754227A970A25146B8DB3F38D1
	2223942AE99D13C9094F920AC00CDC1801218980E023200411107C0484240282
	8F80904440F011109208083E02421201C14740482220F808084904041F012189
	80E023202411107C04842402828F80904440F011109208083E02421201C14740
	482220F808084904041F01218980E023202411107C04842402828F80904440F0
	11109208083E02421201C14740482220F808084904041F01218980E023203446
	40082220F80842688C80D01801A13102021178E443611F61FD37320211583812
	F6113E6FB72F231081856381088D02111A0522B40B6F89408446617F131A84FD
	4D6810F637A141D8DF042B94757F13FCBBF4A16780F57BFE1C4C2F224CB7EFA9
	87060B2F7EA14A08C36B288C25149692098342615628D45098140A5765C25043
	6154282CCA8441A1302B146A284C0A85AB3261A8A1302A141665C2A050981509
	EB5A3381F9D5BD2E1FF79F4301BFC8CE23FB7F0AA7700AA7700A4F1BD0F70EB8
	FFF7B20997C5019D24AD4DC3E7632AE4CFF017E121ED9F35CEC3990000000049
	454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="6" length_in_bytes="297" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000560000
	002F02030000000415D56D00000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D866000000C449444154785E6DCEB1ADC3301004D1
	23203A7660FFC0D5D0800A50E0E897A06A1CA8043910AB348F82B480E7361C6C
	F0EC77B958B414E7610CF314D66429CA370BD71C57D61C9FFD39C4E817D16E59
	43F41F7227CF6B84CE5559687B78063ACD9E81BE54CF40FF7B26BA7A26BA67A2
	7B26DA33D13D13DD33D13D13BD67A295853E32D19E8956165A1968CF402B0BAD
	4CB4B2D0CA422B8F4FA0DB16CB45E8635BB1FB24F409192C097DAE3D13D075B3
	F606BA2EFE04BA167F03FD317F03FD367F13BDBFBFE8AFB4894A32F579000000
	0049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="7" length_in_bytes="170" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000001A0000
	004201030000007359541700000006504C5445FF000000000041A31203000000
	0174524E530040E6D8660000004849444154785ECD8BB10D0020080451291CC1
	D2012C2C2D1D8D7998525F23F6567EC27104A0990EC844803090807C960E4B8F
	A90015687412CDD8CC9345CCBA597E79FE2EAA2A771A3ABA069104A24B0C0000
	000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="10" length_in_bytes="342" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000840000
	001902030000008DD26EA90000000C504C5445FF0000FFFFFF000000F0F0F0E2
	07661F0000000174524E530040E6D866000000EE49444154785EB591314E0341
	0C45BF5C45CE25222A4233A7314254947B0C5F6229A8A68984A6C911F62A888A
	23208A5984F51D0D41200A70B7D67F4FDFB3F8F3F1DF0007B39B1F1D329B4DE7
	943E8E1F6656CFB96377FF40EF00C7DEECDA01EC0070898B757DF64059E3164C
	E472DB97B744C33565227DD2979744431CAEABC18765AD44C311184A1DCE2A9D
	35C241ACBC0E676D59838EC4A05C029235C241AC1C5D7309648D7004C6047D90
	1A35E82056D627CD25741317D0310D09FAB0111C8CA8CC74B5D6B435E4F89E17
	B8DC13DB01DA865FAA7C8D2A0FC8C4E7093412C4BE4E0313F5BBC425D8C3F11F
	F30E99DD6C7DD416DF150000000049454E44AE426082
	]]>
</GDLPict>

<UnknownSection SectVersion="17" SectionFlags="0" SectionType="1279480915" SubIdent="0" length_in_bytes="119" platform="Win">
	<![CDATA[
	51656E5F46696C655F4E616D653D56616C6C6579526166746572325F3100436F
	6D6D656E743D436F727265637465642062792048656E72696B204D6167796172
	0D0A50726F7065727479205363726970747320686173206265656E2075706461
	7465640D0A44617465203A20323030322D30322D303600
	]]>
</UnknownSection>

<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>56A4A77E-2509-450D-94D0-A816189B7DF4</MainGUID>
	<MainGUID>06BA412F-7262-4221-A9B3-1A3E410E9170</MainGUID>
	<MainGUID>4E5B3C37-FC62-45CC-A81D-6C48E85111AB</MainGUID>
	<MainGUID>4DAFFCF4-6762-4F09-B32D-718501DD0BAC</MainGUID>
	<MainGUID>004A6DCB-5444-4BC2-A769-30E015C3E575</MainGUID>
	<MainGUID>690AF06C-DC5E-413A-81F0-DBACC3DDAECB</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS = 0.00001

bEnableRafter		= 1
bEnableSymbol		= 0
bEnableResolution	= 0


! ==============================================================================
! Definitions
! ==============================================================================
!gs_iDisplayStandards
	LANGUAGE_INT		= 1
	LANGUAGE_GER		= 2
	LANGUAGE_CHE		= 3
	LANGUAGE_AUT		= 4
	LANGUAGE_USA		= 5

!AC_symb_display_option
	DISPLAY_PROJECTED			= 1
	DISPLAY_OVERHEAD_PROJ		= 2
	DISPLAY_SYMBOLIC			= 3
	DISPLAY_OUTLINES			= 4
	DISPLAY_OVERHEAD_ALL		= 5

!AC_symb_show_projection_to
	PROJECTION_FLOOR_PLAN_RANGE	= 1
	PROJECTION_DISPLAY_LIMIT	= 2
	PROJECTION_ENTIRE_ELEMENT	= 3

dim stEdgeType[3]
	stEdgeType[1]	= `Перпендикулярно`
	stEdgeType[2]	= `Вертикальный`
	stEdgeType[3]	= `Прямоугольный Срез`

! rm_iRoofEdgeAngle
	EDGE_PERDENDICULAR		= 1
	EDGE_VERTICAL			= 2
	EDGE_RECTANGULAR		= 3


! ==============================================================================
! 2D Display Options
! ==============================================================================

dim stDisplayOptions[5]
	stDisplayOptions[1]		= `Сечение и Низ`
	stDisplayOptions[2]		= `Сечение и Верх`
	stDisplayOptions[3]		= `Символический Вид`
	stDisplayOptions[4]		= `Только Контуры`
	stDisplayOptions[5]		= `Вся Проекция`

dim stProjectionTypes[3]
	stProjectionTypes[1]	= `Согласно Диапазону Плана Этажа`
	stProjectionTypes[2]	= `Согласно Абсолютному Диапазону`
	stProjectionTypes[3]	= `Весь Элемент`

if GLOB_MODPAR_NAME = "gs_symb_display_option" | AC_symb_display_option = 0 then
	AC_symb_display_option = DISPLAY_PROJECTED
	if gs_symb_display_option = stDisplayOptions[2] then AC_symb_display_option = DISPLAY_OVERHEAD_PROJ
	if gs_symb_display_option = stDisplayOptions[3] then AC_symb_display_option = DISPLAY_SYMBOLIC
	if gs_symb_display_option = stDisplayOptions[4] then AC_symb_display_option = DISPLAY_OUTLINES
	if gs_symb_display_option = stDisplayOptions[5] then AC_symb_display_option = DISPLAY_OVERHEAD_ALL
	parameters AC_symb_display_option = AC_symb_display_option
else
	gs_symb_display_option = stDisplayOptions[min(max(1, AC_symb_display_option), vardim1(stDisplayOptions))]
	parameters gs_symb_display_option = gs_symb_display_option
endif

if GLOB_MODPAR_NAME = "gs_symb_show_projection_to" | AC_symb_show_projection_to = 0 then
	AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE
	if gs_symb_show_projection_to = stProjectionTypes[2] then AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT
	if gs_symb_show_projection_to = stProjectionTypes[3] then AC_symb_show_projection_to = PROJECTION_ENTIRE_ELEMENT
	parameters AC_symb_show_projection_to = AC_symb_show_projection_to
else
	gs_symb_show_projection_to = stProjectionTypes[min(max(1, AC_symb_show_projection_to), vardim1(stProjectionTypes))]
	parameters gs_symb_show_projection_to = gs_symb_show_projection_to
endif


! ==============================================================================
! Geometry Calculation
! ==============================================================================
_TopJointAngle		= rm_TopJointAngle
if rm_TopJointAngle <= 90 then _TopJointAngle = rm_TopJointAngle/2+90
if abs(rm_TopJointAngle-180) < EPS then _TopJointAngle = 175
_topJointPlus 		= (rm_JointWidth/2) / sin(180-_TopJointAngle)
_tOverHang			= rm_OverHang/sin(rm_EavesAngle)
_pitchAngle			= atn(rm_Height/rm_ProjectedLength)
_profileHeightZ		= rm_ProfileHeight/cos(_pitchAngle)
_strutLengthPlus	= rm_ProfileHeight*tan(_pitchAngle)
_topJointH			= _topJointPlus/cos(_pitchAngle)


gosub "calcOverhangStrutSize"

! ------------------------------------------------------------------------------
goto "MasterEnd"
! ------------------------------------------------------------------------------

! ==============================================================================
! Subroutines
! ==============================================================================
! ------------------------------------------------------------------------------
"calcOverhangStrutSize":
! ------------------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		overhangStrutSize = (_tOverHang - rm_ProfileHeight*sin(_pitchAngle))/cos(_pitchAngle)
	else
		if rm_iRoofEdgeAngle = EDGE_VERTICAL then
			overhangStrutSize = _tOverHang/cos(_pitchAngle)
		else
			if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
				overhangStrutSize = _tOverHang/cos(_pitchAngle) - (rm_ProfileHeight/2)*tan(_pitchAngle)
			endif
		endif
	endif
return

! ------------------------------------------------------------------------------
"MasterEnd":
! ------------------------------------------------------------------------------
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! =============================================================================
! Localization
! =============================================================================
dim stGeometry[8]
	stGeometry[1]	= `Торец Крыши`
	stGeometry[2]	= `Свес Стропил`
	stGeometry[3]	= `Свес Стропила`
	stGeometry[4]	= `Ширина Профиля`
	stGeometry[5]	= `Высота Профиля`
	stGeometry[6]	= `Относительная Высота Стропил`
	stGeometry[7]	= `Конструктивная Длина Пролета`
	stGeometry[8]	= `Длина Элемента`

dim stCutting[4]
	stCutting[1]	= `Углы Соединений`
	stCutting[2]	= `Смещение Среза`
	stCutting[3]	= `Угол Соединения с Элементом`
	stCutting[4]	= `Толщина Соединительного Элемента`

! =============================================================================
! Variables
! =============================================================================

pageStartY		= 5
xInfieldSmall	= 70
xInfieldBig		= 90
yInfield		= 19
yOutfield		= 14

! =============================================================================
! Tabpages
! =============================================================================

TABID_ROOT					= -1
TABID_GEOMETRY				= 1
TABID_CUTTING				= 2

call "RoofMaker_macro"	parameters all	iObjectType				= 17,
										bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iUiType					= 1

ui_page TABID_GEOMETRY, TABID_ROOT, `Геометрия`, "uiTab_Dimension_flat(1)"
if gs_ui_current_page = TABID_GEOMETRY then
	gosub "geometryPage"
endif

ui_page TABID_CUTTING, TABID_ROOT, `Подрезка`, "uiTab_RMCut_flat(1)"
if gs_ui_current_page = TABID_CUTTING then
	gosub "cuttingPage"
endif

! ======================================================================
end
! ======================================================================

"geometryPage":
! =============================================================================
! Geometry
! =============================================================================

	ui_outfield stGeometry[1], 6, pageStartY + 10, 92, yOutfield
	ui_infield{3} "rm_iRoofEdgeAngle", 99, pageStartY - 1, 55, 30,
		2, 10, 3, 1,																!pict_roof edge_angle_1.png
		44,25,44,25,
		1, stEdgeType[1],	1,
		2, stEdgeType[2],	2,
		3, stEdgeType[3],	3 ui_tooltip stGeometry[1]


	picX			= 340
	picY			= pageStartY + 20

	ui_pict 3,	1, pageStartY + 47, 106,  104, 1									!valleyrafter_pict3.png
	ui_pict 4,	picX-12, picY+9, 32,  39, 1							!valleyrafter_pict4.png
	ui_pict 5,	picX-205, picY+66, 192,  136, 1						!valleyrafter_pict5.png
	ui_pict 6,	picX-99, picY+19, 86,  47, 1						!valleyrafter_pict6.png
	ui_pict 7,	picX-231, picY+136, 26,  66, 1						!valleyrafter_pict7.png

	ui_infield "rm_OverHang", 8, pageStartY + 158, xInfieldBig, yInfield			ui_tooltip stGeometry[2]
	ui_infield "overHang", 8, pageStartY + 201, xInfieldBig, yInfield			ui_tooltip stGeometry[3]

	ui_infield "rm_ProjectedLength", picX-10, picY+181, xInfieldBig, yInfield		ui_tooltip stGeometry[7]
	ui_infield "rm_Height", picX-10, picY+94, xInfieldBig, yInfield					ui_tooltip stGeometry[6]
	ui_infield "rm_StructuralLength", picX-197, picY+46, xInfieldBig, yInfield		ui_tooltip stGeometry[8]
	ui_infield "rm_ProfileWidth", picX+13, picY+49, xInfieldBig, yInfield			ui_tooltip stGeometry[4]
	ui_infield "rm_ProfileHeight", picX+13, picY-11, xInfieldBig, yInfield			ui_tooltip stGeometry[5]

return

"cuttingPage":
! =============================================================================
! Cutting
! =============================================================================

	angleForm		= ""
	qq=request ("Working_angle_unit","",angleForm)


	! -------- Joining Angles ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[1], 10, pageStartY, 200, yOutfield
	ui_style 0, 0

	ui_pict 1,	16, pageStartY + 42, 79, 120, 1											!valleyrafter_pict1.png

	ui_infield "rm_TopJointAngle", 97, pageStartY + 77, xInfieldBig, yInfield			ui_tooltip stCutting[3]
	ui_outfield str{2}(angleForm, 90), 99, pageStartY + 103, xInfieldBig, yOutfield

	ui_separator 212, pageStartY, 212, pageStartY + 230


	! -------- Cut Offset ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[2], 223, pageStartY, 180, yOutfield
	ui_style 0, 0

	ui_pict 2,	328, pageStartY + 42, 93, 120, 1										!valleyrafter_pict2.png
	ui_infield "rm_JointWidth", 236, pageStartY + 113, xInfieldBig, yInfield			ui_tooltip stCutting[4]

return
]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["RoofMaker_macro"]]></MName>
		<MainGUID>30FD2A4F-F31A-4D2A-88EF-73C19FC6BFB6</MainGUID>
	</Macro>
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>6ABFE0E3-0BBC-4149-B02A-8C3F9C6C28DE</MainGUID>
		<Version>19</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
