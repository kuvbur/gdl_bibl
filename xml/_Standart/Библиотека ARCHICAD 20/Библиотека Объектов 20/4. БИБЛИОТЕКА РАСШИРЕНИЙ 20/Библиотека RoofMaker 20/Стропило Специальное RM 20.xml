<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="C3559594-563A-41EF-93B2-4335A24997E7" MigrationValue="Normal" Owner="1196638531" Signature="1196644685" Version="38">
<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>103E8D2C-8230-42E1-9597-46F84CCE28C0</MainGUID>
	<MainGUID>56A4A77E-2509-450D-94D0-A816189B7DF4</MainGUID>
	<MainGUID>06BA412F-7262-4221-A9B3-1A3E410E9170</MainGUID>
	<MainGUID>4E5B3C37-FC62-45CC-A81D-6C48E85111AB</MainGUID>
	<MainGUID>4DAFFCF4-6762-4F09-B32D-718501DD0BAC</MainGUID>
	<MainGUID>004A6DCB-5444-4BC2-A769-30E015C3E575</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen pen3D
material rm_mat


! ==============================================================================
! 2D Display Options
! ==============================================================================

!gs_2D_projection_type:
!	0 - Normal 3D
!	1 - View Edges
!	2 - View Polygons
!	3 - Overhead Edges
!	4 - Cut Lines
!	5 - Cut Polygons
!	6 - Bottom Range Cut Lines
!	7 - Top Range Cut Lines

nProjectionCut = 0
if gs_2D_projection then
	if AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE | (AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT & gs_bottom_range_height < gs_cutplane_height) then
		addz gs_bottom_range_height
		cutplane{2} 180, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if gs_2D_projection_type <> 6 then
		addz gs_cutplane_height
		cutplane{2} 180 * (gs_2D_projection_type = 3), 1
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
	if AC_symb_show_projection_to <> 3 then
		addz gs_top_range_height
		cutplane{2} 0, 2
		nProjectionCut = nProjectionCut + 1
		del 1
	endif
endif


! ==============================================================================
! 3D Hotspots
! ==============================================================================

! --- Profile Width ------------------------------------------------------------
	unID = 1000
	if rm_iRoofEdgeAngle = EDGE_VERTICAL then
		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle), unID,	profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  1,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle), unID,	profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -1,				-rm_OverHang*tan(rm_PitchAngle), unID,  profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle), -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle), -1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle), unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot -rm_OverHang,  0,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang,  profileWidthHalf,-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot -rm_OverHang, -1,				-rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2, unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

! --- Profile Height ------------------------------------------------------------
	unID = 2000
	hotspot  0,										0,  0,									 unID,  rm_ProfileHeight, 1+128 : unID=unID+1
	hotspot -rm_ProfileHeight*sin(rm_PitchAngle),	0,  rm_ProfileHeight*cos(rm_PitchAngle), unID,	rm_ProfileHeight, 2		: unID=unID+1
	hotspot  rm_ProfileHeight*sin(rm_PitchAngle),	0, -rm_ProfileHeight*cos(rm_PitchAngle), unID,  rm_ProfileHeight, 3		: unID=unID+1

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	!!roty -rm_PitchAngle
	!!	hotspot  0,					0, 0, unID, structuralLength, 1+256,	rm_ProjectedLength : unID=unID+1
	!!	hotspot -1,					0, 0, unID, structuralLength, 3,		rm_ProjectedLength : unID=unID+1
	!!	hotspot  structuralLength,	0, 0, unID, structuralLength, 2,		rm_ProjectedLength : unID=unID+1
	!del 1

	hotspot  0,						0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 1+128	: unID=unID+1
	hotspot -1,						0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 3		: unID=unID+1
	hotspot  rm_ProjectedLength,	0, rm_ProjectedLength*tan(rm_PitchAngle), unID, rm_ProjectedLength, 2		: unID=unID+1

	hotspot  0,						0, 0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot -1,						0, 0, unID, rm_ProjectedLength, 3		: unID=unID+1
	hotspot  rm_ProjectedLength,	0, 0, unID, rm_ProjectedLength, 2+128	: unID=unID+1

	!hotspot  0,					0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 1+128	: unID=unID+1
	!hotspot -1,					0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 3		: unID=unID+1
	!hotspot  rm_ProjectedLength,	0, rm_ProjectedLength*tan(rm_PitchAngle) + _profileHeightZ, unID, rm_ProjectedLength, 2		: unID=unID+1

! --- Height ------------------------------------------------------------
	unID = 4000
	hotspot rm_ProjectedLength,	0,  0,			unID, rm_Height, 1+128	: unID=unID+1
	hotspot rm_ProjectedLength,	0, -1,			unID, rm_Height, 3		: unID=unID+1
	hotspot rm_ProjectedLength,	0,  rm_Height,	unID, rm_Height, 2		: unID=unID+1

	!hotspot rm_ProjectedLength,	0,  0 + _profileHeightZ,			unID, rm_Height, 1+128	: unID=unID+1
	!hotspot rm_ProjectedLength,	0, -1 + _profileHeightZ,			unID, rm_Height, 3		: unID=unID+1
	!hotspot rm_ProjectedLength,	0,  rm_Height + _profileHeightZ,	unID, rm_Height, 2		: unID=unID+1

! --- Roof Pitch ------------------------------------------------------------------
	unID = 5000
	hotspot 0,						 0, 0,											unID, rm_PitchAngle, 6		: unID=unID+1
	hotspot rm_ProjectedLength/2,	 0, 0,											unID, rm_PitchAngle, 4+128	: unID=unID+1
	hotspot 0,						-1, 0,											unID, rm_PitchAngle, 7		: unID=unID+1
	hotspot rm_ProjectedLength/2,	 0, (rm_ProjectedLength/2)*tan(rm_PitchAngle),	unID, rm_PitchAngle, 5		: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	addz rm_ProfileHeight/cos (rm_PitchAngle)
	roty -rm_PitchAngle
		hotspot  0,			0, 0, unID, overHang, 1+128,	rm_OverHang : unID=unID+1
		hotspot  1,			0, 0, unID, overHang, 3,		rm_OverHang : unID=unID+1
		hotspot -overHang,	0, 0, unID, overHang, 2,		rm_OverHang : unID=unID+1
	del 2

! --- Soffit Angle ------------------------------------------------------------
	unID = 12000
	if rm_bSoffit then
		if rm_iRoofEdgeAngle = EDGE_VERTICAL then
			hotspot -rm_OverHang,	0, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,6		: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang,	1, -rm_OverHang*tan(rm_PitchAngle),									unID,rm_SoffitAngle,7		: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)-rm_OverHang*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5		: unID=unID+1
		endif

		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),	0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,6	: unID=unID+1
			hotspot  0,													0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang+rm_ProfileHeight*sin(rm_PitchAngle),	1, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle),											unID,rm_SoffitAngle,7	: unID=unID+1
			hotspot  0,													0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ-rm_ProfileHeight*cos(rm_PitchAngle)-(rm_OverHang-rm_ProfileHeight*sin(rm_PitchAngle))*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5	: unID=unID+1
		endif

		if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
			hotspot -rm_OverHang,	0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,6	: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,4+128	: unID=unID+1
			hotspot -rm_OverHang,	1, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2,																unID,rm_SoffitAngle,7	: unID=unID+1
			hotspot  0,				0, -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2-(rm_OverHang-_profileHeightZ/2/tan(rm_PitchAngle))*tan(rm_SoffitAngle),	unID,rm_SoffitAngle,5	: unID=unID+1
		endif
	endif


! ==============================================================================
! Roofmaker Element
! ==============================================================================

! --- Profile ------------------------------------------------------------
	put	-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
		 rm_ProfileWidth/2, -rm_ProfileHeight/2, 0,
		 rm_ProfileWidth/2,  rm_ProfileHeight/2, 0,
		-rm_ProfileWidth/2,  rm_ProfileHeight/2, 0,
		-rm_ProfileWidth/2, -rm_ProfileHeight/2, 0


if abs(rm_CutAxisDist)>rm_ProfileWidth/2 then

	print `Расстояние от точки среза до оси СЛИШКОМ ВЕЛИКО!`

else

	_bottomCutAngle		= 0
	_topCutAngle		= 0
	_nCut				= 0
	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR	then _bottomCutAngle = 90-rm_PitchAngle
	if rm_iRoofEdgeAngle = EDGE_VERTICAL		then _bottomCutAngle = 90


! --- Bottom Cut ------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
		addy rm_ProfileWidth/2
		rotx 90
		addx -rm_OverHang
		addy -rm_OverHang*tan(rm_PitchAngle)+_profileHeightZ/2
		rotz 0
		muly -1
		cutplane 1, 0, 1           !Bottom Cut1
		_nCut = _nCut + 1
		del 4

		addx -rm_OverHang
		cutplane 0, 1, 1, 1         !Bottom Cut2
		_nCut = _nCut + 1
		del 3
	else
		addy rm_ProfileWidth/2
		rotx 90
		addx -rm_OverHang
		addy -rm_OverHang*tan(rm_PitchAngle)+rm_ProfileHeight/cos(rm_PitchAngle)
		rotz -_bottomCutAngle
		muly -1
		cutplane 1, 0, 1
		_nCut = _nCut + 1
		del 6
	endif


! --- Top Cut ------------------------------------------------------------------
	addy rm_ProfileWidth/2
	rotx 90
	addx rm_ProjectedLength
	addy rm_ProjectedLength*tan(rm_PitchAngle)+rm_ProfileHeight/2/cos(rm_PitchAngle)
	addz rm_ProfileWidth/2+rm_CutAxisDist
	rotz _topCutAngle
	addx -rm_CutEndPointDist
	roty rm_VerticalTrimmerAngle-90
	cutplane 0, 1, 1           !Top Cut
	roty 180-rm_JointAngle
	cutplane 0, 1, 1           !Other Top Cut
	_nCut = _nCut + 2
	del 9


! --- 3D Body ------------------------------------------------------------------

	rotz -90
	rotx rm_PitchAngle-90
	addz -rm_OverHang/cos(rm_PitchAngle)-1
	addy -rm_ProfileHeight/2

	base
		if rm_bSoffit then
			extrude NSP/3, 0, 0, rm_ProjectedLength/cos(rm_PitchAngle)+rm_OverHang/cos(rm_PitchAngle)+3, 1+2+4+16+32,
					use(NSP)
		else
			extrude NSP/3, 0, 0, rm_ProjectedLength/cos(rm_PitchAngle)+rm_OverHang/cos(rm_PitchAngle)+3, 1+2+4+16+32,
					get(NSP)
		endif

		vert 0,0,0
		vert 0,0,rm_ProjectedLength
		vert 0,rm_ProjectedLength,0
		vert 1,0,0

		coor 2, -1,-2,-3,-4
	body 1

	for i = 1 to _nCut
		cutend
	next i

	del 4


! --- Soffit ------------------------------------------------------------------
	if rm_bSoffit then
		Y	= 0
		X	= 0

		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			X	= cos(rm_PitchAngle)*tan(rm_PitchAngle)*rm_ProfileHeight
			Y	= sin(rm_PitchAngle)*tan(rm_PitchAngle)*rm_ProfileHeight
		endif

		if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
			X	= _profileHeightZ/2/tan(rm_PitchAngle)
			Y	= _profileHeightZ/2
		endif


		add -rm_OverHang+X, 0, -rm_OverHang*tan(rm_PitchAngle)+Y
		roty 90-rm_PitchAngle
		cutplane 0, 1, 1, 1         !Cut at rafter
		del 2
		cutplane 0, 1, 1


		add -rm_OverHang+X, 0, -rm_OverHang*tan(rm_PitchAngle)+Y
		rotz -90
		rotx 90-rm_SoffitAngle
		addy rm_ProfileHeight/2
		muly -1
		base
			extrude NSP/3, 0, 0, -rm_OverHang/cos(rm_SoffitAngle), 1+2+4+16+32,
					get(NSP)

			vert 0,0,0
			vert 0,0,rm_ProjectedLength
			vert 0,rm_ProjectedLength,0
			vert 1,0,0

			coor 2, -1,-2,-3,-4
		body 1

		del 5

		cutend
		cutend

	endif
endif

! ==============================================================================
for i = 1 to nProjectionCut
	cutend
next i

END



]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
pen gs_cont_pen
line_type gs_cont_line
fill gs_fill_type
hLineID = 2500

! ==============================================================================
! Roofmaker Macro
! ==============================================================================

call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										txt_BasePointX			= rm_ProjectedLength/2,
										txt_BasePointY			= 0,
										txt_BaseAngle			= 0,
				returned_parameters 	gs_cutplane_height,
										gs_top_range_height,
										gs_bottom_range_height,
										doCutplane


! ==============================================================================
! Listing
! ==============================================================================
if GLOB_CONTEXT = 6 then
	project2{2} 4, 270, 3+32+1024,
		gs_back_pen,0,0,0
	end
endif


! ==============================================================================
! 2D Hotspots
! ==============================================================================
! --- Centre ------------------------------------------------------------------
	hotspot2 rm_ProjectedLength/2, 0, 100

! --- Profile Width ------------------------------------------------------------
	if rm_bRafterVisible then
		unID = 1000
		hotspot2 -rm_OverHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang, -profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang,  1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1

		hotspot2 -rm_OverHang,  0,					unID, profileWidthHalf, 1+128,	rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang,  profileWidthHalf,	unID, profileWidthHalf, 2,		rm_ProfileWidth : unID=unID+1
		hotspot2 -rm_OverHang, -1,					unID, profileWidthHalf, 3,		rm_ProfileWidth : unID=unID+1
	endif

! --- Horizontal Length ------------------------------------------------------------
	unID = 3000
	hotspot2  0,					0, unID, rm_ProjectedLength, 1+256	: unID=unID+1
	hotspot2  rm_ProjectedLength,	0, unID, rm_ProjectedLength, 2		: unID=unID+1
	hotspot2 -1,					0, unID, rm_ProjectedLength, 3		: unID=unID+1

! --- Overhang ------------------------------------------------------------
	unID = 6000
	hotspot2  0,			0, unID, rm_OverHang, 1+128	: unID=unID+1
	hotspot2 -rm_OverHang,	0, unID, rm_OverHang, 2		: unID=unID+1
	hotspot2  1,			0, unID, rm_OverHang, 3		: unID=unID+1


! ==============================================================================
! Axis
! ==============================================================================
if not(rm_bRafterVisible) | AC_symb_display_option <> DISPLAY_OUTLINES then
	line_type rm_AxisLineType
	pen gs_axis_line_pen

	line2		-rm_OverHang, 0, rm_ProjectedLength, 0
	hotline2	-rm_OverHang, 0, 0, 0, hLineID : hLineID = hLineID + 1
	hotline2	 0, 0, rm_ProjectedLength, 0, hLineID : hLineID = hLineID + 1

	if not(rm_bRafterVisible) then end
else
	hLineID = hLineID + 2
endif


! ==============================================================================
! Floor Plan View
! ==============================================================================

if AC_symb_display_option = DISPLAY_SYMBOLIC then

	! ----- Symbolic 2D --------------------------------------------------------
	pen gs_fill_pen
	fill gs_fill_type
	line_type gs_cont_line
	project2{2} 3, 270, 3+32+1024, gs_back_pen,0,0,0

	pen gs_cont_pen
	project2{3} 3,270,3+32+1024, 8

else

	! ----- View Edges ---------------------------------------------------------
	pen gs_cont_pen
	line_type gs_cont_line

	if AC_symb_display_option = DISPLAY_OVERHEAD_ALL then
		pen AC_overhead_pen
		line_type AC_overhead_linetype
	endif

	project2{3} 3,270,2 + 32 * (AC_symb_display_option = DISPLAY_OVERHEAD_ALL | not(gs_use_3D_view_attributes)), 8,
		parameters	gs_2D_projection		= doCutplane,
					gs_2D_projection_type	= 1,
					gs_cutplane_height		= gs_cutplane_height,
					gs_top_range_height		= gs_top_range_height,
					gs_bottom_range_height	= gs_bottom_range_height


	if AC_symb_display_option <> DISPLAY_OVERHEAD_ALL then
		! ----- View Polygons --------------------------------------------------
		pen gs_fill_pen
		fill gs_fill_type

		project2{3} 3,270,3+32+1024+2048, 4,
						gs_back_pen,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 2,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif


	if AC_symb_display_option = DISPLAY_OVERHEAD_PROJ then

		! ----- Overhead View -----------------------------------------------------
		pen AC_overhead_pen
		line_type AC_overhead_linetype

		project2{3} 3,270,2+32, 2+8,
			parameters	gs_2D_projection		= doCutplane,
						gs_2D_projection_type	= 3,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif

	if doCutplane then

		! ----- Cut Lines ---------------------------------------------------------
		pen gs_cut_pen
		line_type AC_cut_linetype
		line_property 2

		project2{3} 3,270,2+16+32+256+4096, 2,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 4,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height


		! ----- Cut Polygons ------------------------------------------------------
		pen gs_cut_fill_pen
		fill gs_cut_fill_type

		project2{3} 3,270,3+32+512, 1,
						gs_cut_back_pen,
			parameters	gs_2D_projection		= 1,
						gs_2D_projection_type	= 5,
						gs_cutplane_height		= gs_cutplane_height,
						gs_top_range_height		= gs_top_range_height,
						gs_bottom_range_height	= gs_bottom_range_height
	endif
endif

]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
call "RoofMaker_macro" parameters	gs_iDisplayStandards	= gs_iDisplayStandards,
									gs_disable_property		= gs_disable_property,
									bdft_Length				= lumberSize,
									bdft_ProfileWidth		= rm_ProfileWidth,
									bdft_ProfileHeight		= rm_ProfileHeight,
									bdft_Quantity			= 1
]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[

! =================================================================================
! Rafter parameters set by the RoofMaker Add-on:
! "rm_ProjectedLength"			Horizontal Projection
! "rm_ProfileWidth"				Profile Width
! "rm_ProfileHeight"			Profile Height
! "rm_Height"					Relative Height of Rafter
! "rm_bRafterVisible"			Rafter Visible in 2D
! "rm_AxisLineType"				Axis Line Type
! "rm_OverHang"					Overhang
! "rm_PitchAngle"				Pitch Angle
! "rm_iProfileType"				Profile
! "rm_iRoofEdgeAngle"			Roof Edge Angle
! "rm_bSoffit"					Soffit
! "rm_SoffitAngle"				Angle of Soffit
! "rm_VerticalTrimmerAngle"		Angle to Joining Element
! "rm_CutEndPointDist"			Distance of Cut from Endpoint
! "rm_CutAxisDist"				Distance of Cut from Axis
! Parameters not by the RoofMaker Add-on:
! "rm_bIsTrimmerRotated"
! "rm_JointWidth"
! =================================================================================


! ==============================================================================
! Profile
! ==============================================================================

values "rm_RoofEdgeAngle" stEdgeType
values "rm_iRoofEdgeAngle" 1,2,3

if GLOB_MODPAR_NAME = "rm_RoofEdgeAngle" then
	rm_iRoofEdgeAngle = 1
	for i = 2 to vardim1(stEdgeType)
		if rm_RoofEdgeAngle = stEdgeType[i] then
			rm_iRoofEdgeAngle = i
			i = vardim1(stEdgeType)
		endif
	next i
	parameters rm_iRoofEdgeAngle = rm_iRoofEdgeAngle
else
	rm_iRoofEdgeAngle = max(min(rm_iRoofEdgeAngle,vardim1(stEdgeType)),1)
	parameters rm_RoofEdgeAngle = stEdgeType[rm_iRoofEdgeAngle]
endif


! ==============================================================================
! Geometry
! ==============================================================================
values "rm_PitchAngle"				range [0, 90)
values "rm_VerticalTrimmerAngle"	range (0, 180)
values "rm_JointAngle"				range (0, 180)
values "profileWidthHalf"			range (0, )
values "rm_ProjectedLength"			range (0, )
values "rm_ProfileHeight"			range (0,)
values "rm_Overhang"				range [0,)
values "overhang"					range [0,)
values "rm_SoffitAngle"				range [0,90)
values "structuralLength"			range (0,)

if rm_ProfileWidth < EPS then
	rm_ProfileWidth = 0.001
	parameters rm_ProfileWidth = rm_ProfileWidth
endif

if abs(rm_CutAxisDist)>rm_ProfileWidth/2 then
	if rm_CutAxisDist < 0 then
		rm_CutAxisDist = -rm_ProfileWidth/2
	else
		rm_CutAxisDist = rm_ProfileWidth/2
	endif
	parameters rm_CutAxisDist = rm_CutAxisDist
endif

if rm_JointWidth < 0 then
	rm_JointWidth = 0
	parameters rm_JointWidth = rm_JointWidth
endif

if GLOB_MODPAR_NAME = "profileWidthHalf" Then
	rm_ProfileWidth = profileWidthHalf*2
	parameters rm_ProfileWidth = rm_ProfileWidth
else
	profileWidthHalf = rm_ProfileWidth/2
	parameters profileWidthHalf = profileWidthHalf
endif

if GLOB_MODPAR_NAME="overHang" then
	rm_OverHang = overHang*cos(rm_PitchAngle)
	parameters rm_OverHang = rm_OverHang
else
	overHang = rm_OverHang/cos(rm_PitchAngle)
	parameters overHang = overHang
endif

if rm_StructuralLength < topStrutSize + overhangStrutSize then
	rm_StructuralLength = topStrutSize + overhangStrutSize
	parameters rm_StructuralLength = rm_StructuralLength
endif

if GLOB_MODPAR_NAME = "structuralLength" then
	rm_ProjectedLength	= structuralLength*cos(rm_PitchAngle)
	rm_Height			= structuralLength*sin(rm_PitchAngle)
	rm_StructuralLength	= structuralLength + topStrutSize + overhangStrutSize
	parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
else
	if GLOB_MODPAR_NAME = "rm_StructuralLength" then
		structuralLength	= rm_structuralLength - topStrutSize - overhangStrutSize
		rm_ProjectedLength	= structuralLength*cos(rm_PitchAngle)
		rm_Height			= structuralLength*sin(rm_PitchAngle)
		parameters rm_ProjectedLength = rm_ProjectedLength, rm_Height = rm_Height, structuralLength = structuralLength
	else
		if GLOB_MODPAR_NAME = "rm_Height" then
			structuralLength	= sqr(rm_ProjectedLength^2+rm_Height^2)
			rm_PitchAngle		= atn(rm_Height/rm_ProjectedLength)
			gosub "calcTopCut"
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength + topStrutSize + overhangStrutSize
			parameters structuralLength = structuralLength, rm_PitchAngle = rm_PitchAngle, rm_StructuralLength = rm_StructuralLength
		else
			! "rm_ProjectedLength" is the strongest parameter
			structuralLength	= rm_ProjectedLength/cos(rm_PitchAngle)
			rm_Height			= rm_ProjectedLength*tan(rm_PitchAngle)
			gosub "calcTopCut"
			gosub "calcOverhangStrutSize"
			rm_StructuralLength	= structuralLength + topStrutSize + overhangStrutSize
			parameters structuralLength = structuralLength, rm_Height = rm_Height, rm_StructuralLength = rm_StructuralLength
		endif
	endif
endif

if not(rm_bSoffit) then lock "bAddToLumberSize", "rm_SoffitAngle"


! ==============================================================================
! Lumber Size
! ==============================================================================
gosub "calcTopCut"
gosub "calcOverhangStrutSize"
gosub "calcSoffitSize"
lumberSize = structuralLength + topStrutSize + overhangStrutSize + soffitSize * bAddToLumberSize
parameters lumberSize = lumberSize

! ==============================================================================
call "RoofMaker_macro"	parameters all	bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards


! ==============================================================================
! Bounding Box
! ==============================================================================
_underHeight = 0
if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
	_underHeight = sin(rm_PitchAngle) * overhangStrutSize - cos(rm_PitchAngle) * rm_ProfileHeight/2
else
	_underHeight = sin(rm_PitchAngle) * overhangStrutSize
endif

_underSoffit = 0
if rm_bSoffit then
	_underSoffit = sin(rm_SoffitAngle) * soffitSize
	if _underSoffit < 0 then
		_underSoffit = 0
	endif
endif

parameters A		= rm_ProjectedLength + rm_OverHang - rm_CutEndPointDist														: lock "A"
parameters B		= rm_ProfileWidth																							: lock "B"
parameters ZZYZX	= rm_Height + _profileHeightZ - rm_CutEndPointDist * tan(rm_PitchAngle)	+ _underHeight + _underSoffit		: lock "ZZYZX"


! ==============================================================================
! Levels
! ==============================================================================
parameters ac_toplevel		= rm_Height + _profileHeightZ - rm_CutEndPointDist * tan(rm_PitchAngle)
parameters ac_bottomlevel	= -_underHeight - _underSoffit
]]>
</Script_VL>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<StatBits>
			<STBit_UIDefault/>
			<STBit_FixSize/>
			<STBit_UIUseHierarchicalPages/>
		</StatBits>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA["Горизонтальная Проекция"]]></Description>
			<Fix/>
			<Value>2.5</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="ZZYZX">
			<Description><![CDATA["Общая Высота"]]></Description>
			<Fix/>
			<Value>1.84818081263</Value>
		</Length>
		<Boolean Name="AC_show2DHotspotsIn3D">
			<Description><![CDATA["Показ Узловых 2D Точек в 3D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="ac_bottomlevel">
			<Description><![CDATA["Отметка Низа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>-0.252441802004</Value>
		</Length>
		<Length Name="ac_toplevel">
			<Description><![CDATA["Отметка Верха"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1.59573901062</Value>
		</Length>
		<Length Name="rm_ProfileWidth">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Fix/>
			<Value>0.08</Value>
		</Length>
		<Length Name="rm_ProfileHeight">
			<Description><![CDATA["Высота Профиля"]]></Description>
			<Fix/>
			<Value>0.16</Value>
		</Length>
		<Length Name="profileWidthHalf">
			<Description><![CDATA["Ширина Профиля"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.04</Value>
		</Length>
		<Length Name="rm_StructuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Fix/>
			<Value>3.10795307496</Value>
		</Length>
		<Length Name="structuralLength">
			<Description><![CDATA["Длина Элемента"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2.44154917752</Value>
		</Length>
		<Length Name="rm_ProjectedLength">
			<Description><![CDATA["Конструктивная Длина Пролета"]]></Description>
			<Fix/>
			<Value>2</Value>
		</Length>
		<Length Name="rm_Height">
			<Description><![CDATA["Относительная Высота Стропил"]]></Description>
			<Fix/>
			<Value>1.40041507642</Value>
		</Length>
		<Angle Name="rm_PitchAngle">
			<Description><![CDATA["Угол Наклона"]]></Description>
			<Fix/>
			<Value>35</Value>
		</Angle>
		<Length Name="rm_OverHang">
			<Description><![CDATA["Свес"]]></Description>
			<Fix/>
			<Value>0.5</Value>
		</Length>
		<Length Name="overHang">
			<Description><![CDATA["Свес"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0.610387294381</Value>
		</Length>
		<String Name="rm_RoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Value><![CDATA["Прямоугольный Срез"]]></Value>
		</String>
		<Integer Name="rm_iRoofEdgeAngle">
			<Description><![CDATA["Угол Торца Крыши"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Angle Name="rm_VerticalTrimmerAngle">
			<Description><![CDATA["Угол Соединения с Элементом"]]></Description>
			<Fix/>
			<Value>45</Value>
		</Angle>
		<Angle Name="rm_JointAngle">
			<Description><![CDATA["Угол между Соединяющими Элементами"]]></Description>
			<Fix/>
			<Value>90</Value>
		</Angle>
		<Length Name="rm_CutAxisDist">
			<Description><![CDATA["Расстояние от Среза до Оси"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Length Name="rm_CutEndPointDist">
			<Description><![CDATA["Расстояние от Среза до Окончания"]]></Description>
			<Value>0</Value>
		</Length>
		<Boolean Name="rm_bSoffit">
			<Description><![CDATA["Софит"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="bAddToLumberSize">
			<Description><![CDATA["Учесть Софит в Размере Пиломатериала"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Angle Name="rm_SoffitAngle">
			<Description><![CDATA["Угол Софита"]]></Description>
			<Fix/>
			<Value>0</Value>
		</Angle>
		<Length Name="rm_JointWidth">
			<Description><![CDATA["Толщина Соединительного Элемента"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Length>
		<Boolean Name="rm_bIsTrimmerRotated">
			<Description><![CDATA["Конек или Распорка Повернуты"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>

		<!-- gs_2D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_2D_representation">
			<Description><![CDATA["2D-отображение"]]></Description>
			<Fix/>
		</Title>
		<LineType Name="rm_AxisLineType">
			<Description><![CDATA["Тип Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</LineType>
		<PenColor Name="gs_axis_line_pen">
			<Description><![CDATA["Перо Линии Оси"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<Boolean Name="rm_bRafterVisible">
			<Description><![CDATA["Отображение Стропила в 2D"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</Boolean>
		<Integer Name="AC_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<Integer Name="AC_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="gs_symb_display_option">
			<Description><![CDATA["Показ на Плане Этажа"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Символический Вид"]]></Value>
		</String>
		<Boolean Name="gs_use_3D_view_attributes">
			<Description><![CDATA["Использовать Реквизиты 3D-вида"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="gs_symb_show_projection_to">
			<Description><![CDATA["Показать Проекцию"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Весь Элемент"]]></Value>
		</String>
		<LineType Name="gs_cont_line">
			<Description><![CDATA["Тип Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cont_pen">
			<Description><![CDATA["Перо Линии Видимого Контура"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>
		<FillPattern Name="gs_fill_type">
			<Description><![CDATA["Тип Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_fill_pen">
			<Description><![CDATA["Перо Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_back_pen">
			<Description><![CDATA["Перо Фона Штриховки"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</PenColor>
		<LineType Name="AC_cut_linetype">
			<Description><![CDATA["Линии Сечений"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</LineType>
		<PenColor Name="gs_cut_pen">
			<Description><![CDATA["Перо Линии Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>24</Value>
		</PenColor>
		<FillPattern Name="gs_cut_fill_type">
			<Description><![CDATA["Тип Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>65</Value>
		</FillPattern>
		<PenColor Name="gs_cut_fill_pen">
			<Description><![CDATA["Перо Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<PenColor Name="gs_cut_back_pen">
			<Description><![CDATA["Перо Фона Штриховки Сечения"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</PenColor>
		<LineType Name="AC_overhead_linetype">
			<Description><![CDATA["Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>21</Value>
		</LineType>
		<PenColor Name="AC_overhead_pen">
			<Description><![CDATA["Перо Линии Проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>6</Value>
		</PenColor>
		<Boolean Name="gs_2D_projection">
			<Description><![CDATA["2D-символ"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_2D_projection_type">
			<Description><![CDATA["Тип 2D-проекции"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Integer>
		<Length Name="gs_cutplane_height">
			<Description><![CDATA["Высота Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_top_range_height">
			<Description><![CDATA["Высота Верхней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="gs_bottom_range_height">
			<Description><![CDATA["Высота Нижней Плоскости Сечения"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Length>

		<!-- gs_3D_representation: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_3D_representation">
			<Description><![CDATA["3D-отображение"]]></Description>
			<Fix/>
		</Title>
		<PenColor Name="pen3D">
			<Description><![CDATA["Перо в 3D"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>2</Value>
		</PenColor>

		<!-- gs_material: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_material">
			<Description><![CDATA["Покрытия"]]></Description>
			<Fix/>
		</Title>
		<Material Name="rm_mat">
			<Description><![CDATA["Стропило"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>15</Value>
		</Material>

		<!-- txt_show: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Boolean Name="txt_show">
			<Description><![CDATA["Показать Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_BoldName/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<String Name="displaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Размер Обрезки Пиломатериала"]]></Value>
		</String>
		<Integer Name="iDisplaySize">
			<Description><![CDATA["Размер для Показа"]]></Description>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<PenColor Name="txt_pen">
			<Description><![CDATA["Перо Текста"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>1</Value>
		</PenColor>
		<String Name="txt">
			<Description><![CDATA["Текст"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="fontType">
			<Description><![CDATA["Тип Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Arial"]]></Value>
		</String>
		<RealNum Name="fsz">
			<Description><![CDATA["Размер Шрифта"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>10</Value>
		</RealNum>
		<Boolean Name="gs_text_style_bold">
			<Description><![CDATA["Жирный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_italic">
			<Description><![CDATA["Курсивный Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Boolean Name="gs_text_style_underline">
			<Description><![CDATA["Подчеркнутый Шрифт"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Length Name="txt_pos_x">
			<Description><![CDATA["Позиция Текста по X"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="txt_pos_y">
			<Description><![CDATA["Позиция Текста по Y"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<String Name="typeTextRotation">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Читаемый"]]></Value>
		</String>
		<Integer Name="typeTextRotation_m">
			<Description><![CDATA["Ориентация Текста в Символе"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>2</Value>
		</Integer>
		<Angle Name="gs_readable_angle">
			<Description><![CDATA["Читаемый Угол"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>90</Value>
		</Angle>

		<!-- gs_list: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="gs_list">
			<Description><![CDATA["Параметры Спецификаций"]]></Description>
			<Fix/>
		</Title>
		<Length Name="lumberSize">
			<Description><![CDATA["Размер Обрезки Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.10795307496</Value>
		</Length>
		<String Name="roundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["50"]]></Value>
		</String>
		<Integer Name="iRoundingValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>3</Value>
		</Integer>
		<String Name="roundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA['2"']]></Value>
		</String>
		<Integer Name="iRoundingValueUSA">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>5</Value>
		</Integer>
		<Length Name="roundValue">
			<Description><![CDATA["Величина Округления"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</Length>
		<Length Name="roundedLumberSize">
			<Description><![CDATA["Округленный Размер Пиломатериала"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>3.10795307496</Value>
		</Length>
		<RealNum Name="numBDFT">
			<Description><![CDATA["Объем в BDFT"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="gs_list_cost">
			<Description><![CDATA["Цена"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="gs_list_manufacturer">
			<Description><![CDATA["Производитель"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_note">
			<Description><![CDATA["Примечания"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_location">
			<Description><![CDATA["Расположение"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_accessories">
			<Description><![CDATA["Аксессуары"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_Type">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["Другой"]]></Value>
		</String>
		<Integer Name="iFMType">
			<Description><![CDATA["Тип Группы"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
				<ParFlg_Hidden/>
			</Flags>
			<Value>25</Value>
		</Integer>
		<String Name="FM_InventoryNumber">
			<Description><![CDATA["Инвентарный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_SerialNumber">
			<Description><![CDATA["Серийный Номер"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="FM_ProductionYear">
			<Description><![CDATA["Год Производства"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="FM_ObjectWeight">
			<Description><![CDATA["Вес Изделия"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>0</Value>
		</RealNum>
		<String Name="FM_ObjectWeightUnit">
			<Description><![CDATA["Единица Веса"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA["кг"]]></Value>
		</String>
		<String Name="gs_list_custom1">
			<Description><![CDATA["Пользовательское Значение 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom2">
			<Description><![CDATA["Пользовательское Значение 2"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom3">
			<Description><![CDATA["Пользовательское Значение 3"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom4">
			<Description><![CDATA["Пользовательское Значение 4"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="gs_list_custom5">
			<Description><![CDATA["Пользовательское Значение 5"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value><![CDATA[""]]></Value>
		</String>
		<Boolean Name="gs_disable_property">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>0</Value>
		</Boolean>
		<Integer Name="gs_ui_current_page">
			<Description><![CDATA[""]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Integer Name="gs_iDisplayStandards">
			<Description><![CDATA["Стандартное Отображение"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
	</Parameters>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="3705" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000800000
	008008020000004C5CF69C00000E364944415478DAED5D697354D711CDAF4955
	2A5FEC54F221C1CE2F48E58BED0ADA35DB9B19618C316007706227B693F212EF
	8E635C0ECCBEB24866B58C0199CDA099B7CD68471BDA7709ED424C4EF79DF20F
	7803B852D55DB75E3D497CEAD3EF74DFD37D2F3F2B89FDA42600080002809800
	2000880900028098002000880900028098002000880900028098002000880900
	0280980020008809000280D843B5A1AE1F56971705809FC0EE8DB49FF824B0AF
	FAD7B3536302C063B58DC5D1C1B64FDEDFF37BF71F7EFE52DD8E85D92901E031
	D9FD8DE50923D3950DDCFC6FD581FADF363DFBE48186A717E6260580C7617377
	DABA5B5E36C2D5C5942F17D30EB99F6A7AE60900205FC023B795A99E81EFDE31
	A37566CC6527B5CEE34DB988FB50237F018D02C0A3B4ADD5B9B1DB612BEED2C3
	D556DC5B48070A29AD33ADE522AE8304C0AFF6373C25003C127BB07D7FA6FB42
	E7C93D46A4C68CB9AD8407AE2F6608808E8CBF3DEA3DE8DA117CE6C9FDF5C801
	02C0C3B6A551A3EFC2DF40F766ACB190F217D3FE42CA5748FBED8CDF4EFB3B32
	C1DB21F7C1C61D4D04807C010FD5D697C6EEDEF8C28A371AD17A1B7E4F62F938
	F6FD854CC04E0189604776577BC473C8B5A3E9D927F6A30C9D912AE861D8F6D6
	DA54A1B9F3C46E3D5A67A5343B13B4531A021F358F8D45EFC1020110E848FBDB
	23EEC3AEDF697FFCC59E9DBF599C9B16002AB585A19B3D675F35625CE7A4FC14
	FB690DB16FC5DD36C048FAAD54A0906E4212C69F3A8F07F351CF8BCFFD725FDD
	D33F5C6ED9DEDE16009CDBEA6CFFC0950FCC5803E8DE4E078964B241B04D2113
	84BBAD8466263533EE43F5092408958CBF9874DDF8F2B9A3EFED191F191031CE
	B9DD5F5F1CD79348AD660C741F20BF679B686510E660FC262B1D80F78101BC8F
	34C0C9C04B1BB1137BA77B2E891A5A813D7830DB7BB1AB65BF11AD83EB8BC777
	21DE8BC7D9F52972373E052B15B4F11160819192DE42D26B866BF03E6E64B7D6
	96448E766ECB131D775ADF24D7A3B2CCEE2A10DD538E05F958099F9522BA47EC
	AB6F024F789FF6C0D1FAC1B64F57E786A41FE0DC36EE4D8DDE3A6A273DF06621
	4D2CCF21EFB593583E0B6C9382DF9B8001E3A1E19BB0136E235CD37DF62F0BC3
	EDD290716EDBF737A73BCF759E7CC188D49A491F714B16CC430C6325E07DCD02
	1299267C042621E153D818D15A7C2293C5D3DBF737A423E6DC16EFB6F79EFB2B
	BC6926BC08734AB0A0FB2C589E7C4DF14EF996D8063FE209D75B89467C28C3D7
	BF5CBF37292D49E7B63E7F77E8FB4FAD683D4A4CE562303E33BBDF26AED7C8FB
	EAF7E09C047351CA6BC6EBFB5ADF5A1AB3A527ECDCB6375727AD1370B71EAE51
	714DCF948F0B7CBC6B2AD9DAA980C9EC6FE3997019E1AACEE67D33DD171F3CD8
	96A6BC739BEFBFDADD7280A4340A6ABF9DD028B4F19E222410F2F81ACCB48241
	A36C9C0D600F8CAC3BD61EDF5A5D90A908E7B63ADDDB7FF16D949846A40EDE67
	E9462B7091A3128089C0670C2813A8DD168AA27843FFE5F75766EEC8588A73DB
	5C9D1BBD1D8637F5482D393AEE81D30BC4F5E51ADF4C68582A09AB1A1FA20232
	73D7D77F9E1FB821734195744EB6667B5A3B4FEED543D526B4B3248576118B15
	0594989C00FC669C2BFDF267E1439BC5A66DED89FB1B2B3298E5DCEE8D597DAD
	6FA0BA87EB49B0445E4DF8C0F870B4DA4C510EA0648BA7CAB41E6CAC8C58C3D0
	F5FFAC2F8EC9649C73DB581ABF7BE3880D87461B2C66152B41FEC56F94EBD9EF
	A4E913DD2BEFC71AE1FD9E73AF2F8EE8329A585989596829667721F08DB85755
	99C4F8EC7733E133E3783200A4EA683631920629AD987D61AAE32C284B66439D
	DBC2F0AD9E3387694601B54D86F7501090F1428C1F40754F00A864AB34E48CDF
	0441451BEEDE3CBAB9322BC3B9CE6D6D6E70B0ED43EA9C24DDCAE94AC157FCAE
	E40423A971A6E53D17BE8C7823BCDFD7FACFA5F1A24C473BB7ADB5C5B15C0CB5
	8D116FB059A6574A3DFCAEC41C931657F7EA97710F26798C505557F3CBB3BD57
	643CBDA21A73BEBFADAB793F4A4C6A9423DED37E908FF27B996D52C43C369652
	98531A139436964B629453CE0738B7E5C9CE3BADFF40BFD088B9E05C45F416AB
	661656CA4F8A029E84815FA96C26C64922F5FD6D1FAFCE0FCB010DE7B6B93CCD
	9D13AF0121937D6D67594066BD9E6B1BAC26C4BE99604939ED87B6AC476ABA4E
	1F42E7444EC8544039D43939DB717C37544CF81A01CE630A44EE601580612629
	DF12DD27FDBCDBF293A210AB2B1CDF3D619DDCDE5C93234ACE6D6944EF3DF75A
	3EB413DB5A522BCBE50D053E8F8720FC11F81CF56ABB8B4F24566F25DCC3378E
	A0DD2867C42A3A7332D4F609DA267A84380724C32E661D2D4D006001009274CA
	7D738DE83E5CDDF7CD9B8B63961CD2AB645BBB3261A48B99603E5465C43D4A51
	A0344BB21A65570A79227DA22085844D933C751DA7F64D777F8B19663925E9DC
	1606AE757FFD0A5CAF471AE07D962A35100B290AC4F83E23CE6900DEE73911D0
	113807FF60B43DBAB9B620C7549DDB0A3A27DFBD8B821D9CC3A28D66F3FC3773
	8B87A826C6DE4FA8B62D2D33E182D6DF7FE95F2BD377E49C7025674EE6476F87
	10C57AA896895E83805C50C482F0E73158A27B96EFCD84C7623A02542831E7FA
	AFCA41ED8ACE9CCCF67ED779EAA53C14792A31033C7609C6F7E009D753654933
	B04CF749AA73F0A7FCB12A4032661E47E7444ECA3BB77BE3362A161290A38DB4
	7DC5A20DAD8716CF2590989364D70303EEE51AE15A235C37F8FD676B0B237255
	4125038193C3D73E47134A8F36A8D40A4541E968589469139A11F59A5C622A51
	810EC585AA7ACEBDB6785797BB222A3973B23E85CE09B6B5913A5550DA192C9E
	8BC23B2B39C8B406FC4EE453DE5EE9C776DA995D13760B76C572594725674E6E
	E1CC09CF45B178A0A434DADF06887C5840C6E26F42B512BD46A8064AF2D0B523
	1BCB33725B8A735B9B1F1ABCF201A2DE88BB48B421A797456323E6364138609B
	74B03C05CEC9400FD702AADE0B6F2D4FF5C87535959C3959E2CE49201FAE65C1
	52F54C483D46750FAA3149510812DD97A762835072B0112B9EDA3FDB7745EE0B
	AAC8E6FA2E75B51CD0A951EE818B413824D013B3030072B72AF00906FA919201
	CE23828246F5D4D6FA925CD854C9550ADD18088437F5980B630A2AB46D1EBE34
	C8D74C3834048894CB7A32299A6EEC81FBBE7D17674EE4C62CE7863983919B5F
	593117BC59AEEED34C2C9C5D29D879674B8B87A2B87FE235D0393973787EE8B6
	5C5956D14020CE9C749C783177AC0AA9955DCCA53D2670584AE345AE2F730E78
	098A020602B3BBC6AD53F73757E5CEB84A3A27F9BEF3AF938A89AA26EEA3AE6C
	DC8B6527CBEAB191C4F29B3F720E544CD07DDC3574FDC8FAD2845CDAE7DCD617
	4786AFFD1BDE449D83C0E7BE20A7591C25645F1B703A730EB38D9F757C0F02BF
	E7C21B4BE305B935B1A281C009338BBA3E17AA81EB8D18CBF7347EEC630159D3
	E33E3DE685AEA02A1C35C1908FD414A973D28A3327726DA5739B1FB8D6D5F232
	714ED465F2C9F1B298434F0DBFD1A35E23AE2951410DC9528999F0DCBD15DE5C
	99937B439DDBEACC9D81CBEFA3BAD7238D601845F76AF81B650F4F6196150576
	3D6FB822F5109CFB2EBEBD3CDD2B17B7563210B830968B8261F21015922CDD80
	EB7999B458C12700FC54F0704311F568FEE8CE8EE657E606AECBCDB995185DA5
	D0716A2F5C0FCE296FA688EBBD607FD5AA35D8F5087FFC9E0FA278692030A18D
	1BE89C2CCBD5C5CE6D79BC88CE093884B6B51CDDACEA940743E07D1DDDDA1875
	6BF1AED2007434144503573E46E744EE8EAEE4CCC904CE9C9048106DE04910B5
	823F8E1F1B29BF4EE1CFFC43CBCB9D93EA8EE683F3C3B9124C2EEF763A10B831
	693717B2CF239055F10ED7631C93D32CD8C68B4F018B50C162C6C702DD1732CF
	4F16CF6D6FD1550A0280435B1CA6CE093807BE26C98C9CEEC502CBEB14EC282E
	FD06F34F596F80EB434450C337BEA2814031C700ACCD0D0CB67DA447EBF311E6
	1C661B15DD0C808FA33E6830DDAB4B46D0630154BDAD6FDF9BEC2A893906802F
	A14E4316A6640B7733E3934A4C4D2BD5390998E9260080BF8282181B2D1FAA2E
	9CDC3BD37BB924E61C00BE84BAB379BF72BDCAA88AF4F12338075443AE2FEBC9
	5E3EFAE3D7A3B5F86723EDF1CD95F9929863005626BBFA2FBE8340C6B656D13A
	49C71912CEF06E28BAC70B37CA15171974856943FF958F5666FA4B624E01E033
	27B743108421A5992AB5D2D36BB1A200CED189E80903E61C1ED7893542FCE93C
	73786EF08792985300F812EAAEF33873923BBA538F21BBD2D8258B3634A0C05D
	7296EF01030FC3F2CECB0F01998773BEA63327628E01B8376AF49E7B3D17AACA
	87EBF5A85B0DC3AA2247290A7A5CD3B9C0573D2CBC807080CDE0D5CFD716464B
	628E01585F1819BAFA190EB9E5C275108A59BE27D980EB4BA2203D46F23D447C
	763DF572A11E6323D67DFEEF8BA35649CC3100EAB62E0CDDE78F55EBD439F15A
	249CD152D9152C4481CF03F80086F3AD1B5F899DD93D593C8F4B4D4B628E01C0
	B6B6FBF4C15CA83A8F729EB4B3B26C4048907A83DFA805243813C4DC941BE29E
	E15BA18DE5D992986300906CA78AA7715517E81EAEA7C5EA3133BEC602B29F01
	60C2E12A530FD7612610C339CBD37D25B10A01C0542507BE9B9BE31CE0FCC4DE
	4A8F62F99498AC92AD05BA0FE112EA7DB37DDF97C42A07405D0E7BE7D287B970
	AD3AC0AF966A946329CE51A8C0F560A4513DB3B5BE5C127B883900DAA49DC57F
	00D1A874343DE1CF27347A8F63B941F720280C2DF75FFE980602C51E45129EE9
	6BCB856A75549965055F356CBD3A1AE5C770CEEDD505744EC41E6919DAF7ED7B
	EDC76A749509687FEB693FBAD342E7A470866EEB127BD40060076B26F92804D4
	E6486D2E523F84CE09CE9C883DB69DF054D737ED47FF940B6320F02DBAAD4BEC
	310380DDECE0D52FD0AD2D89C9315501404C001000C4040001404C001000C404
	0001404C001000C4040001404C001000C4040001404C001000C4040001404C00
	F87FB5FF01A5FA2F06B95ABE090000000049454E44AE426082
	]]>
</Picture>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="1" length_in_bytes="153" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000180000
	00110103000000FDB6FE7300000006504C5445FF000000000041A31203000000
	0174524E530040E6D8660000003749444154785E2DC6A11180300C00C08F0187
	40A160958C9251322A2354D681A9F8BB074E1CCB5D44B3E36AAA45A74D7ABE89
	C44B8C753FD1C6081B8AE6B0CD0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="2" length_in_bytes="342" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000840000
	001902030000008DD26EA90000000C504C5445FF0000FFFFFF000000F0F0F0E2
	07661F0000000174524E530040E6D866000000EE49444154785EB591314E0341
	0C45BF5C45CE25222A4233A7314254947B0C5F6229A8A68984A6C911F62A888A
	23208A5984F51D0D41200A70B7D67F4FDFB3F8F3F1DF0007B39B1F1D329B4DE7
	943E8E1F6656CFB96377FF40EF00C7DEECDA01EC0070898B757DF64059E3164C
	E472DB97B744C33565227DD2979744431CAEABC18765AD44C311184A1DCE2A9D
	35C241ACBC0E676D59838EC4A05C029235C241AC1C5D7309648D7004C6047D90
	1A35E82056D627CD25741317D0310D09FAB0111C8CA8CC74B5D6B435E4F89E17
	B8DC13DB01DA865FAA7C8D2A0FC8C4E7093412C4BE4E0313F5BBC425D8C3F11F
	F30E99DD6C7DD416DF150000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="11" length_in_bytes="273" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000360000
	005002030000002F866E0900000009504C5445FF0000FFFFFF0000003A898F3A
	0000000174524E530040E6D866000000AC49444154785EEDD3318AC330148461
	93938454D903FD0FC9951A15DA53F812CF9076C10BF629C3C342B23118842155
	A6FB184652A3CE72EB6ADA79211F38EA3A5B2E7A0EBB720C5BFEE0B6A522BB12
	865D49D89682ABA5514A198D65ACB3B18CC705A08C359AFAFF87E5BED233E5B1
	7A90D4C750C9324597294002C944C123F3DF7A14110152C8AD37F272996273F1
	9990041285A2F45AC9EF32516939A11CDBF6ED7572C6EF9BDB79FC656FFE90BD
	F04BDBB6790000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="12" length_in_bytes="220" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000270000
	004D020300000058A2959A00000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D8660000007749444154785EED92B10D80300C046D
	097A2ACF9311683204998621D2F8A784087D0005444143C157A7D34971112953
	912042ACA33D6FE8AA1D7B92C6D858B6CD2E5FD31BABBBB599A829B330386D02
	0225B0C53A01C855C259020894252ED2B1C506A2266291C474465CE3DBF619F1
	811BFCBFE1F0691711326219F99F1AE80000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="13" length_in_bytes="274" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000310000
	004F02030000003FDAC53E00000009504C5445FF0000FFFFFF0000003A898F3A
	0000000174524E530040E6D866000000AD49444154785EED8E410A02310C4587
	AE5A4F518482CC7DBE3708788C2EBDC05CC1C59C52FD09265D481171E7EB22FD
	7DFD90C5A81CEFD2949CAF44D36ABDCEB173E4C7D169D8AB5D737055A53D554A
	77FEBD33E5E028C3EF7073D7DD0DBD5DB5B18EBD23392D915B5F7CD32497A08A
	9CBBBB260872031ED25C02E0B2004F69AE21CA0D424997A074AB29EA9A27D620
	2F97E089B5E0DAE0B6980E2096CA2C89A7CF7A5FA7DFEDF9DF734EE5B803B45E
	BDC2F5399E6E0000000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="14" length_in_bytes="708" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000DE0000
	009302030000009CCF4F960000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D8660000025C49444154785EEDD7318ADB50
	1485E1239050ABC09829B39567D090F6155693264BC96AD2783529929DCC7463
	268E93CC8F6D7CE61D07420ADFC2952F9FCCCFC5484DD349D2E7973FF338AFD5
	3677928697D7F9AAA1B48945D2FB5770376B559BC04152C7933E4A5D1B38491A
	79D2DA372E7645D2279E54AD622FA903FCA656B14ABA67B12046119F84184644
	8C2216C43022621651885944C43022621611318C88184644CC2222861111C388
	885944C43022621611318C881846440C2322861111C388886144C43022621811
	318C881846440C2322861111C388886144C43022621811318C881846440C2322
	861111C388886144C43022621811B129E262441BB11AD1469C8D6823CE46B411
	7B23DA88BD116DC4CE883662674473895EF497588C682FB118D15CA2115D442F
	FA4BD4644477892C22BA88CB7E5A44229A454413F1E376FBA54124A259447411
	117B2712D12C229A888148C44024629BE82ED18AEE12ADE82E11712967A2BB44
	C4D599B8AA97223E572DFBB9D47128E711B98DC3CCFB7978773617237EDFFE9E
	02846822AEDDA28BD859D144B48B2EA2174D44C4F03DD18BE63F11317B4F6C15
	A7E388A555ECCA7144B58AFD4944358A7D3D89D8289E476C127F5E4D3989F8B6
	C8B0B8D35B2273108978A558027112E29342918881D823EE4A2A123110553412
	31148998889346225E259650EC351231148998882A231143918891388D44CCC5
	9D72B11F89988B2517A50F440C452266E23D11337158360A452613D1FF5FF126
	AE8675DD1C3E52517F3DFF5CBC8937F1269663609A8C384B08278B77D520F5B0
	FD6B1E966036F35CAE13F3DFC8777F001721938CB65C03E60000000049454E44
	AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="15" length_in_bytes="779" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000DE0000
	009302030000009CCF4F960000000C504C5445FF0000000000D7D7D7FFFFFF8C
	236E1F0000000174524E530040E6D866000002A349444154785EBDD7318EDA50
	1485E163E959B46F24D094D9CA45F228AD0BDCA499A5B09A34AC26454629B389
	A03441CE646038031647F73812B7C00D579FD1CFC302A96900603BBECFAF6E8D
	DC2C01B4E379BEA18D9C18003E9DC14387559F025B00CD873B059A1C58012C78
	A77D492E3601E099778AAC58003404BF232BF6001EB91814AD887B50342352B4
	2206453322452F22287A11299A11297A11299A11299A11297A11299A11299A11
	297A11299A11297A11299A11299A11299A11299A11299A11299A11299A11299A
	11299A11299A11299A11299A11299A11299A11299A11299A11299A11299A1129
	9A11299A11299A11299A11299A11299A1129A6220E4294117B21CA889D1065C4
	4E88326211A28C58842823364294111B218A93A8457D124388F224C60D514614
	A28EA8457D125185284F629D8A2AE2F03A199111C5224511F1CB6EF7352132A2
	58A4A822522C4A6444B1485144344446344446CC89EA244A519D4429AA934871
	8889A84E22C5D5445CF5B722FEE9C1EFEAB4631BB7228EC369BAD7797A98CCCD
	882FBBD304218A22E25A2DAA888D144544B9A8226A514414A27E266A513C1385
	289F8959B15E468CACD8C4654464C572151149B1F4571193E234624AFC776AE2
	2A6256C4B13E2322DBF1427C19DEC6178F59F629B182E2FE74B1C59FA321168A
	87ED4CF1F7E88888B3F83CCE130FA327D677F1C73853DC9A62C182114D91111D
	11B160445364444BAC0B46344546B4C4B260445FDCFA22F099114D91113DF191
	113DB11DAE2629F2DF45059CDF55EA9BC42287BBCD3057ACBE88F8AFCF189EC8
	E5B8A708FE91C6AA5DF79BB797A4D8F06A4C61164E52A46C4DA0CE15639E581E
	30535C222D76C789E365982B82A237E5EE22E2EE62B9BB78C78E7109D42AC4EE
	A370B5B8EC05D283DFD5A7C1984DD7C53CD1FF8C7CEF5F186166E9B9B4135100
	00000049454E44AE426082
	]]>
</GDLPict>

<GDLPict MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="16" length_in_bytes="352" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D49484452000000670000
	002D0203000000CEEC9D6000000009504C5445FF0000000000FFFFFFCA92C399
	0000000174524E530040E6D866000000FB49444154785E75D1318E8330108561
	8F646F9D8250EC69BC920F40E1A4E006F179921B9062E7947130F03433D84234
	9F2CBD1FDCF9C9AE77FCD4A598BAE4A807BE4FB13EE712EA88CB395DBB44F75A
	E51584B8BECBCB4EA4956EFCB6E4D3D767FEB713DBE7A96476502B1D990D0DDB
	76E6A79E185B4E60D613C3DE55D4C476C363625251191307D07A61C1C42CA3C6
	0513D57F2D95B68924A3022FC7C48B8872BF95B6897F328A4AA3365144FDF046
	23BF271935EF74E5978AE29DC223938C3A886E514531A82D46D4416ED2512013
	05AA295944895B83880291A324A256C22544094A514631288828491151201365
	08519A10650951961065E90345FC8CAA6C1AA49B0000000049454E44AE426082
	]]>
</GDLPict>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
EPS = 0.00001

bEnableRafter		= 1
bEnableSymbol		= 0
bEnableResolution	= 0


! ==============================================================================
! Definitions
! ==============================================================================
!gs_iDisplayStandards
	LANGUAGE_INT		= 1
	LANGUAGE_GER		= 2
	LANGUAGE_CHE		= 3
	LANGUAGE_AUT		= 4
	LANGUAGE_USA		= 5

!AC_symb_display_option
	DISPLAY_PROJECTED			= 1
	DISPLAY_OVERHEAD_PROJ		= 2
	DISPLAY_SYMBOLIC			= 3
	DISPLAY_OUTLINES			= 4
	DISPLAY_OVERHEAD_ALL		= 5

!AC_symb_show_projection_to
	PROJECTION_FLOOR_PLAN_RANGE	= 1
	PROJECTION_DISPLAY_LIMIT	= 2
	PROJECTION_ENTIRE_ELEMENT	= 3

dim stEdgeType[3]
	stEdgeType[1]	= `Перпендикулярно`
	stEdgeType[2]	= `Вертикально`
	stEdgeType[3]	= `Прямоугольный Срез`

! rm_iRoofEdgeAngle
	EDGE_PERDENDICULAR		= 1
	EDGE_VERTICAL			= 2
	EDGE_RECTANGULAR		= 3


! ==============================================================================
! 2D Display Options
! ==============================================================================

dim stDisplayOptions[5]
	stDisplayOptions[1]		= `Сечение и Низ`
	stDisplayOptions[2]		= `Сечение и Верх`
	stDisplayOptions[3]		= `Символический Вид`
	stDisplayOptions[4]		= `Только Контуры`
	stDisplayOptions[5]		= `Вся Проекция`

dim stProjectionTypes[3]
	stProjectionTypes[1]	= `Согласно Диапазону Плана Этажа`
	stProjectionTypes[2]	= `Согласно Абсолютному Диапазону`
	stProjectionTypes[3]	= `Весь Элемент`

if GLOB_MODPAR_NAME = "gs_symb_display_option" | AC_symb_display_option = 0 then
	AC_symb_display_option = DISPLAY_PROJECTED
	if gs_symb_display_option = stDisplayOptions[2] then AC_symb_display_option = DISPLAY_OVERHEAD_PROJ
	if gs_symb_display_option = stDisplayOptions[3] then AC_symb_display_option = DISPLAY_SYMBOLIC
	if gs_symb_display_option = stDisplayOptions[4] then AC_symb_display_option = DISPLAY_OUTLINES
	if gs_symb_display_option = stDisplayOptions[5] then AC_symb_display_option = DISPLAY_OVERHEAD_ALL
	parameters AC_symb_display_option = AC_symb_display_option
else
	gs_symb_display_option = stDisplayOptions[min(max(1, AC_symb_display_option), vardim1(stDisplayOptions))]
	parameters gs_symb_display_option = gs_symb_display_option
endif

if GLOB_MODPAR_NAME = "gs_symb_show_projection_to" | AC_symb_show_projection_to = 0 then
	AC_symb_show_projection_to = PROJECTION_FLOOR_PLAN_RANGE
	if gs_symb_show_projection_to = stProjectionTypes[2] then AC_symb_show_projection_to = PROJECTION_DISPLAY_LIMIT
	if gs_symb_show_projection_to = stProjectionTypes[3] then AC_symb_show_projection_to = PROJECTION_ENTIRE_ELEMENT
	parameters AC_symb_show_projection_to = AC_symb_show_projection_to
else
	gs_symb_show_projection_to = stProjectionTypes[min(max(1, AC_symb_show_projection_to), vardim1(stProjectionTypes))]
	parameters gs_symb_show_projection_to = gs_symb_show_projection_to
endif


! ==============================================================================
! Geometry Calculation
! ==============================================================================
_strutLengthPlus	= abs(rm_ProfileHeight*tan(rm_PitchAngle))
_profileHeightZ		= rm_ProfileHeight/cos(rm_PitchAngle)


gosub "calcTopCut"
gosub "calcOverhangStrutSize"
gosub "calcSoffitSize"



! ------------------------------------------------------------------------------
goto "MasterEnd"
! ------------------------------------------------------------------------------

! ==============================================================================
! Subroutines
! ==============================================================================
! ------------------------------------------------------------------------------
"calcTopCut":
! ------------------------------------------------------------------------------
	topStrutSize	= rm_ProfileHeight*tan(rm_PitchAngle) - rm_CutEndPointDist/cos(rm_PitchAngle)
return


! ------------------------------------------------------------------------------
"calcOverhangStrutSize":
! ------------------------------------------------------------------------------
	if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
		overhangStrutSize = (rm_OverHang - rm_ProfileHeight*sin(rm_PitchAngle))/cos(rm_PitchAngle)
	else
		if rm_iRoofEdgeAngle = EDGE_VERTICAL then
			overhangStrutSize = rm_OverHang/cos(rm_PitchAngle)
		else
			if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
				overhangStrutSize = rm_OverHang/cos(rm_PitchAngle) - (rm_ProfileHeight/2)*tan(rm_PitchAngle)
			endif
		endif
	endif
return


! ------------------------------------------------------------------------------
"calcSoffitSize":
! ------------------------------------------------------------------------------
	soffitSize = 0
	if rm_bSoffit then
		if rm_iRoofEdgeAngle = EDGE_PERDENDICULAR then
			soffitSize = (rm_OverHang - rm_ProfileHeight*sin(rm_PitchAngle))/cos(rm_SoffitAngle)
		else
			if rm_iRoofEdgeAngle = EDGE_VERTICAL then
				soffitSize = rm_OverHang/cos(rm_SoffitAngle)
			else
				if rm_iRoofEdgeAngle = EDGE_RECTANGULAR then
					if abs(rm_PitchAngle) < EPS then
						soffitSize	= 0
						rm_bSoffit	= 0
					else
						soffitSize = (rm_OverHang - (rm_ProfileHeight/2)/sin(rm_PitchAngle))/cos(rm_SoffitAngle)
					endif
				endif
			endif
		endif
	endif
return

! ------------------------------------------------------------------------------
"MasterEnd":
! ------------------------------------------------------------------------------
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
! =============================================================================
! Localization
! =============================================================================
dim stGeometry[11]
	stGeometry[1]	= `Угол Наклона`
	stGeometry[2]	= `Конструктивная Длина Пролета`
	stGeometry[3]	= `Длина Элемента`
	stGeometry[4]	= `Ширина Профиля`
	stGeometry[5]	= `Высота Профиля`
	stGeometry[6]	= `Горизонтальная Проекция`
	stGeometry[7]	= `Относительная Высота Стропил`
	stGeometry[8]	= `Софит`
	stGeometry[9]	= `Угол Софита`
	stGeometry[10]	= `Свес`
	stGeometry[11]	= `Угол Торца Крыши`

dim stCutting[6]
	stCutting[1]	= `Углы Соединений`
	stCutting[2]	= `Угол между Соединяющими Элементами`
	stCutting[3]	= `Угол Соединения с Элементом`
	stCutting[4]	= `Смещение Среза`
	stCutting[5]	= `Расстояние от Среза до Оси`
	stCutting[6]	= `Расстояние от Среза до Окончания`

! =============================================================================
! Variables
! =============================================================================

pageStartY		= 5
xInfieldSmall	= 70
xInfieldBig		= 90
yInfield		= 19
yOutfield		= 16

! =============================================================================
! Tabpages
! =============================================================================

TABID_ROOT					= -1
TABID_GEOMETRY				= 1
TABID_CUTTING				= 2

call "RoofMaker_macro"	parameters all	iObjectType				= 10,
										bEnableRafter			= bEnableRafter,
										bEnableSymbol			= bEnableSymbol,
										bEnableResolution		= bEnableResolution,
										gs_iDisplayStandards	= gs_iDisplayStandards,
										iUiType					= 1

ui_page TABID_GEOMETRY, TABID_ROOT, `Геометрия`, "uiTab_Dimension_flat(1)"
if gs_ui_current_page = TABID_GEOMETRY then
	gosub "geometryPage"
endif

ui_page TABID_CUTTING, TABID_ROOT, `Подрезка`, "uiTab_RMCut_flat(1)"
if gs_ui_current_page = TABID_CUTTING then
	gosub "cuttingPage"
endif

! ======================================================================
end
! ======================================================================

"geometryPage":
! =============================================================================
! Geometry
! =============================================================================

	picX			= 340
	picY			= pageStartY + 20

	if rm_bSoffit then
		ui_pict 15,	picX-245, picY+33, 222, 147, 1									!rafterspec_pict5.png
	else
		ui_pict 14,	picX-245, picY+33, 222, 147, 1									!rafterspec_pict4.png
	endif
	ui_pict 16,	picX-93, picY-12, 103, 45, 1										!rafterspec_pict6.png

	ui_pict 1, picX-15, picY+99, 24, 17, 1											!ui_rm_angle_1.png
	ui_infield "rm_PitchAngle", picX+12, picY+96, xInfieldBig, yInfield				ui_tooltip stGeometry[1]

	ui_infield "rm_ProjectedLength", picX-20, picY+177, xInfieldBig, yInfield		ui_tooltip stGeometry[2]
	ui_infield "rm_structuralLength", picX-338, picY+107, xInfieldBig, yInfield		ui_tooltip stGeometry[3]
	ui_infield "rm_ProfileWidth", picX+12, picY+16, xInfieldBig, yInfield			ui_tooltip stGeometry[4]
	ui_infield "rm_ProfileHeight", picX+12, picY-15, xInfieldBig, yInfield			ui_tooltip stGeometry[5]
	!ui_infield "A", picX-154, picY+189, xInfieldBig, yInfield						ui_tooltip stGeometry[6]
	ui_infield "rm_Height", picX-20, picY+62, xInfieldBig, yInfield					ui_tooltip stGeometry[7]

	ui_infield{3} "rm_bSoffit", picX-338, picY+130, xInfieldBig, yInfield,
		7, "", 0, 0,
		0,0,0,0,
		0, stGeometry[8],	0,
		0, stGeometry[8],	1	ui_tooltip stGeometry[8]

	ui_infield "rm_SoffitAngle", picX-338, picY+154, xInfieldBig, yInfield			ui_tooltip stGeometry[9]
	ui_infield "rm_OverHang", picX-338, picY+177, xInfieldBig, yInfield				ui_tooltip stGeometry[10]

	ui_outfield stGeometry[11], 4, pageStartY + 7, 94, yOutfield
	ui_infield{3} "rm_iRoofEdgeAngle", 99, pageStartY + 1, 55, 30,
		2, 2, 3, 1,																	!pict_roof edge_angle_1.png
		44,25,44,25,
		1, stEdgeType[1],	1,
		2, stEdgeType[2],	2,
		3, stEdgeType[3],	3 ui_tooltip stGeometry[11]

return

"cuttingPage":
! =============================================================================
! Cutting
! =============================================================================

	! -------- Joining Angles ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[1], 10, pageStartY, 183, yOutfield
	ui_style 0, 0

	ui_pict 11,	24, pageStartY + 83, 54, 80, 1										!rafterspec_pict1.png

	ui_infield "rm_VerticalTrimmerAngle", 83, pageStartY + 97, xInfieldBig, yInfield	ui_tooltip stCutting[3]
	ui_infield "rm_JointAngle", 83, pageStartY + 122, xInfieldBig, yInfield				ui_tooltip stCutting[2]

	ui_separator 194, pageStartY, 194, pageStartY + 230


	! -------- Cut Offset ----------------------------------------------------------------------------------

	ui_style 0, 1
	ui_outfield stCutting[4], 208, pageStartY, 338-173, yOutfield
	ui_style 0, 0

	ui_pict 12,	pageStartY + 228, 122, 39, 77, 1											!rafterspec_pict2.png
	ui_pict 13,	pageStartY + 339, 122, 49, 79, 1											!rafterspec_pict3.png

	ui_infield "rm_CutAxisDist", 213, pageStartY + 62, xInfieldBig, yInfield				ui_tooltip stCutting[5]
	ui_infield "rm_CutEndPointDist", 334, pageStartY +62, xInfieldBig, yInfield				ui_tooltip stCutting[6]

return
]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
	<Macro>
		<MName><![CDATA["RoofMaker_macro"]]></MName>
		<MainGUID>30FD2A4F-F31A-4D2A-88EF-73C19FC6BFB6</MainGUID>
	</Macro>
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<Keywords SectVersion="1" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Keywords>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>1AB64611-2590-44BB-BDC1-7C9DC8CD918B</MainGUID>
		<Version>19</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
