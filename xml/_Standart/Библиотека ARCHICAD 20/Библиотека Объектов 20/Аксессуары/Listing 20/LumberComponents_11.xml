<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="false" MainGUID="5997899B-BF9A-4262-87A1-24DF0D904EAE" MigrationValue="Normal" Owner="0" Signature="1297307981" Version="38">
<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
!!--------------------------!!
!!---- Operation Method ----!!
!!--------------------------!!

If not(op_met) Then
	gosub 1000+pack_type
Else
	If vardim2(wood_pack)>2 Then
		For i=1 To vardim1(wood_pack)
			H=wood_pack[i][1]
			B=wood_pack[i][2]
			L=wood_pack[i][3]
			QTY=1

			gosub 1000+pack_type
		Next i
	EndIf
EndIf

End
!-----------------------------

1001:
!! Pack Type : USA

SQUOT="'"
DQUOTE='"'
TOL=0.0625          ! cut length tolerance is 1/16 in. 05/21 fl
MTI=1000/25.4       ! meter to inches
MTF=MTI/12          ! meter to feet

WI=B*MTI
HI=H*MTI
if (WI-INT(WI))>TOL THEN WI=INT(WI)+1   ! width is rounded up to nearest inch
if (HI-INT(HI))>TOL THEN HI=INT(HI)+1   ! height is rounded up to nearest inch

LINFT=L*MTF
LININ=LINFT-int(LINFT)
LININ=LININ*12
LFRAC=LININ-INT(LININ)
!
! cut length is rounded up to the nearest quarter in.
!
IF LFRAC>(0.75+TOL) THEN
	IF LININ > 10.5 THEN    !05/21 FL
		LININ=0
		LINFT=LINFT+1
	ELSE
		LININ=INT(LININ)+1
	ENDIF
	LQTR=""
ELSE
	IF LFRAC>(0.5+TOL) THEN
		LININ=INT(LININ)
		LQTR=" 3/4"
	ELSE
		IF LFRAC>(0.25+TOL) THEN
			LININ=INT(LININ)
			LQTR=" 1/2"
		ELSE
			IF LFRAC>(TOL) THEN
				LININ=INT(LININ)
				LQTR=" 1/4"
			ELSE
				LININ=INT(LININ)
				LQTR=""
			ENDIF
		ENDIF
	ENDIF
ENDIF

!++++
BDFT=HI*WI*LINFT/12*QTY
WSTR=STR(WI,2,0)
HSTR=STR(HI,2,0)
LSTRF=STR(LINFT,2,0)
LSTRI=STR(LININ,2,0)
CUTSTR=WSTR+" x"+HSTR+" x "+LSTRF+SQUOT+"-"+LSTRI+LQTR+DQUOTE
COMPONENT "LUMBER OVERALL",BDFT,"Bdft",1,"01","80000"
COMPONENT CUTSTR,QTY,unit[pack_type],1,CUTSTR,"80000"

return

1002:
!! Pack Type : INT

Database_set "AC_10_INT"

volume=B*H*L*QTY
cname=str(B*1000,1,0)+"/"+str(H*1000,1,0)+" - "+str(L*1000,3,0)

COMPONENT cname,L*1000,unit[pack_type],1,"001","80000"
COMPONENT "LUMBER OVERALL",volume,"m3",1,"001","80000"

return
]]>
</Script_PR>

<ParamSection SectVersion="26" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<Version>26</Version>
		<AutoHotspots>false</AutoHotspots>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
		<SymbolColor>0</SymbolColor>
	</ParamSectHeader>
	<Parameters>
		<Length Name="B">
			<Description><![CDATA["Width"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="L">
			<Description><![CDATA["Length"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="H">
			<Description><![CDATA["Profile Height"]]></Description>
			<Value>0</Value>
		</Length>
		<Integer Name="QTY">
			<Description><![CDATA["quantity"]]></Description>
			<Value>1</Value>
		</Integer>
		<Boolean Name="op_met">
			<Description><![CDATA["Operation Method"]]></Description>
			<Value>0</Value>
		</Boolean>
		<Length Name="wood_pack">
			<Description><![CDATA["Wood Pack"]]></Description>
			<ArrayValues FirstDimension="1" SecondDimension="2">
				<AVal Column="1" Row="1">0</AVal>
				<AVal Column="2" Row="1">0</AVal>
			</ArrayValues>
		</Length>
		<Integer Name="pack_type">
			<Description><![CDATA["Pack Type"]]></Description>
			<Value>1</Value>
		</Integer>
		<String Name="unit">
			<Description><![CDATA["Unit"]]></Description>
			<ArrayValues FirstDimension="2" SecondDimension="0">
				<AVal Row="1"><![CDATA["ea"]]></AVal>
				<AVal Row="2"><![CDATA["мм"]]></AVal>
			</ArrayValues>
		</String>
	</Parameters>
</ParamSection>

<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>8F157ABA-E5C9-48B6-9DCE-68F0F02A808E</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_3D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_3D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
values "pack_type" 1,2
]]>
</Script_VL>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

</Symbol>
