<?xml version="1.0" encoding="UTF-8"?>
<Symbol IsArchivable="false" IsPlaceable="true" MainGUID="CDDCE489-1CBC-422D-9707-EC79A68633D9" MigrationValue="Normal" Owner="0" Signature="1381194061" Version="43">
<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_2D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
!   РАЗРАБОТАЛ  С. А. ТИТОВ
!        МОСКВА, 1999
!   Изменил Д.А. Ожигин
!        МОСКВА, 2003


DEFINE STYLE "ROOM" AC_TextFont_1,ROOM_LSIZE,5,0
STYLE "ROOM"

tl=stw(contentZoneProperty[ORDER_ROOM_AREA][iDataValue])*0.001*GLOB_SCALE

if iTypeDisplay = TYPE_1  then
	text2 0, 0, contentZoneProperty[ORDER_ZONE_NUMBER][iDataValue]
	if abs(Rcir) < eps then
		CIRCLE2 0,0,ROOM_LSIZE*0.0015*GLOB_SCALE
	else
		CIRCLE2 0,0,Rcir
	endif
endif

if iTypeDisplay = TYPE_2  then
	text2 0, ROOM_LSIZE*0.0007*GLOB_SCALE, contentZoneProperty[ORDER_ZONE_NUMBER][iDataValue]
	text2 0, -ROOM_LSIZE*0.0007*GLOB_SCALE, contentZoneProperty[ORDER_ROOM_AREA][iDataValue]
	line2 -tl/2, 0, tl/2,0
endif

if iTypeDisplay = TYPE_3 then
	text2 0, ROOM_LSIZE*0.0007*GLOB_SCALE, contentZoneProperty[ORDER_ROOM_AREA][iDataValue]
	line2 -tl/2, 0, tl/2,0
endif
]]>
</Script_2D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_VL SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
values "mt" stTypeDisplay
values "iTypeDisplay" 1,2,3

if GLOB_MODPAR_NAME = "mt" then
	iTypeDisplay = TYPE_1
	if mt = stTypeDisplay[2] then iTypeDisplay	= TYPE_2
	if mt = stTypeDisplay[3] then iTypeDisplay	= TYPE_3
	parameters iTypeDisplay = iTypeDisplay
else
	mt = stTypeDisplay[min(max(1,iTypeDisplay),vardim1(stTypeDisplay))]
	parameters mt = mt
endif

if iTypeDisplay <> TYPE_1 then
	lock "Rcir"
	hideparameter "Rcir"
endif


! ==============================================================================
! Content for BIMx Pro XMLs
!	listZoneProperty[][1]	- Data Description
!	listZoneProperty[][2]	- Data Value
! input:
!    contentZoneProperty
! ==============================================================================
dim listZoneProperty[][2]

iGet = 1
for iPut = 1 to maxRowNumber
	if bParam[iPut] then
		listZoneProperty[iGet][1] = contentZoneProperty[iPut][1]
		listZoneProperty[iGet][2] = contentZoneProperty[iPut][2]
		iGet = iGet + 1
	endif
next iPut
parameters listZoneProperty = listZoneProperty
! ==============================================================================


]]>
</Script_VL>

<ParamSection SectVersion="22" SectionFlags="0" SubIdent="0">
	<ParamSectHeader>
		<AutoHotspots>false</AutoHotspots>
		<WDLeftFrame>0</WDLeftFrame>
		<WDRightFrame>0</WDRightFrame>
		<WDTopFrame>0</WDTopFrame>
		<WDBotFrame>0</WDBotFrame>
		<LayFlags>65535</LayFlags>
		<WDMirrorThickness>0</WDMirrorThickness>
		<WDWallInset>0</WDWallInset>
	</ParamSectHeader>
	<Parameters>
		<Length Name="A">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<Length Name="B">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>1</Value>
		</Length>
		<String Name="ROOM_NAME">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="ROOM_NUMBER">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value><![CDATA[""]]></Value>
		</String>
		<RealNum Name="ROOM_LSIZE">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>2</Value>
		</RealNum>
		<RealNum Name="ROOM_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<Length Name="ROOM_PERIM">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Length Name="ROOM_HOLES_PRM">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Length Name="ROOM_WALLS_PRM">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Integer Name="ROOM_CORNERS">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Integer>
		<Integer Name="ROOM_CONCAVES">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Integer>
		<RealNum Name="ROOM_WALLS_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<Length Name="ROOM_DOORS_WID">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<RealNum Name="ROOM_DOORS_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<Length Name="ROOM_WINDS_WID">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<RealNum Name="ROOM_WINDS_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<Length Name="ROOM_BASELEV">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Length Name="ROOM_FL_THICK">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<Length Name="ROOM_HEIGHT">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<RealNum Name="ROOM_NET_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<Length Name="ROOM_NET_PERIMETER">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</Length>
		<RealNum Name="ROOM_WALL_EXTR_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_CURTAINWALL_EXTR_AREA">
			<Description><![CDATA["Вычитаемая Площадь Навесных Стен"]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_COLUMN_EXTR_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_FILL_EXTR_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_LOW_EXTR_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_TOTAL_EXTR_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_REDUCED_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_AREA_FACTOR">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>1</Value>
		</RealNum>
		<RealNum Name="ROOM_CALC_AREA">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_VOLUME">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_BOUNDARY_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_TOP_SURFACE">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_BOT_SURFACE">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_ROOF_TOP_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_ROOF_BOT_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_SLAB_TOP_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_SLAB_BOT_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_BEAM_TOP_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_BEAM_BOT_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_WALL_IN_TOP_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_WALL_IN_BACK_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<RealNum Name="ROOM_WALL_IN_SIDE_SURF">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Value>0</Value>
		</RealNum>
		<String Name="listZoneProperty">
			<Description><![CDATA[""]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<ArrayValues FirstDimension="1" SecondDimension="2">
				<AVal Column="1" Row="1"><![CDATA[""]]></AVal>
				<AVal Column="2" Row="1"><![CDATA[""]]></AVal>
			</ArrayValues>
		</String>
		<String Name="AC_TextFont_1">
			<Description><![CDATA["Шрифт текста 1"]]></Description>
			<Fix/>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value><![CDATA["Geneva CY"]]></Value>
		</String>
		<String Name="U">
			<Description><![CDATA["Категория производства"]]></Description>
			<Value><![CDATA[""]]></Value>
		</String>
		<String Name="mt">
			<Description><![CDATA["Тип маркировки"]]></Description>
			<Value><![CDATA["номер в круге"]]></Value>
		</String>
		<Integer Name="iTypeDisplay">
			<Description><![CDATA["Тип маркировки"]]></Description>
			<Flags>
				<ParFlg_Hidden/>
			</Flags>
			<Value>1</Value>
		</Integer>
		<Length Name="Rcir">
			<Description><![CDATA["Радиус круга (0 - авт.)"]]></Description>
			<Value>0</Value>
		</Length>
		<Length Name="Z17">
			<Description><![CDATA["Высота панелей"]]></Description>
			<Value>0.6</Value>
		</Length>

		<!-- _sp17: PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK ===== PARAMETER BLOCK -->

		<Title Name="_sp17">
			<Description><![CDATA["Вид отделки"]]></Description>
		</Title>
		<Material Name="VOTS">
			<Description><![CDATA["Потолка"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>18</Value>
		</Material>
		<Material Name="VOTW">
			<Description><![CDATA["Стен\перегородок"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>19</Value>
		</Material>
		<Material Name="VOTP">
			<Description><![CDATA["Панелей"]]></Description>
			<Flags>
				<ParFlg_Child/>
			</Flags>
			<Value>90</Value>
		</Material>
	</Parameters>
</ParamSection>

<Picture MIME="image/png" SectVersion="19" SectionFlags="0" SubIdent="0" length_in_bytes="539" platform="Win">
	<![CDATA[
	696D6167652F706E670089504E470D0A1A0A0000000D494844520000007D0000
	008001030000001C42F4A100000006504C5445FFFFFFA50F02E3E73116000001
	C649444154785EE595416EC2301045C718912CA2067659D5F40674D745A5E428
	1C8103A0C4552F16D48B18F50291BA412AC21D3B89271EA8BA6DD54113398F98
	FFC7191BF86591EB18A8AE315320F0EE399A8029A793368E6E27C0CF2F08484F
	1302990782949798F423347AC28C9ECD021806B3112C488C3DAA492496594318
	30FD82544997544977760D98C339011DFB0268635F001507EB708D8AD8725011
	486F03CD965F088BF22E85597820AD018189C0572113DB41624F38EAC14CD933
	E4989018E9C0A2B4175098901BE18B2DDF111C11A811BC5CA06C2D4069403BD0
	4003257EC0F620ADF1A606A5C508F6A03C900328CE78E380FA347EC9960EEC21
	D7EAC3F8425727C8DB33A67AE3E0D5C0760AEEA5F1CBF988E080C0140378C05A
	0F27AC0CFE1E186A213056FB2D5831406B7A135423A84111E8DF1C8134BC5B39
	BC4AF77DA99B0032D71FE5D106301F3A8840E831698407D4857D4BCD1C909801
	0C9D1CFA5400C5CF60CEB747FAE38E2A6E6FC23581CDD546E6A0E28781E6C7C5
	37078AA452026767601B3927AB646043BEA8249A3B3122745063FA825463DD82
	2D03EC8019D2CCB22420BC813BA0D8F5178AACB7452151388769D420BA08C8AE
	BEFEE3FB8FF1058170E68B528D50870000000049454E44AE426082
	]]>
</Picture>

<Ancestry SectVersion="1" SectionFlags="0" SubIdent="0" Template="false">
	<MainGUID>F938E33A-329D-4A36-BE3E-85E126820996</MainGUID>
	<MainGUID>B176ABF1-5813-478F-926B-28EE7C5DC1F7</MainGUID>
	<MainGUID>4FD10D67-2F29-4844-A65A-6597589B0CB5</MainGUID>
	<MainGUID>A73622DE-E40A-4E63-ADB7-52D13422BD06</MainGUID>
</Ancestry>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_1D SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[
eps = 0.0001

! mt
dim stTypeDisplay[3]
	stTypeDisplay[1] = "номер в круге"
	stTypeDisplay[2] = "номер и площадь"
	stTypeDisplay[3] = "только площадь"

! iTypeDisplay
TYPE_1		= 1
TYPE_2		= 2
TYPE_3		= 3

! Zone Content
! ==============================================================================
! Content
! 1 : Zone No.				->	title
! 2 : Room Area				->	title + value with unit
! ==============================================================================

maxRowNumber = 2

dim contentZoneProperty[2][2]
for i = 1 to maxRowNumber
	for j = 1 to 2
		contentZoneProperty[i][j] = ""
	next j
next i

ORDER_ZONE_NUMBER	= 1
ORDER_ROOM_AREA		= 2

iDataName	= 1
iDataValue	= 2

dim bParam[2]
	bParam[ORDER_ZONE_NUMBER]		= 1
	bParam[ORDER_ROOM_AREA]			= iTypeDisplay <> TYPE_1

if bParam[ORDER_ZONE_NUMBER] then
	contentZoneProperty[ORDER_ZONE_NUMBER][iDataName] = "номер"		!`Zone Number`
	contentZoneProperty[ORDER_ZONE_NUMBER][iDataValue] = ROOM_NUMBER
endif
if bParam[ORDER_ROOM_AREA] then
	contentZoneProperty[ORDER_ROOM_AREA][iDataName] = "площадь"		! `Area`
	_contArea = str(ROOM_AREA,4,2)
	if iTypeDisplay = TYPE_3 then
		_contArea = _contArea + " м2"
	endif
	contentZoneProperty[ORDER_ROOM_AREA][iDataValue]  = _contArea
endif
]]>
</Script_1D>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_PR SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_PR>

<!-- GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT ===== GDL SCRIPT -->

<Script_UI SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Script_UI>

<Comment SectVersion="20" SectionFlags="0" SubIdent="0">
<![CDATA[]]>
</Comment>

<CalledMacros SectVersion="2" SectionFlags="0" SubIdent="0">
</CalledMacros>

<Copyright SectVersion="1" SectionFlags="0" SubIdent="0">
	<Author>GRAPHISOFT</Author>
	<License>
		<Type>CC BY-ND</Type>
		<Version>3.0</Version>
	</License>
</Copyright>

<MigrationTable SectVersion="1" SectionFlags="0" SubIdent="0">
	<MigrationTableElement>
		<MainGUID>82009190-B407-4B0D-ABB5-C3A3B5B4AAD4</MainGUID>
		<Version>19</Version>
		<Name><![CDATA[""]]></Name>
		<AutoMigration>true</AutoMigration>
	</MigrationTableElement>
</MigrationTable>

</Symbol>
